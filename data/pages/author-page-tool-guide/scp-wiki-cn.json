{
  "title": "放在人事里的懒人页面检索工具的使用方法",
  "content": "[[module css]]\n\n.infobox {\n display:inline-box;\n overflow:hidden;\n position:fixed;\n right: 1em;\n bottom: 2em;\n width: 21%;\n width: calc(50vw - 520px);\n min-width: 250px;\n height:23%;\n padding:1%;\n float:top; \n box-shadow: 0px 4px 8px 0 rgba(0, 0, 0, 0.2), 0px 6px 20px 0 rgba(0, 0, 0, 0.19);\n background-color:#ffffff;\n opacity: 1;\n transition: all 0.5s ease-out;\n}\n\n.infobox:hover {\n  color:rgba(0, 0, 0, 0.5);\n  background-color:rgba(255, 255, 255, 0.5);\n}\n\n.preview{\n color:grey;\n width:100%;\n display: inline-block;\n padding-left:1%;\n transition: box-shadow 1s ease-out;\n}\n\n.preview:hover{\n box-shadow: 0px 4px 10px 0 rgba(0, 0, 0, 0.19);\n transition: box-shadow 0.3s ease-out;\n}\n\n.preview.yes:hover, .preview.true:hover{\n  background: url('http://scpsandboxcn.wikidot.com/local--files/asriel3/logo.png') 80% 50% fixed no-repeat;\n}\n\n.preview .span { \n opacity: 0;\n pointer-events: none;\n transition: all 0.3s ease-in-out;\n overflow:hidden;\n text-overflow:ellipsis;\n position:fixed;\n z-index: 11;\n right: 1em;\n bottom: 2em;\n width:21%;\n width: calc(50vw - 520px);\n min-width: 250px;\n height:23%;\n padding:1%;\n float:top; \n color:grey;\n text-size:0.9em;\n box-shadow: 0px 4px 8px 0 rgba(0, 0, 0, 0.2), 0px 6px 20px 0 rgba(0, 0, 0, 0.19);\n font-family:微软细黑,Segoe UI Light,Verdana,sans-serif;\n}\n\n.preview:hover .span { \n opacity: 1;\n background-color:#ffffff;\n}\n\n.imagepre{\n background:#fff;\n max-width:19%;\n max-height:40%;\n position:fixed;\n right: 2em;\n bottom:calc(23% + 3em);\n box-shadow: 0px 4px 8px 0 rgba(0, 0, 0, 0.2), 0px 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n@media screen and (max-width:992px) {\n    .preview .span{\n    \tdisplay: none;\n    }\n    .infobox {\n    \tposition: relative;\n    \tmargin: 1em auto;\n    \tright: 0;\n    \tbottom: 0;\n    }\n}\n\n#page-options-container {\n background: transparent;\n position: relative;\n z-index: 10;\n}\n\n#action-area { position: relative; z-index: 20; }\n\n[[/module]]\n\n\n\n\n\n\n[[>]]\n[[module rate]]\n[[/>]]\n\n\n\n+ 前言\n\n[[div style=\"float:right;margin-left:3em\"]]\n[[toc]]\n[[/div]]\n许多作者希望能在自己的人事档案中实现高级功能，但苦于Module代码较为复杂。故此，笔者提供了使用方式较为简易的工具，可被放在您的人事档案中，并实现以下功能：\n* 在您的人事档案中展示作品一览表，并且会在您发布新页面的时候自动、实时更新。\n* 将作品一览表归类显示。\n* 在列表中，可以一眼看到所有页面的分数、评论数、最新评论由谁在什么时候发布、最后一次编辑是谁。\n* 可按照分数从高到低排序。\n* 也可以按照发布时间的排序，或者随机顺序（每分钟刷新），等等。\n* 可以用来自检，如果有其他人编辑了您的页面，您会马上看到\n\n方法简便，复制粘贴即可。由于是懒人工具，故列表的格式等是固定的；自由度远不如使用Module代码好，这一点敬请谅解。\n> 重要：本文旨在向需要在人事中使用工具的中文站作者提供协助。如果您需要了解如何翻译使用了本工具的英文站人事档案，请[[[author-page-tool|移步此处]]]。\n\n+ 懒人作者页\n++ 直接显示所有的原创\n> @@[[include component:author-page order=created_at]]@@\n这么做会生成你所有的原创和翻译的列表，按照发布时间排序。同时会显示得分、评论数、最后编辑、评论的用户与时间。负分页面、补充材料、段落、样版不会显示。同时，右下角悬浮窗会显示作者的信息，并且在鼠标悬停于某一作品上的时候，显示详情。效果如下。\n[[collapsible show=\"[      点此查看       ]\" hide=\"[       隐藏       ]\"]]\n[[div class=\"infobox\"]]\n\n[[module Listpages category=\"-fragment -component\" date=\"last 24 hours\" rating=\">0\" order=\"created_at\" tag=\"-补充材料 -掩藏页 -作者\" limit=\"1\" order=\"random\"]]\n= **[[[*%%link%%|随机作品/翻译传送门]]]**\n\n= {{**[[*user W Asriel]]**}}与{{**[[*user Croquembouche]]**}}开发\n[[/module]]\n[[module Countpages category=\"-fragment -component\" date=\"last 24 hours\" rating=\">0\" order=\"created_at\" tag=\"-补充材料 -掩藏页 -作者\"]]\n= 过去24小时，共%%total%%篇\n[[/module]]\n[[/div]]\n\n-----\n[[=]]\n++* 原创和翻译\n[[/=]]\n-----\n[[module ListPages category=\"-fragment -component\" date=\"last 24 hours\" rating=\">0\" order=\"created_at\" limit=\"5\" tag=\"-补充材料 -掩藏页 -作者\"]]\n[[div class=\"preview yes\"]]\n**%%title_linked%%**\n +**{{%%rating%%}}**@@   @@^^...^^ **{{%%comments%%}}**\n//最新评论：// **{{%%commented_by%%}}** //于// **{{%%commented_at|%D %H:%M%%}}**\n//最新编辑：// **{{%%updated_by%%}}** //于// **{{%%updated_at|%D %H:%M%%}}**\n[[div class=\"span\"]]\n[[image :first class=\"imagepre\"]]\n%%preview%%\n##000000|//标签：//## %%tags%%\n[[/div]]\n[[/div]]\n[[/module]]\n……\n……\n\n[[/collapsible]]\n\n++ 非本人创建的页面\n\n当页面不是你本人创建的时候，上述模块便无法显示它。你需要在之后继续添加以下代码：\n> @@[[include component:author-page-collab@@\n> @@name=downvoted |@@\n> @@written_by=页面作者（选填，若不填，将此行删去） |@@\n> @@note=你想额外说明的内容（选填，若不填，将此行删去） |@@\n> @@background=yes |@@\n> @@image=yes | @@ (//注：对于这两行的说明，请见下文“自定义内容”//)\n> @@]]@@\n这会让你的作者页底部出现一个新的条目。其中，##red|name=##后面加上的应该是地址栏当中的名字，举例，输入##red|downvoted##而不是“差评”。示意如下：\n-----\n[[=]]\n++* 更多页面\n[[/=]]\n-----\n[[include component:author-page-collab\nname=downvoted |\nbackground=yes |\nwritten_by=页面作者（选填，若不填，将此行删去） |\nnote=你想额外说明的内容（选填，若不填，将此行删去） |\n]]\n\n++ 自定义内容\n“懒人作者页”主体模组共有五个自定义变量，分别如下：\n> @@[[include component:author-page@@ \n> @@order=created_at |@@\n> @@translation=yes |@@\n> @@background=yes |@@\n> @@image=yes |@@\n> @@sortbar=yes |@@\n> @@]]@@\n\n其中，##red|order=##后面的内容是页面排序顺序。有以下几种可以选择：\n* name 页面名称顺序\n* rating desc 分数降序（高的在前面）\n* random 随机顺序\n* created_at 发布顺序\n* created_at desc 发布时间降序（即新的在最前面）\n* updated_at desc 最后一次编辑的顺序\n\n##red|translation=yes##代表着在页面中显示你的翻译。如果不加这一行，那么只会显示你的所有原创。[[footnote]]即，translation变量的任何输入（也就是把yes换成任何东西）都会使得作者页显示所有翻译。[[/footnote]]\n\n##red|background=yes##代表着被鼠标选中的条目会出现一个基金会logo的背景图。如果你更喜欢干净清爽的感觉，可以不加这一行。[[footnote]]即，background=yes或background=true时，显示背景；其他情况则不显示。[[/footnote]]两种风格对比如下：\n[[module ListPages name=\"author-page-tool-guide\"]]\n[[div class=\"preview yes\"]]\n**%%title_linked%%**\n +**{{%%rating%%}}**@@   @@^^...^^ **{{%%comments%%}}**\n有背景图（background=yes）\n[[/div]]\n[[/module]]\n[[module ListPages name=\"author-page-tool-guide\"]]\n[[div class=\"preview\"]]\n**%%title_linked%%**\n +**{{%%rating%%}}**@@   @@^^...^^ **{{%%comments%%}}**\n无背景图（background=no），或者不加这一行\n[[/div]]\n[[/module]]\n\n##red|image=yes##代表着被鼠标选中的条目预览中，会显示该条目里的第一张图片。这会降低页面的加载速度（因为它需要加载图片预览），所以如果你喜欢干净清爽一点，可以不加这一行。[[footnote]]即，image变量的任何输入（也就是把yes换成任何东西）都会让你的作者页显示图片预览。[[/footnote]]效果如下。\n[[module ListPages name=\"scp-cn-999\"]]\n[[div class=\"preview yes\"]]\n**%%title_linked%%**\n +**{{%%rating%%}}**@@   @@^^...^^ **{{%%comments%%}}**\n有图片预览（image=yes）\n[[div class=\"span\"]]\n[[image :first class=\"imagepre\"]]\n%%preview%%\n##000000|//标签：//## %%tags%%\n[[/div]]\n[[/div]]\n[[/module]]\n\n[[module ListPages name=\"scp-cn-999\"]]\n[[div class=\"preview yes\"]]\n**%%title_linked%%**\n +**{{%%rating%%}}**@@   @@^^...^^ **{{%%comments%%}}**\n无图片预览（不加image那一行）\n[[div class=\"span\"]]\n%%preview%%\n##000000|//标签：//## %%tags%%\n[[/div]]\n[[/div]]\n[[/module]]\n\n##red|sortbar=yes##代表在页面顶部会显示“时间顺序 | 最新发布 | 分数排序 | 最近编辑”字样，可以对文档进行一键排序。默认值为yes。若不需要这些用来排序的链接，请将这行代码改成##red|sortbar=no##。\n\n+ 页面自检工具\n++ 使用方法\n要使用页面自检工具，请在文档中加入以下代码：\n> @@[[include component:author-page-tool]]@@\n这会在保存页面之后产生一个列表。内容为由你创建的页面，比如原创和翻译。默认设置时，负分页面、补充材料、段落、样版不会显示。分数从高到低排列，样子如下。\n\n[[module ListPages order=\"rating desc\" category=\"-fragment -component\" separate=\"no\" limit=\"3\"]]\n**%%title_linked%%**\n##grey|**{{[+%%rating%%](+[[#expr (%%rating_votes%%+%%rating%%)/2]]/-[[#expr (%%rating_votes%%-%%rating%%)/2]])}}** **{{%%comments%%}}**[[size 0.9em]]评论 / 最近评论 {{**%%commented_by%%**}} {{**%%commented_at|%y-%m-%d %H:%M%%**}} 最近编辑 {{**%%updated_by%%**}} {{**%%updated_at|%y-%m-%d %H:%M%%**}}[[/size]]##\n[[/module]]\n……\n……\n\n++ 常用功能\n**展示你的所有原创和翻译：**使用默认代码即可。默认分数从高到低排。补充材料、掩藏页（实验等等）不显示。\n\n**但是按照页面名称顺序：**\n> @@[[include component:author-page-tool order=name]]@@\n如果要随机顺序，把##red|name##改成##red|random##。若要按发布顺序，则改成##red|created_at##。若要按发布时间降序（即新的在最前面），则改成##red|created_at desc##。若要按照最后一次编辑的顺序，改成##red|updated_at desc##。\n\n**看你创建的页面有没有被人改动过：**这么做会产生一个所有页面的列表（包括迭代页等等），但是按照最后一次编辑的时间排序，并且会显示编辑者的ID和头像，以方便一眼看到其他人的动作。\n> @@[[include component:author-page-tool order=updated_at desc|category=*|tag=-foo|default=0|note=最近编辑：{{**%%updated_by_linked%%**}} 时间：{{**%%updated_at%%**}}]]@@\n效果如下。\n[[module ListPages order=\"updated_at desc\" category=\"*\" separate=\"no\" limit=\"3\"]]\n**%%title_linked%%**\n##grey|最近编辑：{{**%%updated_by_linked%%**}} 时间：{{**%%updated_at%%**}}##\n[[/module]]\n……\n……\n\n**只显示迭代段落页：**以方便用来检查这些页面的状态。\n> @@[[include component:author-page-tool category=fragment]]@@\n\n\n**只展示原创SCP：**\n> @@[[include component:author-page-tool tag=+原创 +SCP]]@@\n若要展示所有原创，去掉##red|+SCP##即可。\n**只展示原创故事：**\n> @@[[include component:author-page-tool tag=+原创 +故事]]@@\n**展示其他的原创：**即，GoI格式，中心页，指导等等。\n> @@[[include component:author-page-tool tag=+原创 -故事 -scp|category=-fragment -component -wanderers]]@@\n该代码不会展示图书馆页面。若要一并展示图书馆页面，将##red|@@|category=-fragment -component -wanderers@@##去掉（分隔符|也要去掉）即可。\n**只展示原创图书馆页面：**\n> @@[[include component:author-page-tool category=wanderers|tag=+原创]]@@\n**展示翻译：**\n如果希望显示翻译，将代码里的##red|+原创##改为##red|-原创 -作者 -补充材料 -掩藏页##即可，其他不变。\n\n此方法可以应用于任何标签搜索，需要的标签前加上##red|+##，不需要的标签前加上##red|-##，中间用空格分开。如果想标签不限，用##red|tag=-foo##。举例，想展示自己原创的所有keter，则代码为##red|+原创 +keter##。使用此方法也可以检索补充材料、掩藏页等。\n@@@@\n@@@@\n@@@@\n\n**自定义小字颜色：**\n> @@[[include component:author-page-tool color=red]]@@\n可以将##red|red##替换为你想要的颜色，例如##red|green##或者##red|yellow##，也可以换成颜色代码，例如##red|FFB6C1##。百度“颜色代码”即可找到各种颜色对应的六位代码。\n\n**自定义小字内容：**\n如果想要显示自定义的小字内容，使用以下代码。\n> @@[[include component:author-page-tool default=0|note=你的自定义内容]]@@\n注：default=0操作会让所有的默认详细信息全部消失。如果将0改成其他数字，则会调整其字体大小。1为一倍，0为不显示，2为2倍，以此类推。\n\n将##red|你的自定义内容##改为你想要的内容，包括：文字，以及页面的其他数据。若要显示页面的其他数据，常用的还有：\n||~ 代码||~ 效果||\n|| %%created_at%% || 发布时间||\n|| %%tags%% ||页面的标签||\n|| %%size%% || 页面字数统计（含代码）||\n|| %%rating%% || 得分||\n|| %%rating_votes%% || 投票的总人数 ||\n|| %%preview%% || 预览前200个字（含迭代、JS的页面不会正常显示）||\n|| %%preview(n)%% || 预览前n个字，把n换成你要的预览字数||\n|| %%commented_at%%||最后一次评论时间||\n|| %%commented_by%%||最后一次评论是谁||\n|| %%commented_by_linked%% ||最后一次评论是谁，带wiki头像||\n|| %%updated_at%% || 最后一次编辑时间||\n|| %%updated_by%%|| 最后一次编辑是谁||\n|| %%updated_by_linked%% ||最后一次编辑是谁，带wiki头像||\n举例而言：如果需要字数统计，则在##red|note=##后面加上##red|共%%size%%个字##，保存之后，一个123字的文档标题下面的小字就会显示“共123个字”。\n\n如果你既想要原本的默认数据统计，也想要在后面加上自己的内容，那么：\n> @@[[include component:author-page-tool note=你的内容]]@@\n如果你想要除了页面标题之外什么都不显示，可以使用以下代码：\n> @@[[include component:author-page-tool default=0]]@@\n\n\n**多种参数组合：**\n如果什么都不加，就会显示默认的筛选方法、排序、小字等等。要满足前面讲到的多种变化，把所有变化所对应的条件放在一起即可。所谓对应的条件就是诸如“color=red”等字段。每段条件代码中间用“##red||##”分割，切记##red||##左右**不要有空格**。举例而言，假如需要只显示原创的同时，也要按照发布时间排序（新的在最前），并且小字需要是蓝色的，那么就分别将三种条件代码组合在一起，如下：\n> @@[[include component:author-page-tool tag=+原创|order=created_at desc|color=blue]]@@\n效果如下：\n[[module ListPages order=\"created_at desc\" category=\"-fragment -component\" tag=\"原创\" limit=\"3\" rating=\">15\"]]\n**%%title_linked%%**\n##blue|**{{[+%%rating%%](+[[#expr (%%rating_votes%%+%%rating%%)/2]]/-[[#expr (%%rating_votes%%-%%rating%%)/2]])}}** **{{%%comments%%}}**[[size 0.9em]]评论 / 最近评论 {{**%%commented_by%%**}} {{**%%commented_at|%y-%m-%d %H:%M%%**}} 最近编辑 {{**%%updated_by%%**}} {{**%%updated_at|%y-%m-%d %H:%M%%**}}[[/size]]##\n[[/module]]\n……\n……\n（趁机打广告）\n\n+ 重要提示\n1. 这个工具会显示由你创建的页面。一般来说不会有什么问题，但如果你代发过别人的作品、搬运翻译等等，那么这里也会一并显示。反之，如果你的作品是由别人代发的，这里便不会显示。\n2. 作者页必须由你本人创建。或者说，该工具只能在你本人创建的页面里生效。\n3. 当使用分隔符(##red||##)时，##red||##的左右不要有空格。\n4. 当你输入自定义参数，比如note=xxxxxxx时，你的xxxxxxx中不要出现半角分号（\"）、分隔符(|)，也不能只是一个空格。\n5. 如果你的作品很多，检索出来的列表可能会比较长，可以放在折叠块中。\n6. 除了本文中列出的修改方式之外，不建议尝试魔改代码，可能会导致预料不到的结果。\n\n+ 结语\n还有什么不懂的，或者发现错误，遭遇bug，有建议，可以私信[[*user W Asriel]]或者评论提出。\n\n[[collapsible show=\"彩蛋（后果自负）\" hide=\"隐藏\"]]\n\n> @@[[include component:author-page-tool default=0|note=[[span style=\"background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet);color:transparent;text-shadow: 0px 0px 2px #FFFFFF;box-shadow: 0px 0px 3px #888888;\"]]♡ **{{%%rating%%}}**  ^^...^^ **{{%%comments%%}}**  [[size 0.9em]]@ {{**%%commented_by%%**}}[[/size]]  “[[size 0.5em]]%%preview%%[[/size]]”[[/span]]]]@@\n\n[[/collapsible]]",
  "tags": [
    "原创",
    "文章"
  ],
  "author": "W Asriel",
  "created_at": "2018-08-02T20:36:21+00:00",
  "updated_at": "2022-09-11T05:43:29+00:00",
  "rating": 105,
  "_site": "scp-wiki-cn",
  "_fullname": "author-page-tool-guide"
}
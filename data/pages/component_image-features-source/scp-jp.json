{
  "title": "Image Features Source",
  "content": "[[iftags]]\n[[include :scp-jp:theme:black-highlighter-theme]]\n[[/iftags]]\n[[iftags +コンポーネント・バックエンド]]\n[[module css]]\n@import url(\"https://scp-jp.github.io/Black-Highlighter/css/min/normalize.min.css\");\n@import url(\"https://scp-jp.github.io/Black-Highlighter/css/min/black-highlighter.min.css\");\n#page-title, h1 {\n    text-align: center;\n}\n\nh1 {\n    color: rgb(var(--swatch-primary));\n}\n[[/module]]\n[[include :scp-jp:component:interwiki-style\n|priority=1\n|theme=https://scp-jp.github.io/Black-Highlighter/css/min/normalize.min.css\n]]\n\n[[include :scp-jp:component:interwiki-style\n|priority=2\n|theme=https://scp-jp.github.io/Black-Highlighter/css/min/black-highlighter.min.css\n]]\n\n\n[[=]]\n+ コードについては、Page Sourceをご確認ください。\n\n++ [[[component:image-features|メインのコンポーネントのリンクはこちら]]]\n[[/=]]\n[[/iftags]]\n[[module css]]\n.scp-image-block br {\n    display: none;\n}\n.scp-image-caption br {\n    display: initial;\n}\n.scp-image-block[data-feature=\"image-feature\"],\n.scp-image-block[data-feature=\"image-feature\"] img.image,\n.scp-image-block[data-feature=\"image-feature\"] iframe {\n    width: 100%;\n    min-width: initial !important;\n}\n.scp-image-caption.hidden {\n    display: none;\n}\n.scp-image-caption.show {\n    display: block;\n    width: 100%;\n}\n@media only screen and (max-width: 768px) {\n    .scp-image-block[data-feature=\"image-feature\"]:not(.nofloat) {\n     max-width: 40vw;\n    }\n}\n[[/module]]\n[!-- {$blur-reveal}\n[[module css]]\n.image-blur-reveal.nofloat {\n    width: {$width} !important;\n    max-width: 95vw;\n    min-width: initial;\n    margin: 0 auto;\n}\n.image-blur-reveal-image,\n.image-blur-reveal-image img {\n    overflow: hidden;\n}\n.image-blur-reveal-image img {\n    --blur-amount: calc({$blur-amount}rem);\n    background-color: rgb(var(--swatch-background,255,255,255));\n    -webkit-filter: blur(var(--blur-amount));\n     filter: blur(var(--blur-amount));\n    -webkit-transform: scale({$blur-amount});\n     transform: scale({$blur-amount});\n    -webkit-transition:\n     -webkit-filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     -webkit-transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     -webkit-filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     -webkit-transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     -webkit-filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n    -webkit-transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),;\n}\n.image-blur-reveal-image:hover img,\n.image-blur-reveal-image:active img {\n    -webkit-filter: blur(0);\n     filter: blur(0);\n    -webkit-transform: scale(1);\n     transform: scale(1);\n}\n.image-blur-reveal-image:focus-within img {\n    -webkit-filter: blur(0);\n     filter: blur(0);\n    -webkit-transform: scale(1);\n     transform: scale(1);\n}\n[[/module]]\n[[div_ class=\"image-blur-reveal scp-image-block [[#if {$float} | block-{$align} | nofloat ]]\" data-feature=\"image-feature\" style=\"max-width:{$width};\"]]\n    [[div_ class=\"image-blur-reveal-image\" style=\"max-width:{$width};\"]]\n    [[image {$url} {$alt}=\"{$alt-text}\"]]\n    [[/div]]\n    [[div_ class=\"scp-image-caption [[#if {$add-caption} | show | hidden ]]\"]]\n     {$caption}\n    [[/div]]\n[[/div]]\n[!----]\n[!-- {$slide-blur-reveal}\n[[module css]]\ndiv.image-blur-slide-reveal.nofloat {\n    width: {$width} !important;\n    max-width: 95vw;\n    min-width: initial;\n    margin: 0 auto;\n}\ndiv.image-blur-slide-reveal-image,\ndiv.image-blur-slide-reveal-image img {\n    overflow: hidden;\n}\n\ndiv.image-blur-slide-reveal-image {\n    position: relative;\n}\n\ndiv.image-blur-slide-reveal-image div.image-blur-slide-reveal-top {\n    background-color: rgba(var(--swatch-menubg-light-color, 255, 255, 255), .9);\n    position: absolute;\n    width: 100%;\n    height: 100%;\n}\n\n@supports not ((-webkit-backdrop-filter: blur(1rem)) or (backdrop-filter: blur(1rem))) {\n    div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top {\n        --top: 100% 0 0 0;\n        --right: 0 100% 0 0;\n        --bottom: 0 0 100% 0;\n        --left: 0 0 0 100%\n    }\n\n    div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top img {\n        --blur-amount: calc({$blur-amount}rem * .2);\n        -webkit-filter: blur(var(--blur-amount));\n        filter: blur(var(--blur-amount));        \n    }\n\n    div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top {\n    background-color: rgba(0, 0, 0, 0.9);\n        -webkit-clip-path: inset(0 0 0 0);\n                clip-path: inset(0 0 0 0);\n        -webkit-transition: -webkit-clip-path {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n        transition: -webkit-clip-path {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n        transition: clip-path {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n        transition: clip-path {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1), -webkit-clip-path {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    }\n\n    div.image-blur-slide-reveal-image:hover div.image-blur-slide-reveal-top.blur-slide-{$slide-direction} {\n        -webkit-clip-path: inset(var(--{$slide-direction}));\n                clip-path: inset(var(--{$slide-direction}));\n    }\n}\n\n\n@supports ((-webkit-backdrop-filter: blur(1rem)) or (backdrop-filter: blur(1rem))) {\n    div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top {\n        --blur-amount: calc({$blur-amount}rem * .2);\n        background-color: rgba(0, 0, 0, .1);\n        -webkit-backdrop-filter:blur(var(--blur-amount));\n        backdrop-filter:blur(var(--blur-amount));\n    }\n\n    div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top img {\n        display: none;\n    }\n\n    div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top.blur-slide-{$slide-direction} {\n        padding: 0;\n        {$slide-direction}: 0;\n        -webkit-transition: {$slide-direction} {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n        transition: {$slide-direction} {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    }\n\n    div.image-blur-slide-reveal-image:hover div.image-blur-slide-reveal-top.blur-slide-{$slide-direction} {\n        {$slide-direction}: -webkit-calc(100% + 0.125rem);\n        {$slide-direction}: calc(100% + 0.125rem);\n    }\n\n    div.image-blur-slide-reveal-image:focus-within div.image-blur-slide-reveal-top.blur-slide-{$slide-direction} {\n        {$slide-direction}: -webkit-calc(100% + 0.125rem) !important;\n        {$slide-direction}: calc(100% + 0.125rem) !important;\n    }\n}\n\n    div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top.blur-slide-left {\n        -webkit-box-shadow: -0.125rem 0 0 0 rgba(var(--swatch-primary-darkest,102, 102, 102));\n        box-shadow: -0.125rem 0 0 0 rgba(var(--swatch-primary-darkest,102, 102, 102));\n    }\n\n     div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top.blur-slide-right {\n        -webkit-box-shadow: 0.125rem 0 0 0 rgba(var(--swatch-primary-darkest,102, 102, 102));\n        box-shadow: 0.125rem 0 0 0 rgba(var(--swatch-primary-darkest,102, 102, 102));\n    }\n\n    div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top.blur-slide-top {\n        -webkit-box-shadow: 0 -0.125rem 0 0 rgba(var(--swatch-primary-darkest,102, 102, 102));\n        box-shadow: 0 -0.125rem 0 0 rgba(var(--swatch-primary-darkest,102, 102, 102));\n    }\n\n    div.image-blur-slide-reveal-image div.image-blur-slide-reveal-top.blur-slide-bottom {\n        -webkit-box-shadow: 0 0.125rem 0 0 rgba(var(--swatch-primary-darkest,102, 102, 102));\n        box-shadow: 0 0.125rem 0 0 rgba(var(--swatch-primary-darkest,102, 102, 102));\n    }\n[[/module]]\n[[div_ class=\"image-blur-slide-reveal scp-image-block [[#if {$float} | block-{$align} | nofloat ]]\" data-feature=\"image-feature\" style=\"max-width:{$width};\"]]\n    [[div_ class=\"image-blur-slide-reveal-image\" style=\"max-width:{$width};\"]]\n    [[div_ class=\"image-blur-slide-reveal-top blur-slide-{$slide-direction}\"]]\n     [[image {$url} {$alt}=\"{$alt-text}\"]]\n    [[/div]]\n    [[div_ class=\"image-blur-slide-reveal-bottom\"]]\n     [[image {$url} {$alt}=\"{$alt-text}\"]]\n    [[/div]]\n    [[/div]]\n    [[div_ class=\"scp-image-caption [[#if {$add-caption} | show | hidden ]]\"]]\n     {$caption}\n    [[/div]]\n[[/div]]\n[!----]\n[!-- {$slide-block-reveal}\n[[module css]]\n.image-block-slide-reveal.nofloat {\n    width: {$width} !important;\n    max-width: 95vw;\n    min-width: initial;\n    margin: 0 auto;\n}\n.image-block-slide-reveal-image,\n.image-block-slide-reveal-image img {\n    overflow: hidden;\n}\n\n.image-block-slide-reveal-image  {\n    position: relative;\n}\n\n.image-block-slide-reveal-image .image-block-slide-reveal-top {\n    background-color: {$block-color};\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n}\n\n.image-block-slide-reveal-image .image-block-slide-reveal-top {    \n    -webkit-box-shadow: -0.125rem 0 0 0 rgb(var(--swatch-border-color, 102, 102, 102));\n     box-shadow: -0.125rem 0 0 0 rgb(var(--swatch-border-color, 102, 102, 102));\n    margin-{$slide-direction}: 0;\n    -webkit-transition: margin-{$slide-direction} {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition: margin-{$slide-direction} {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n\n.image-block-slide-reveal-image:hover .image-block-slide-reveal-top {\n    margin-{$slide-direction}: -webkit-calc(100% + 0.125rem);\n    margin-{$slide-direction}: calc(100% + 0.125rem);\n}\n.image-block-slide-reveal-image:focus-within .image-block-slide-reveal-top {\n    margin-{$slide-direction}: -webkit-calc(100% + 0.125rem);\n    margin-{$slide-direction}: calc(100% + 0.125rem);\n}\n\n[[/module]]\n[[div_ class=\"image-block-slide-reveal scp-image-block [[#if {$float} | block-{$align} | nofloat ]]\" data-feature=\"image-feature\" style=\"max-width:{$width};\"]]\n    [[div_ class=\"image-block-slide-reveal-image\" style=\"max-width:{$width};\"]]\n     [[div_ class=\"image-block-slide-reveal-top\"]]\n     [[/div]]\n     [[div_ class=\"image-block-slide-reveal-bottom\"]]\n     [[image {$url} {$alt}=\"{$alt-text}\"]]\n     [[/div]]\n    [[/div]]\n    [[div_ class=\"scp-image-caption [[#if {$add-caption} | show | hidden ]]\"]]\n     {$caption}\n    [[/div]]\n[[/div]]\n[!----]\n[!-- {$hover-enlarge}\n[[module css]]\n.image-hover-enlarge {\n    position: relative;\n}\n\n.image-hover-enlarge.nofloat {\n    width: {$width} !important;\n    max-width: 95vw;\n    min-width: initial;\n    margin: 0 auto;\n}\n\n.image-hover-enlarge img.image {\n    -webkit-box-shadow: 0 0 0 0.0625rem rgb(var(--swatch-border-color, 102, 102, 102));\n     box-shadow: 0 0 0 0.0625rem rgb(var(--swatch-border-color, 102, 102, 102));\n    -webkit-transition:\n     -webkit-box-shadow {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     -webkit-transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     -webkit-box-shadow {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     -webkit-transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     box-shadow {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     -webkit-box-shadow {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     box-shadow {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     -webkit-transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     transform {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n\n.image-hover-enlarge img.image:hover {\n    --enlarge-by: {$enlarge-amount};\n    --enlarge-by-final: -webkit-calc(1 + (var(--enlarge-by)/10));\n    --enlarge-by-final: calc(1 + (var(--enlarge-by)/10));\n    -webkit-box-shadow: 0 0 0 -webkit-calc(0.0625rem / var(--enlarge-by-final)) rgb(var(--swatch-border-color, 102, 102, 102));\n     box-shadow: 0 0 0 calc(0.0625rem / var(--enlarge-by-final)) rgb(var(--swatch-border-color, 102, 102, 102));\n    -webkit-transform: scale3d(var(--enlarge-by-final), var(--enlarge-by-final), 1);\n     transform: scale3d(var(--enlarge-by-final), var(--enlarge-by-final), 1);\n}\n[[/module]]\n[[div_ class=\"image-hover-enlarge scp-image-block [[#if {$float} | block-{$align} | nofloat ]]\" data-feature=\"image-feature\" style=\"max-width:{$width};\"]]\n    [[image {$url} {$alt}=\"{$alt-text}\"]]\n    [[div_ class=\"scp-image-caption [[#if {$add-caption} | show | hidden ]]\"]]\n     {$caption}\n    [[/div]]\n[[/div]]\n[!----]\n[!-- {$click-fullscreen}\n[[module css]]\n\n.image-click-fullscreen {\n    position: relative;\n}\n\n.image-click-fullscreen.nofloat {\n    width: 18.75rem !important;\n    max-width: 95vw;\n    min-width: initial;\n    margin: 0 auto;\n}\n\n.image-click-fullscreen-base {\n    cursor: pointer;\n}\n\n.image-click-fullscreen-image {\n    display: none;\n    pointer-events: none;\n}\n\n.image-click-fullscreen-image img.image {\n    width: auto !important;\n    height: auto;\n    max-width: 95vw;\n    max-height: -webkit-calc(100vh - 2rem);\n    max-height: calc(100vh - 2rem);\n       object-fit: scale-down;\n    position: relative;\n    z-index: 999;\n    pointer-events: none;\n}\n\n.image-click-fullscreen-image::before,\n.image-click-fullscreen-image::after {\n    content: \"\";\n    position: fixed;\n    top:0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    pointer-events: none;\n}\n\n.image-click-fullscreen-image::before {\n    z-index: 997;\n    background-color: rgb(var(--swatch-menubg-dark-color, 0, 0, 0),0);\n}\n\n.image-click-fullscreen-image::after {\n    z-index: 1000;\n    background-color: rgb(var(--swatch-menubg-dark-color, 0, 0, 0),1);\n    visibility: hidden;\n    -webkit-transition:\n     background-color 320ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     background-color 320ms cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n\n.image-click-fullscreen-base:active + .image-click-fullscreen-image::before {\n    background-color: rgb(var(--swatch-menubg-dark-color, 0, 0, 0),1);\n}\n\n.image-click-fullscreen-base:active + .image-click-fullscreen-image::after {\n    visibility: visible;\n    background-color: rgb(var(--swatch-menubg-dark-color, 0, 0, 0),0);\n}\n\n.image-click-fullscreen-base:active + .image-click-fullscreen-image {\n    z-index: 998;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n     align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n     justify-content: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    min-width: 100%;\n    height: 100%;\n}\n\n.image-click-fullscreen-base:active ~ .scp-image-caption {\n     position: fixed;\n     bottom: 0;\n     left: 0;\n     max-width: 100vw !important;\n     z-index: 999;\n     font-size: 1rem;\n}\n\n.mobile-exit {\n    display: none;\n}\n@media only screen and (max-width: 768px) {\n    .image-click-fullscreen-base:active + .image-click-fullscreen-image::before,\n    .image-click-fullscreen-base:hover + .image-click-fullscreen-image::before {\n     background-color: rgb(var(--swatch-menubg-dark-color, 0, 0, 0),1);\n    }\n\n    .image-click-fullscreen-base:active + .image-click-fullscreen-image::after,\n    .image-click-fullscreen-base:hover + .image-click-fullscreen-image::after {\n     visibility: visible;\n     background-color: rgb(var(--swatch-menubg-dark-color, 0, 0, 0),0);\n    }\n\n    .image-click-fullscreen-base:active + .image-click-fullscreen-image,\n    .image-click-fullscreen-base:hover + .image-click-fullscreen-image {\n     z-index: 998;\n     display: -webkit-box;\n     display: -webkit-flex;\n     display: flex;\n     -webkit-box-align: center;\n     -webkit-align-items: center;\n     align-items: center;\n     -webkit-box-pack: center;\n     -webkit-justify-content: center;\n     justify-content: center;\n     position: fixed;\n     top: 0;\n     left: 0;\n     width: 100%;\n     height: 100%;\n    }\n\n    .image-click-fullscreen-base:active ~ .mobile-exit,\n    .image-click-fullscreen-base:hover ~ .mobile-exit {\n     --wght: 900;\n     position: fixed;\n     display: -webkit-box;\n     display: -webkit-flex;\n     display: flex;\n     align-item: center;\n     -webkit-box-pack: center;\n     -webkit-justify-content: center;\n     justify-content: center;\n     width: 1.5em;\n     height: 1.5em;\n     top: -webkit-calc(1rem + var(--topbar-height-on-mobile, 0rem));\n     top: calc(1rem + var(--topbar-height-on-mobile, 0rem));\n     right: 1rem;\n     -webkit-border-radius: 50%;\n     border-radius: 50%;\n     font-size: 2rem;\n     font-weight: 900;\n     background-color: rgba(var(--white-monochrome, 255, 255, 255));\n     color: rgb(var(--swatch-primary, 51, 51, 51));\n     cursor: pointer;\n     z-index: 9999;\n     line-height: 1em;\n     opacity: 0.5;\n     text-align: center;\n     line-height: 1.3em;\n    }\n\n    .image-click-fullscreen-base:active ~ .scp-image-caption,\n    .image-click-fullscreen-base:hover ~ .scp-image-caption {\n     position: fixed;\n     bottom: 0;\n     left: 0;\n     max-width: 100vw !important;\n     z-index: 1000;\n     font-size: 1rem;\n    }\n}\n\n[[/module]]\n[[div_ class=\"image-click-fullscreen scp-image-block [[#if {$float} | block-{$align} | nofloat ]]\" data-feature=\"image-feature\" style=\"max-width:{$width};\"]]\n    [[div_ class=\"image-click-fullscreen-base\"]]\n     [[image {$url} {$alt}=\"{$alt-text}\"]]\n    [[/div]]\n    [[div_ class=\"image-click-fullscreen-image\"]]\n     [[image {$url} {$alt}=\"{$alt-text}\"]]\n    [[/div]]\n    [[div_ class=\"scp-image-caption [[#if {$add-caption} | show | hidden ]]\"]]\n     {$caption}\n    [[/div]]\n    [[div_ class=\"mobile-exit\"]]\n     ✖\n    [[/div]]\n[[/div]]\n[!----]\n[!-- {$noise-reveal}\n[[module css]]\n.image-hover-noise-reveal.nofloat {\n    width: {$width} !important;\n    max-width: 95vw;\n    min-width: initial;\n    margin: 0 auto;\n}\n.image-hover-noise-reveal-image {\n    background: {$background};\n    position: relative;\n}\n.image-hover-noise-reveal-image img.image {\n    opacity: 0;\n    pointer-events: none;\n}\n.image-hover-noise-reveal-image iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n}\n[[/module]]\n[[div_ class=\"image-hover-noise-reveal scp-image-block [[#if {$float} | block-{$align} | nofloat ]]\" data-feature=\"image-feature\" style=\"max-width:{$width};\"]]\n[[div_ class=\"image-hover-noise-reveal-image\" style=\"max-width:{$width};\"]]\n[[image {$url} {$alt}=\"{$alt-text}\"]]\n[[html class=\"image\"]]\n<head>\n    <style>\n    .svg-container {\n     position: relative;\n    }\n    .svg-container svg {\n     position: absolute;\n     width: 100% !important;\n     top: 0;\n     left: 0;\n        object-fit: contain;\n    }\n    .svg-container img {\n     pointer-events: none;\n     height: 100%;\n     opacity: 0;\n    }\n    </style>\n</head>\n<body>\n<div class=\"svg-container\" style=\"max-width:{$width};\">\n    <svg preserveAspectRatio=\"xMidYMin meet\">\n     <defs>\n     <filter id=\"feDisplacementMap\"\n     filterUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\n     <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.{$fractal-size}\" numOctaves=\"1\" seed=\"1\" stitchTiles=\"noStitch\" result=\"img\"/>\n     <feDisplacementMap in=\"SourceGraphic\" in2=\"img\" xChannelSelector=\"R\" yChannelSelector=\"G\" scale=\"600\">\n     <animate attributeName=\"scale\"\n     values=\"600;0;0\" keyTimes=\"0;0.75;1\" keySpines=\"0.4, 0.0, 0.2, 1\" begin=\"mask.mouseover\" dur=\"{$speed}ms\" fill=\"freeze\"/>\n     <animate attributeName=\"scale\"\n     values=\"0;600;600\" keyTimes=\"0;0.75;1\" keySpines=\"0.4, 0.0, 0.2, 1\" begin=\"mask.mouseout\" dur=\"{$speed}ms\" fill=\"freeze\"/>\n     </feDisplacementMap>\n     </filter>\n     </defs>\n     <g filter=\"url(#feDisplacementMap)\">\n     <image xlink:href=\"{$url}\" width=\"100%\" height=\"100%\"/>\n     </g>\n     <rect id=\"mask\" x=\"0px\" y=\"0px\" width=\"100%\" height=\"100%\" opacity=\"0\"/>\n    </svg>\n    <img id=\"imageNoiseBase\" width=\"100%\" style=\"max-width:{$width};\" src=\"{$url}\" {$alt}=\"{$alt-text}\"/>\n</div>\n<script>\n    const inputURL = \"{$url}\";\n    const baseImage = document.getElementById(\"imageNoiseBase\");\n    const svgImageBase = document.querySelectorAll(\"svg image\")[0];\n    try {\n     let testURL;\n     testURL = new URL(inputURL);\n    } catch (_) {\n     var imageURL = new URL(\"{$url}\", /.*(local\\-\\-html\\/([^\\/]+)\\/)/g.exec(document.location)[0].replace(/local\\-\\-html/i, 'local--files')).href;\n     baseImage.src = imageURL;\n     svgImageBase.setAttribute(\"xlink:href\", `${imageURL}`);\n    }\n    if (location.protocol === 'https:') {\n     baseImage.src = baseImage.src.replace(/^http:\\/\\//i, 'https://');\n    } else {\n     baseImage.src = baseImage.src.replace(/^https:\\/\\//i, 'http://');\n    }\n    scaleSVG = () => {\n     const svgImage = document.getElementsByTagName(\"svg\")[0];\n     const imageNoiseBase = document.getElementById(\"imageNoiseBase\");\n     const imageRatio = imageNoiseBase.height / imageNoiseBase.width;\n     const svgImageWidthBase = \"{$width}\";\n     let svgImageWidth = parseFloat(svgImageWidthBase.replace(/[^-\\d\\.]/g, ''));\n     let svgImageWidthUnits = svgImageWidthBase.replace(/[0-9]|\\./g, \"\")\n     let svgImageHeight = svgImageWidth * imageRatio;\n    \n     if(svgImageWidthUnits === \"rem\") {\n     svgImageWidth = svgImageWidth * 16;\n     svgImageHeight = svgImageHeight * 16;\n     svgImageWidthUnits = \"px\";\n     };\n     if(svgImageWidthUnits === \"em\") {\n     let emSize = parseFloat(getComputedStyle(parentElement).fontSize);\n     svgImageWidth = svgImageWidth * emSize;\n     svgImageHeight = svgImageHeight * emSize;\n     svgImageWidthUnits = \"px\";\n     };\n    \n     svgImage.setAttribute(\"width\", svgImageWidth + svgImageWidthUnits);\n     svgImage.setAttribute(\"height\", svgImageHeight + svgImageWidthUnits);\n     var svgViewport = `0 0 ' ${svgImageWidth} ${svgImageHeight}`;\n     svgImage.setAttribute(\"viewBox\", svgViewport);\n    };\n    baseImage.src = baseImage.src + \"?_=\"+(new Date().getTime());\n    baseImage.onload = () => {\n     scaleSVG();\n    };\n</script>\n</body>\n[[/html]]\n[[/div]]\n[[div_ class=\"scp-image-caption [[#if {$add-caption} | show | hidden ]]\"]]\n    {$caption}\n[[/div]]\n[[/div]]\n[!----]\n[!-- {$pixel-reveal}\n[[module css]]\n.image-pixelate-reveal.nofloat {\n    width: {$width} !important;\n    max-width: 95vw;\n    min-width: initial;\n    margin: 0 auto;\n}\n.image-pixelate-reveal-image {\n    position: relative;\n    overflow: hidden;\n}\n.image-pixelate-reveal-image img.image {\n    opacity: 0;\n    visibility: hidden;\n    pointer-events: none;\n}\n.image-pixelate-reveal-image iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n}\n[[/module]]\n[[div_ class=\"image-pixelate-reveal scp-image-block [[#if {$float} | block-{$align} | nofloat ]]\" data-feature=\"image-feature\" style=\"max-width:{$width};\"]]\n[[div_ class=\"image-pixelate-reveal-image\"]]\n[[image {$url} {$alt}=\"{$alt-text}\"]]\n[[html class=\"image\" style=\"max-width: {$width};\"]]\n<style>\n.hidden {\n    display: none;\n}\n#imagePxlBase {\n    width: 100%;\n    max-width: {$width};\n       object-fit: contain;\n}\n</style>\n<div id=\"imagePxlParent\">\n     <img id=\"imagePxlBase\" width=\"{$width}\" src=\"{$url}\" {$alt}=\"{$alt-text}\"/>\n</div>\n<script src=\"http://scp-jp-storage.wikidot.com/local--files/file:4090575-6-8o2o/modernizr-custom.js\"></script>\n<script src=\"http://scp-jp-storage.wikidot.com/local--files/file:4090575-7-43ck/pixel-flow.cjs.js\"></script>\n<script>\n    const inputURL = \"{$url}\";\n    const baseImage = document.getElementById(\"imagePxlBase\");\n    try {\n     let testURL;\n     testURL = new URL(inputURL);\n    } catch (_) {\n     var imageURL = new URL(\"{$url}\", /.*(local\\-\\-html\\/([^\\/]+)\\/)/g.exec(document.location)[0].replace(/local\\-\\-html/i, 'local--files')).href;\n     baseImage.src = imageURL;\n    }\n    if (location.protocol === 'https:') {\n     baseImage.src = baseImage.src.replace(/^http:\\/\\//i, 'https://');\n    } else {\n     baseImage.src = baseImage.src.replace(/^https:\\/\\//i, 'http://');\n    }\n    createPixelImage = () => {\n     const imagePxlParent = document.getElementById(\"imagePxlParent\");\n     const imagePxl = document.getElementById(\"imagePxlBase\");\n     const imageRatio = imagePxl.width/imagePxl.height;\n     if (Modernizr.canvas) {\n     let pixelImage = imagePxl;\n     let pixelFlows = new PixelFlow(pixelImage, { resolution: {$pixel-res} });\n\n     imagePxlParent.addEventListener(\"mouseenter\", function(){       \n     pixelFlows.simpleanimate(0, {$speed});\n     });\n     imagePxlParent.addEventListener(\"mouseleave\", function(){       \n     pixelFlows.simpleanimate({$pixel-res}, {$speed});\n     });\n     pixelFlows.height = pixelFlows.width * imageRatio;\n     } else {\n     imagePxl.classList.add(\"hidden\");\n     }\n    };\n    baseImage.src = baseImage.src + \"?_=\"+(new Date().getTime());\n    baseImage.onload = () => {\n     createPixelImage();\n    };\n</script>\n[[/html]]\n[[/div]]\n[[div_ class=\"scp-image-caption [[#if {$add-caption} | show | hidden ]]\"]]\n{$caption}\n[[/div]]\n[[/div]]\n[!----]\n[!-- {$image-change}\n[[module css]]\n.image-change.nofloat {\n    width: {$width} !important;\n    max-width: 95vw;\n    min-width: initial;\n    margin: 0 auto;\n}\n\n.image-change-image {\n    position: relative;\n}\n\n.image-change-image,\n.image-change-image img.image {\n    overflow: hidden;\n    object-fit: fill;\n}\n\n.image-change-image .top-image {\n    position: relative;\n    z-index: 1;\n    opacity: 1;\n    -webkit-filter: blur(0);\n     filter: blur(0);\n    -webkit-transition:\n     opacity {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     -webkit-filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     opacity {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     -webkit-filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     opacity {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n     filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    transition:\n     opacity {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),    \n     webkit-filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1),\n        filter {$speed}ms cubic-bezier(0.4, 0.0, 0.2, 1);\n}\n\n.image-change-image:hover .top-image {\n    opacity: 0;\n    -webkit-filter: {$blur-amount}px;\n     filter: {$blur-amount}px;\n}\n\n.image-change-image .bottom-image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n[[/module]]\n[[div_ class=\"image-change scp-image-block [[#if {$float} | block-{$align} | nofloat ]]\" data-feature=\"image-feature\" style=\"max-width:{$width};\"]]\n    [[div_ class=\"image-change-image\" style=\"max-width:{$width};\"]]\n    [[image {$start-url} class=\"top-image\" style=\"max-width:{$width};\" {$alt1}=\"{$alt1-text}\"]]\n    [[image {$hover-url} class=\"bottom-image\" style=\"max-width:{$width};\" {$alt2}=\"{$alt2-text}\"]]\n    [[/div]]\n    [[div_ class=\"scp-image-caption [[#if {$add-caption} | show | hidden ]]\"]]\n     {$caption}\n    [[/div]]\n[[/div]]\n[!----]\n[!-- {$slide-revealer}\n[[module css]]\n.image-slide-revealer.nofloat {\n    width: {$width} !important;\n    max-width: 95vw;\n    min-width: initial;\n    margin: 0 auto;\n}\n.image-slide-revealer-image {\n    position: relative;\n}\n.image-slide-revealer-image img.image {\n    opacity: 0;\n    pointer-events: none;\n}\n.image-slide-revealer-image iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n}\n[[/module]]\n[[div_ class=\"image-slide-revealer scp-image-block [[#if {$float} | block-{$align} | nofloat ]]\" data-feature=\"image-feature\"]]\n[[div_ class=\"image-slide-revealer-image\" style=\"max-width:{$width};\"]]\n[[html]]\n<head>\n<style>\nhtml {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n\n*,\n*:before,\n*:after {\n    -webkit-box-sizing: inherit;\n            box-sizing: inherit;\n}\n\nbody {\n    margin: 0;\n    height: 100vh;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n\n.revealer {\n    position: relative;\n    width: {$width};\n    height: auto;\n}\n\n.revealer .img {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.revealer #sliderImageBase {\n    pointer-events: none;\n    height: 100%;\n    opacity: 0;\n}\n\n.revealer #top-img {\n    width: {$slider-start-percent}%;\n    z-index: 2;\n}\n\n.revealer #btm-img {\n    z-index: 1;\n       object-fit: cover;\n}\n\n.revealer .slider {\n    position: absolute;\n    background-color: rgba(0,0,0,0);\n    -webkit-appearance: none;\n         appearance: none;\n    width: 100%;\n    height: 100%;\n    outline: none;\n    margin: 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    z-index: 3;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n\n.revealer .slider::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    width: -webkit-calc({$slider-circle-size} * 0.2);\n    width: calc({$slider-circle-size} * 0.2);\n    height: 100vh;\n    border: none;\n    background: {$slider-color};\n    cursor: pointer;\n}\n\n.revealer #slider-button {\n    --button-arrow-color: rgb(93, 93, 93);\n    pointer-events: none;\n    position: absolute;\n    z-index: 4;\n    width: {$slider-circle-size};\n    height: {$slider-circle-size};\n    -webkit-border-radius: 50%;\n            border-radius: 50%;\n    background-color: {$slider-color};\n    left: -webkit-calc(({$slider-start-percent}% - ({$slider-circle-size} * 0.2)) - ({$slider-circle-size} * 0.2));\n    left: calc(({$slider-start-percent}% - ({$slider-circle-size} * 0.2)) - ({$slider-circle-size} * 0.2));\n    top: -webkit-calc(50% - ({$slider-circle-size} * 0.5));\n    top: calc(50% - ({$slider-circle-size} * 0.5));\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n            justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n            align-items: center;\n}\n\n.revealer #slider-button:after {\n    content: \"\";\n    padding: -webkit-calc(({$slider-circle-size} * 0.1));\n    padding: calc(({$slider-circle-size} * 0.1));\n    display: inline-block;\n    border: solid var(--button-arrow-color);\n    border-width: 0 -webkit-calc({$slider-circle-size} * (1/15)) -webkit-calc({$slider-circle-size} * (1/15)) 0;\n    border-width: 0 calc({$slider-circle-size} * (1/15)) calc({$slider-circle-size} * (1/15)) 0;\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg);\n}\n\n.revealer #slider-button:before {\n    content: \"\";\n    padding: -webkit-calc(({$slider-circle-size} * 0.1));\n    padding: calc(({$slider-circle-size} * 0.1));\n    display: inline-block;\n    border: solid var(--button-arrow-color);\n    border-width: 0 -webkit-calc({$slider-circle-size} * (1/15)) -webkit-calc({$slider-circle-size} * (1/15)) 0;\n    border-width: 0 calc({$slider-circle-size} * (1/15)) calc({$slider-circle-size} * (1/15)) 0;\n    -webkit-transform: rotate(135deg);\n            transform: rotate(135deg);\n}\n</style>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js\" integrity=\"sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==\" crossorigin=\"anonymous\"></script>\n</head>\n<body>\n    <div class=\"revealer\" id=\"sliderImageParent\" width=\"{$width}\" height=\"\">\n     <div role=\"img\" class=\"img\" id=\"top-img\" {$alt1}=\"{$alt1-text}\"></div>\n     <div role=\"img\" class=\"img\" id=\"btm-img\" {$alt2}=\"{$alt2-text}\"></div>\n     <input type=\"range\" min=\"0\" max=\"99\" value=\"{$slider-start-percent}\" class=\"slider\" name=\"slider\" id=\"slider\">\n     <div id=\"slider-button\"></div>\n     <img id=\"sliderImageBase\" width=\"100%\" style=\"max-width:{$width};\" src=\"{$left-url}\" {$alt1}=\"{$alt1-text}\" />\n    </div>\n\n    <script>\n    const inputLeftURL = \"{$left-url}\";\n    const inputRightURL = \"{$right-url}\";\n    const topImg = document.getElementById(\"top-img\");\n    const btmImg = document.getElementById(\"btm-img\");\n    const baseImage = document.getElementById(\"sliderImageBase\");\n    const sliderButton = document.getElementById(\"slider-button\");\n    const sliderArrowBG = window.getComputedStyle(sliderButton).backgroundColor.replace(/[a-z]|\\(|\\)/g, \"\").replace(/[^0-9|\\s]/g, \"\").split(' ');\n    let sliderArrowColor;\n\n    const testValidURL = (inputURL) => {\n     let validURL;\n     try {\n     validURL = new URL(inputURL);\n     } catch (_) {\n     let validURL = new URL(inputURL, /.*(local\\-\\-html\\/([^\\/]+)\\/)/g.exec(document.location)[0].replace(/local\\-\\-html/i, \"local--files\")).href;\n     inputURL = validURL + \"?_=\"+(new Date().getTime());\n     }\n     if (location.protocol === \"https:\") {\n     inputURL = inputURL.replace(/^http:\\/\\//i, \"https://\");\n     } else {\n     inputURL = inputURL.replace(/^https:\\/\\//i, \"http://\");\n     }\n     return inputURL;\n    }\n    const setBackgroundSize = (elem, size) => {\n     $(elem).css(\"-webkit-background-size\", size);\n     $(elem).css(\"background-size\", size);\n    }\n\n    const resizeImage = () => {\n     let baseImageParent = document.getElementById(\"sliderImageParent\");\n     let imageWidth = baseImage.width;\n     let imageHeight = baseImage.height;\n    \n     sliderArrowColor = setSliderArrowColor(sliderArrowBG);\n    \n     baseImageParent.setAttribute(\"width\", `${imageWidth}px`);\n     baseImageParent.setAttribute(\"height\", `${imageHeight}px`);\n     setBackgroundSize(topImg, `${imageWidth}px 100%`);\n     setBackgroundSize(btmImg, `${imageWidth}px 100%`);\n    }\n\n    const insertResizeImage = () => {\n     $(topImg).css(\"background-image\", `url(\"${testValidURL(inputLeftURL)}\")`);\n     $(btmImg).css(\"background-image\", `url(\"${testValidURL(inputRightURL)}\")`);\n    \n     resizeImage();\n    }\n\n    let setSliderArrowColor = (color) => {\n     let sum = Math.round(((parseInt(color[0]) * 299) + (parseInt(color[1]) * 587) + (parseInt(color[2]) * 114)) / 1000);\n     console.log(\"color: \" + color);\n     console.log(\"sum: \" + sum);\n     return (sum > 128) ? \"black\" : \"white\";\n    }\n    \n    $(function() {\n     baseImage.src = testValidURL(inputLeftURL);\n\n     baseImage.onload = () => {\n     sliderArrowColor = setSliderArrowColor(sliderArrowBG);\n     console.log(\"sliderArrowColor: \" + sliderArrowColor);\n     sliderButton.style.setProperty(\"--button-arrow-color\", `${sliderArrowColor}`);\n     window.addEventListener(\"resize\", resizeImage);\n     insertResizeImage();\n     $(\"#slider\").on(\"input change\", (e)=>{\n     const sliderPos = e.target.value;\n     $(\"#top-img\").css(\"width\", `${sliderPos}%`)\n     sliderButton.setAttribute(\"style\", `\n     --button-arrow-color: ${sliderArrowColor};\n     left: -webkit-calc((${sliderPos}% - ({$slider-circle-size} * 0.2)) - ({$slider-circle-size} * 0.2));\n     left: calc((${sliderPos}% - ({$slider-circle-size} * 0.2)) - ({$slider-circle-size} * 0.2));\n     `);\n     });\n     }\n    });\n    </script>\n</body>\n[[/html]]\n[[image {$left-url} {$alt}=\"{$alt-text}\"]]\n[[/div]]\n[[div_ class=\"scp-image-caption [[#if {$add-caption} | show | hidden ]]\"]]\n    {$caption}\n[[/div]]\n[[/div]]\n[!----]",
  "tags": [
    "en",
    "コンポーネント・バックエンド"
  ],
  "author": "R74",
  "created_at": "2024-04-25T00:56:20+00:00",
  "updated_at": "2024-04-28T09:55:14+00:00",
  "rating": 4,
  "_site": "scp-jp",
  "_fullname": "component:image-features-source"
}
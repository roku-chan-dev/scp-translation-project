{
  "title": "作業用複数タグ検索システム",
  "content": "++ 注意\nこのページはタグガイド改訂時のタグ置換作業を高速化する為のページです。仕様としては[[[tag-search|]]]の機能削減版です。より便利な検索をしたい場合は[[[tag-search|]]]をご利用ください\n\n[[module css]]\n.en .scp a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.en .tale a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.ru .scp-ru a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.ru .tale-ru a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.ko .scp-ko a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.ko .tale-ko a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.cn .scp-cn a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.cn .tale-cn a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.fr .scp-fr a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.fr .tale-fr a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.pl .scp-pl a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.pl .tale-pl a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.es .scp-es a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.es .tale-es a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.th .scp-th a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.th .tale-th a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.de .scp-de a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.de .tale-de a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.it .scp-it a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n.it .tale-it a img {\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n \n:target .object .explained {\nfont-size: 100% !important;\ncolor: #77FFFF !important;\n}\n:target .object .unclassed {\nfont-size: 100% !important;\ncolor: #777777 !important;\n}\n:target .object .safe {\nfont-size: 100% !important;\ncolor: #00FF00 !important;\n}\n:target .object .euclid {\nfont-size: 100% !important;\ncolor: #FFDD00 !important;\n}\n:target .object .keter {\nfont-size: 100% !important;\ncolor: #FF0000 !important;\n}\n:target .object .thaumiel {\nfont-size: 100% !important;\ncolor: #000000 !important;\n}\n:target .object .neutralized {\nfont-size: 100% !important;\ncolor: #9900FF !important;\n}\n \n#u-OC p > a {\npadding: 0.1em 0.5em;\ntext-decoration: none;\nbackground-color: #F4F4F4;\nborder: 1px solid #AAA;\ncolor: #000;\n}\n#u-OC p > a:hover {\nbackground-color: #DDD;\ncolor: #000;\n}\n#u-OC p > a:active {\nbackground-color: #DDD;\ncolor: #000;\n}\n \n:target p > a {\nfont-size: 0% !important;\n}\n \n:target p span {\nfont-size: 100% !important;\n}\n:target p span a {\nfont-size: 100% !important;\npadding: 0.1em 0.5em;\ntext-decoration: none;\nbackground-color: #F4F4F4;\nborder: 1px solid #AAA;\ncolor: #000;\n}\n:target p span a:hover {\nfont-size: 100% !important;\nbackground-color: #DDD;\ncolor: #000;\n}\n:target p span a:active {\nfont-size: 100% !important;\nbackground-color: #DDD;\ncolor: #000;\n}\n#u-OC p {\ntext-align: center;\n}\n[[/module]]\n[[=]]\n[[div id=\"u-pagenum\"]]\n[[module ListPages separate=\"no\" tags=\"@URL\" created_at=\"@URL\" updated_at=\"@URL\" created_by=\"@URL\" rating=\"@URL\" offset=\"@URL|0\" perPage=\"1\"　limit=\"1\" order=\"@URL|created_at desc\" category=\"*\"]]\n%%total%%\n[[/module]]\n[[/div]]\n[[/=]]\n[[div id=\"u-TagTarget\"]]\n[[div id=\"u-OC\"]]\n[[module ListPages separate=\"no\" prependLine=\"||ページタイトル（原文リンク）||作成日時||コメント||評価||文字||\"  tags=\"@URL\" created_at=\"@URL\" updated_at=\"@URL\" created_by=\"@URL\" rating=\"@URL\" offset=\"@URL|0\" name=\"@URL\" limit=\"@URL|0\" perPage=\"@URL|400\" parent=\"@URL\" order=\"@URL|created_at desc\" category=\"*\"]]\n||%%title_linked%% [[span class=\"en\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/us.png link=\"http://www.scp-wiki.net/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span class=\"ru\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/ru.png link=\"http://scpfoundation.ru/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span class=\"ko\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/kr.png link=\"http://ko.scp-wiki.net/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span class=\"cn\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/cn.png link=\"http://scp-wiki-cn.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span class=\"fr\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/fr.png link=\"http://fondationscp.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span class=\"pl\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/pl.png link=\"http://scp-pl.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span class=\"es\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/es.png link=\"http://lafundacionscp.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span class=\"th\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/th.png link=\"http://scp-th.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span class=\"de\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/de.png link=\"http://scp-wiki-de.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span class=\"it\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-jp.wdfiles.com/local--files/tag-search/it.png link=\"http://fondazionescp.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]]||%%created_at|%Y/%m/%d %H:%M %%||%%comments%%||%%rating%%||%%size%%||\n[[/module]]\n[[/div]]\n[[/div]]\n\n[[div class=\"content-panel standalone\" style=\"width: 95%; margin: 0 auto 20px; padding: 10px 20px;\"]]\n[[html]]\n<style>\n@import url(http://d3g0gp89917ko0.cloudfront.net/v--de24f08b1628/common--theme/base/css/style.css);\n@import url(http://d3g0gp89917ko0.cloudfront.net/v--de24f08b1628/common--theme/shiny/css/style.css);\n@import url(http://scp-jp.wdfiles.com/local--theme/scp-sigma-9-off-canvas/style.css);\n#tagField a {\n   display: inline-block;\n}\n</style>\n<script type=\"text/javascript\">\n \n//下記変数に複数検索タグ用のURLを記入してください\nvar baseURL = \"http://ja.scp-wiki.net/work:multi-tag-search\";\n \n//外国語に翻訳しやすく為の基本設定\n//<追加するパラメータ名>:<フォームに表示する名称>の形式で入力してください\n \n//オーダー用\nvar orderSetteing = {\n    \"created_at desc\":\"作成日時が新しい順\",\n    \"created_at\":\"作成日時が古い順\",\n    \"rating desc\":\"評価の高い順\",\n    \"rating\":\"評価の低い順\",\n    \"updated_at desc\":\"更新日時が新しい順\",\n    \"updated_at\":\"更新日時が古い順\",\n    \"size desc\":\"文字数の多い順\",\n    \"size\":\"文字数の少ない順\",\n    \"comments desc\":\"コメントの多い順\",\n    \"comments\":\"コメントの少ない順\",\n    \"revisions desc\":\"更新回数の多い順\",\n    \"revisions\":\"更新回数の少ない順\",\n    \"title desc\":\"タイトル降順(日本語不可)\",\n    \"title\":\"タイトル昇順(日本語不可)\",\n    \"random\":\"ランダム表示\"\n}\n \n//レート用\nvar rateSetting = {\n    \"=\":\"と同じ\",\n    \">=\":\"以上\",\n    \"<=\":\"以下\",\n    \"<>\":\"以外\",\n    \">\":\"より大きい\",\n    \"<\":\"未満\"\n}\n \nvar NotationYear = \"年\";\n \n//月の表示\nvar NotationMonth={\n    'year_round':'通年',\n    'm01':\"1月\",\n    'm02':\"2月\",\n    'm03':\"3月\",\n    'm04':\"4月\",\n    'm05':\"5月\",\n    'm06':\"6月\",\n    'm07':\"7月\",\n    'm08':\"8月\",\n    'm09':\"9月\",\n    'm10':\"10月\",\n    'm11':\"11月\",\n    'm12':\"12月\"\n}\n \nvar NotationTimeSpan1 = {\n    '=':\"の間\",\n    '>=':\"以降\",\n    '<=':\"以前\",\n    '>':\"より後\",\n    '<':\"より前\"\n}\n \nvar NotationTimeSpan2 = {\n    '%20hours':\"時間前から現在まで\",\n    '%20day':\"日前から現在まで\",\n    '%20week':\"週間前から現在まで\",\n    '%20month':\"ヶ月前から現在まで\"\n}\n \n/*ここから実際の動作*/\nvar tagTable = new Array();\nvar tagNumber;\nvar form;\n \n//起動時にタグ数の初期値と日付フォームのデフォルトを書き出します。\ndocument.addEventListener(\"DOMContentLoaded\",function(){\n    form = document.forms.mainForm;\n    /*上記の設定に合わせた検索フォームの自動生成*/\n    createSearchSelecter(\"order\",orderSetteing);//orderSelecter\n    createSearchSelecter(\"rating1\",rateSetting);//rateSelecter\n    tagNumber = 0;\n    createTimeForm(1);\n    createTimeForm(2);\n    //直近の検索条件の復元\n    var check = document.referrer.split(baseURL).join(\"\");\n    if(check.length > 1)restoreSearchForm(check);\n});\n \n\n \nfunction createSearchSelecter(targetName,setting){\n    for(var i in setting){\n        option = document.createElement(\"option\");\n        option.value = i;\n        option.innerHTML = setting[i];\n        form.elements[targetName].appendChild(option);\n    }\n}\n \n/*検索用のURLの生成*/\n \n//フォームの値を変換・結合してURLの書き出しを行います。\nfunction startSearch(flag){\n    var passingURL = baseURL;\n    var oldURL = passingURL;\n    //注意addOrder()が最後でないと、検索フォームの状態復元時にバグが発生します\n    passingURL = passingURL + addTag() + addCtime() + addUtime() + addAuthor() + addRate() + addOffset() + \"/limit/400\" + addPpage() + addParent() + addOrder();\n    //passingURL = passingURL + addTag() + addCtime() + addUtime() + addAuthor() + addRate() + addOffset() + addName() + \"/limit/400\" + addPpage() + addParent() + addOrder();\n    if(oldURL + \"/limit/400\" == passingURL){passingURL = oldURL;}\n    //window.location.href = passingURL;\n    if(flag == 0){\n        parent.location.href = passingURL;\n    }else{\n        window.open(passingURL, \"_blank\");\n    }\n}\n \n//URL用に検索オプションを含めたタグを結合します。\nfunction addTag(){\n    var i;\n    if((form.check1.checked == true) && (tagNumber > 0)){\n        var a = \"/tag/\";\n        for(i = 0; i < tagNumber; i++){\n        if(i > 0){a = a + \",\";}\n        if(tagTable[i][0] == 1){\n        a = a + \"%2b\";\n        }else if(tagTable[i][0] == 2){\n        a = a + \"-\";\n        }\n        a = a + tagTable[i][1];\n        }\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n \n//URL用に作成日時フォームの値を結合し書き出します。\nfunction addCtime(){\n    var a = \"\";\n    if(form.check2.checked){\n        a = constructTimeParameter(1);\n    }\n    return a;\n}\n//URL用に更新日時フォームの値を結合し書き出します。\nfunction addUtime(){\n    var a = \"\";\n    if(form.check3.checked){\n        a = constructTimeParameter(2);\n    }\n    return a;\n}\n \nfunction constructTimeParameter(type){\n    var a = (type < 2)?\"/created_at/\":\"/updated_at/\";\n    var initialCode = (type < 2)?\"C\":\"U\";\n    switch(Number(form.elements[initialCode + \"type\"].value)){\n        case 0:\n            //作成日時\n            a += form.elements[\"option\" + type].value + form.elements[\"years\" + type].value;\n            if(form.elements[\"month\" + type].value != \"year_round\")a += \".\"+form.elements[\"month\" + type].value;\n        break;\n        case 1:\n            //日付検索\n            var dayNow = new Date();\n            var target = (type < 2)?\"created\":\"updated\";\n            var dayOld = decDay(form.created.value);\n            var diff = Math.ceil( (dayNow.getTime() - dayOld.getTime()) / (1000 * 60 * 60) );\n            a += (\"last%20\"+ diff + \"%20hours\");\n            if(diff < 1)a = \"\";\n        break;\n        case 2:\n            //期間を指定\n            a += \"last%20\" + (form.elements[initialCode + \"num1\"].value + form.elements[initialCode + \"num2\"].value);\n        break;\n    }\n    return a;\n}\n \n//URL用に作成者を書き出します。\nfunction addAuthor(){\n    if(form.check4.checked == true){\n        var a = \"/created_by/\" + form.author.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL用に評価値を書き出します。\nfunction addRate(){\n    if((form.check5.checked == true) && (form.rating2.value != \"\")){\n        var a = \"/rating/\" + form.rating1.value + form.rating2.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL用にオフセット値を書き出します。\nfunction addOffset(){\n    var form = document.forms.mainForm;\n    if((form.check6.checked == true) && (form.offset.value != \"\")){\n        var a = \"/offset/\" + form.offset.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL用に名前検索の文字を書き出します（未使用）。\nfunction addName(){\n    var form = document.forms.mainForm;\n    if((form.check7.checked == true) && (form.chara.value != \"\")){\n        var a = \"/name/\" + form.chara.value + \"%\";\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL用にページ内表示数を書き出します。\nfunction addPpage(){\n\n    return \"/perPage/400\";\n}\n//URL用に並べ替え方法を書き出します。\nfunction addOrder(){\n    var form = document.forms.mainForm;\n    if((form.check9.checked == true) && (form.order.value != \"\")){\n        var a = \"/order/\" + form.order.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL用に親ページのみか否かを書き出します。\nfunction addParent(){\n    var form = document.forms.mainForm;\n    if(form.check10.checked == true){\n        var a = \"/parent/-\";\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n \n//行列に格納したタグの状態をhtml上に書き出します。\nfunction renewTag(){\n    var i;\n    var s = \"<p style='line-height: 1.7;'><input type='checkbox' name='check1' value='true' checked='checked'>指定タグ: \";\n    for(i = 0; i < tagNumber; i++){\n        s += \"<a style='padding: 2px 4px; line-height: 1.2; border-radius: 6px; color: white; background-color: \"; \n        if(tagTable[i][0] == 0){\n        s += \"green\";\n        }else if(tagTable[i][0] == 1){\n        s += \"blue\";\n        }else if(tagTable[i][0] == 2){\n        s += \"red\";\n        }\n        s += \";'><span style = 'cursor: pointer; font-size: 1.2em;' onclick = 'deletTag(\" + i + \")'>×</span> <span style = 'cursor: pointer;' onclick = 'changeTag(\" + i + \")'>\" + tagTable[i][1] + \"</span></a> \";\n    }\n \n    s += \"</p>\";\n    document.getElementById(\"tagField\").innerHTML = s;\n}\n \n//タグ文字列のクリックに応じて行列中の検索オプション値を変更します。\nfunction changeTag(t){\n    tagTable[t][0] = (tagTable[t][0] + 1) % 3;\n    renewTag();\n}\n//タグ文字列のクリックに応じて行列中からタグを消去します。\nfunction deletTag(t){\n    var i;\n    for(i = t; i < tagNumber; i++){\n        tagTable[i] = tagTable[i+1];\n    }\n    if(tagNumber > 0){\n        tagNumber = tagNumber - 1;\n    }\n    renewTag();\n}\n \n//タグの直接入力を行列に反映します。\nfunction tagInput1(){\n    if(form.tagInput.value != \"\"){\n        tagTable[tagNumber] = [1, form.tagInput.value];\n        tagNumber = tagNumber + 1;\n        renewTag();\n    }\n    form.tagInput.value = \"\";\n}\n\n \n//作成日時及び更新日時の設定方法の切り替えに応じてフォームの形を変更します。\n//type=1作成日時　type=2更新日時\nfunction createTimeForm(type){\n    var initialCode = (type < 2)?\"C\":\"U\";\n    var elmName = (type < 2)?\"created_at\":\"updated_at\";\n    var elm = document.getElementById(elmName);\n    var y, m;\n    var day = new Date();\n    switch(Number(form.elements[initialCode + \"type\"].value)){\n        case 0:\n            y = convDay(day, 1);\n            m = convDay(day, 2);\n            elm.innerHTML = \"<select name='years\"+type+\"'>\" + makeSel(y) + \"</select>\";\n            createTimeSelecter(elm,('month'+type),NotationMonth,true);\n            createTimeSelecter(elm,('option'+type),NotationTimeSpan1);\n            setPullDown(\"years\" + type,y);\n            setPullDown(\"month\" + type,set2fig(m));\n        break;\n        case 1:\n            var specialName = (type < 2)?\"created\":\"updated\";\n            elm.innerHTML = \"<input type='date' name='\"+specialName+\"'  max='2037-12-31' min=2013-07-01>\";\n            form.elements[specialName].value = convDay(day, 0);\n            form.elements[specialName].max = convDay(day, 0);\n \n        break;\n        case 2:\n            elm.innerHTML = \"<input type='number' name='\"+initialCode+\"num1' value='1' min='0' />\"\n            createTimeSelecter(elm,initialCode+'num2',NotationTimeSpan2);\n        break;\n \n    }\n \n}\n \nfunction createTimeSelecter(elm,name,List,isMonth){\n    var select = document.createElement(\"select\");\n    select.setAttribute(\"name\",name);\n    var option;\n    for(var i in List){\n        option = document.createElement(\"option\");\n        option.value = (isMonth)?i.split(\"m\").join(\"\"):i;\n        option.innerHTML = List[i];\n        select.appendChild(option);\n    }\n    elm.appendChild(select);\n}\n \n//西暦のプルダウンフォームを書き出します。\nfunction makeSel(year){\n    var i = 0;\n    var s = \"\";\n    do{\n        s += \"<option value='\" + (year - i) + \"'>\" +  (year - i) + NotationYear + \"</option>\";\n        i++;\n    }while(year - i > 2007)\n    return s;\n}\n//日時形式の変数をdateフォーム用文字列に変換します。\nfunction convDay(day, swich){\n    var year = day.getFullYear();\n    var mon = day.getMonth()+1; \n    var day = day.getDate();\n    if(swich == 0){\n        var s = year + \"-\" + set2fig(mon) + \"-\" + set2fig(day); \n    }else if(swich == 1){\n        var s = year;\n    }else if(swich == 2){\n        var s = mon;\n    }\n    return s;\n}\n//dateフォーム用文字列を日時形式の変数に変換します。\nfunction decDay(source){\n    var num = source.split(\"-\");\n    var day = new Date(num[0], num[1] - 1, num[2], 0, 0, 0);\n    return day;\n}\n//一桁の数字を二桁表示の文字列に変換します。\nfunction set2fig(num) {\n    var ret;\n    if( num < 10 ) { ret = \"0\" + num; }\n    else { ret = num; }\n    return ret;\n}\n \n//タグ検索フォームの復元\nfunction restoreSearchForm(parameter){\n    restoreSelectTags(parameter);\n    restoreUserName(parameter);\n    restoreRate(parameter);\n    restoreOrder(parameter);\n    restorePageSetting(parameter,\"offset/\",\"check6\",\"offset\");\n    restoreTimeSetting(parameter,1);\n    restoreTimeSetting(parameter,2);\n    restoreParentSetting(parameter);\n}\n \nfunction restoreSelectTags(parameter){\n    var check = parameter.search(\"tag/\");\n    if(check < 0)return;\n    var tagsMember = extractSpecificParameter(parameter,check,\"tag/\");\n    //ここからURLの文字列を通常の文字にデコード\n    tagsMember=decodeURIExtension(tagsMember);\n    tagsMember = tagsMember.split(',');\n    for(var i=0;i<tagsMember.length;i++){\n        choiceTagSetting(tagsMember[i]);\n    }\n    function choiceTagSetting(target){\n        switch(target.charAt(0)){\n            case \"%\":\n                target = target.substring(3,target.length);\n                tagTable[tagNumber] = [1, target];\n                tagNumber++;\n            break;\n            case \"-\":\n                target = target.substring(1,target.length);\n                tagTable[tagNumber] = [2, target];\n                tagNumber++;\n            break;\n            default:\n                tagTable[tagNumber] = [0, target];\n                tagNumber++;\n            break;\n        }\n        renewTag();\n    }\n}\n \nfunction restoreUserName(parameter){\n    var check = parameter.search(\"created_by/\");\n    if(check < 0)return;\n    var userName = extractSpecificParameter(parameter,check,\"created_by/\");\n    form.check4.checked = true;\n    form.author.value = userName;\n}\n \nfunction restoreOrder(parameter){\n    var check = parameter.search(\"order/\");\n    if(check < 0){\n        form.check9.checked = false;\n        return;\n    }\n    var targetPara = extractSpecificParameter(parameter,check,\"order/\");\n    form.check9.checked = true;\n    setPullDown(\"order\",decodeURIExtension(targetPara));\n}\n \nfunction restoreRate(parameter){\n    var check = parameter.search(\"rating/\");\n    if(check < 0)return;\n    var RateSetting = decodeURIExtension(extractSpecificParameter(parameter,check,\"rating/\"));\n    var i = getParamePositionJustBeforeNumber(RateSetting);\n    form.rating2.value = RateSetting.substring(i,RateSetting.length);\n    RateSetting = RateSetting.substring(0,i);\n    setPullDown(\"rating1\",RateSetting);\n    form.check5.checked = true;\n \n}\n \nfunction restorePageSetting(parameter,target,checkbox,textbox){\n    var check = parameter.search(target);\n    if(check < 0)return;\n    check += target.length;\n    var searchNum = \"\";\n    for(var i = check;i < parameter.length;i++){\n        if(parameter.charAt(i).match(/[^0-9]/))break;\n        searchNum += parameter.charAt(i);\n    }\n \n    form.elements[checkbox].checked = true;\n    form.elements[textbox].value = searchNum;\n}\n \nfunction restoreParentSetting(parameter){\n    if(parameter.search(\"parent/-\") >= 0)form.check10.checked = true;\n \n}\n \nfunction restoreTimeSetting(parameter,type){\n    var targetSentence = (type < 2)?\"created_at/\":\"updated_at/\";\n    var check = parameter.search(targetSentence);\n    if(check < 0)return;\n    var initialCode = (type < 2)?\"C\":\"U\";\n    var radioSwitches = form.elements[initialCode + \"type\"];\n    form.elements[\"check\" + (type+1)].checked = true;\n    var targetAnalyze = extractSpecificParameter(parameter,check,targetSentence);\n    check = targetAnalyze.search(\"last%20\");\n    if(check >= 0){\n        resotorePeriodSetting();\n    }else{\n        restoreYearAndMonthSetting(targetAnalyze);\n    }\n \n    function restoreYearAndMonthSetting(){\n        targetAnalyze = decodeURIExtension(targetAnalyze);\n        radioSwitches[0].checked = true;\n        createTimeForm(type);\n        var endPos = getParamePositionJustBeforeNumber(targetAnalyze);\n        setPullDown(\"option\" + type,targetAnalyze.substring(0,endPos));\n        targetAnalyze = targetAnalyze.substring(endPos,targetAnalyze.length);\n        targetAnalyze = targetAnalyze.split(\".\");\n        setPullDown(\"years\" + type,targetAnalyze[0]);\n        setPullDown(\"month\" + type,targetAnalyze[1]);\n    }\n \n    function resotorePeriodSetting(){\n        radioSwitches[2].checked = true;\n        createTimeForm(type);\n        targetAnalyze = targetAnalyze.split(\"last%20\").join(\"\");\n        for(var i = 0;i < targetAnalyze.length;i++){\n            if(targetAnalyze.charAt(i).match(/[^0-9]/))break;\n        }\n        form.elements[initialCode + \"num1\"].value = targetAnalyze.substring(0,i);\n        setPullDown(initialCode + \"num2\",targetAnalyze.substring(i,targetAnalyze.length));\n    }\n \n}\n \n/*復元用補助関数*/\n \nfunction setPullDown(selecter,SelectValue){\n    var MenuList = form.elements[selecter].getElementsByTagName('option');\n \n    for(var i = 0;i < MenuList.length;i++){\n        if(MenuList[i].value == SelectValue){\n            MenuList[i].selected = true;\n        }else{\n            MenuList[i].selected = false;\n        }\n    }\n}\n\nfunction decodeURIExtension(target){\n/*この関数の\n参考:\nyukioc氏\nJavaScriptでURLをちょっと賢く解読する。 CodingFirst\nhttp://iyukki.blog56.fc2.com/blog-entry-120.html*/\n    target=target.replace(/%(?:25)+([0-9A-F][0-9A-F])/g,function(whole,m1){\n        return \"%\"+m1;\n    });\n    var utf8uri = new RegExp(\n        \"%[0-7][0-9A-F]|\"+\n        \"%C[2-9A-F]%[89AB][0-9A-F]|%D[0-9A-F]%[89AB][0-9A-F]|\"+\n        \"%E[0-F](?:%[89AB][0-9A-F]){2}|\"+\n        \"%F[0-7](?:%[89AB][0-9A-F]){3}|\"+\n        \"%F[89AB](?:%[89AB][0-9A-F]){4}|\"+\n        \"%F[CD](?:%[89AB][0-9A-F]){5}\",\"ig\");\n    target=target.replace(utf8uri,function(whole){\n        return decodeURI(whole);\n    });\n    return target;\n}\n \nfunction extractSpecificParameter(parameter,check,target){\n    check += target.length;\n    for(var i = check;i < parameter.length;i++){\n        if(parameter.charAt(i) == \"/\")break;\n        if(parameter.charAt(i) == \"#\")break;\n    }\n    return parameter.substring(check,i);\n}\n \nfunction getParamePositionJustBeforeNumber(target){\n    for(var i = 0;i < target.length;i++){\n        if(target.charAt(i).match(/[0-9]/)){\n        break;\n        }\n    }\n    return i;\n}\n \nfunction keydownTagInput(event){\nif(event.keyCode == 13){\nif(document.mainForm.tagInput.value.length == 0){\nstartSearch(0)\n}else{\ntagInput1();\n}\n}\n}\n</script>\n<form name='mainForm'>\n<input type=\"button\" value=\"この条件で検索\" onclick=\"startSearch(0)\">\n<span id = \"tagField\"><p><input type='checkbox' name='check1' value='true' checked='checked'>指定タグ: </p></span>\n<p>直接入力: <input type=\"text\" name=\"tagInput\" value=\"\" onkeydown=\"keydownTagInput(event);\"><input type=\"button\" value=\"タグを反映\" onclick=\"tagInput1()\"></p>\n<center><h2>並べ替えオプション</h2></center>\n<table style=\"margin-right:auto; margin-left:auto; width: 90%; border: 1px solid silver;\">\n<tr>\n<td style=\"text-align: left; border: 0px\">\n<p>文字数ソートはページごとのカウントのため、特定のモジュールを利用したギミックを持つ記事などでは見た目の文字数と異なる場合があります。表示数は一画面に表示する記事の最大数を設定できます。オフセットでは、並び順の最初から設定した順番までの表示をカットします。</p>\n<p><input type=\"checkbox\" name=\"check9\" value=\"true\" checked='checked'>並び順: \n<select name=\"order\">\n</select></p>\n<p><input type=\"checkbox\" name=\"check6\">オフセット: <input type=\"number\" name=\"offset\" value=\"0\" max=\"250\" min=\"0\"></p>\n</td>\n</tr>\n</table>\n<center><h2>絞込みオプション</h2></center>\n<table style=\"margin-right:auto; margin-left:auto; width: 90%; border: 1px solid silver;\">\n<tr>\n<td style=\"text-align: left; border: 0px\">\n<p><input type=\"checkbox\" name=\"check2\">作成日時: <input type=\"radio\" name=\"Ctype\" value=\"0\" checked=\"checked\" onChange=\"createTimeForm(1)\">年と月を指定 <input type=\"radio\" name=\"Ctype\" value=\"1\" onChange=\"createTimeForm(1)\">日付を指定 <input type=\"radio\" name=\"Ctype\" value=\"2\" onChange=\"createTimeForm(1)\">期間を指定</p>\n<span id=\"created_at\"></span>\n<p><input type=\"checkbox\" name=\"check3\">更新日時: <input type=\"radio\" name=\"Utype\" value=\"0\" checked=\"checked\" onChange=\"createTimeForm(2)\">年と月を指定 <input type=\"radio\" name=\"Utype\" value=\"1\" onChange=\"createTimeForm(2)\">日付を指定 <input type=\"radio\" name=\"Utype\" value=\"2\" onChange=\"createTimeForm(2)\">期間を指定</p>\n<span id=\"updated_at\"></span>\n<p><input type=\"checkbox\" name=\"check4\">ページ作者: <input type=\"text\" name=\"author\"  value=\"user_name\"></p>\n<p><input type=\"checkbox\" name=\"check5\">評価値: <input type=\"number\" name=\"rating2\" value=\"0\" /><select name=\"rating1\" value=\"=\">\n</select></p>\n<!-- <p><input type=\"checkbox\" name=\"check7\">先頭の文字: <input type=\"text\" name=\"chara\"></p> 動作が不安定なため未使用-->\n<p><input type=\"checkbox\" name=\"check10\">親ページのみ表示</p>\n</td>\n</tr>\n</table>\n<center>\n<input type=\"button\" value=\"この条件で検索\" onclick=\"startSearch(0)\">\n</center>\n</form>\n[[/html]]\n[[/div]]",
  "tags": [
    "jp",
    "管理"
  ],
  "author": "C-take",
  "created_at": "2018-03-18T07:04:57+00:00",
  "updated_at": "2021-04-05T12:07:38+00:00",
  "rating": 10,
  "_site": "scp-jp",
  "_fullname": "workbench:multi-tag-search"
}
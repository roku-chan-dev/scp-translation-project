{
  "title": "SCP链接跳转工具",
  "content": "[[iftags +组件]]\n\n++ 这是什么？\n鉴于目前（2023/12/23）Wikidot出现的错误，大部分站外链接或者浏览器输入链接都无法访问对应的页面。该工具旨在提供临时的解决方案，允许用户可以快速访问任意Wikidot页面，或生成该页面的可用链接。\n\n本跳转工具基于[[*user hoah2333]]的[[[scp-redirecter|SCP链接重定向模块]]]制作，非常感谢！\n\n++ 使用方法：\n\n在你的页面中添加以下代码：\n> @@[[include :scp-wiki-cn:component:scp-redirecter-tool]]@@\n\n该组件支持最多五个自定义的Wikidot站点。添加方式如下：\n\n> @@[[include :scp-wiki-cn:component:scp-redirecter-tool@@\n> @@|custom1=name@@ ##blue|（例，scp-int）##\n> @@|custom2=name2@@  ##blue|（如不需要则删除此行）##\n> @@|custom3=name3@@\n> @@|custom4=name4@@\n> @@|custom5=name5@@\n> @@]]@@\n\n-----\n\n[[/iftags]]\n\n[[html]]\n\n<style>\n\nbody {\nfont-family:Consolas;font-size: 12.8px;color: #333;\n}\n\n.link-container {\nopacity:0;position:absolute;z-index:-10;top:-1em;\n}\n\n</style>\n\n<body>\n    <div style=\"text-align:center\">\n        <div id=\"url-type\">\n            <input type=\"radio\" name=\"url-sel\" value=\"scp-wiki-cn\" onclick=\"toggleSite()\" checked>中文维基\n            <input type=\"radio\" name=\"url-sel\" value=\"scpsandboxcn\" onclick=\"toggleSite()\">沙盒\n            <input type=\"radio\" name=\"url-sel\" value=\"scp-wiki\" onclick=\"toggleSite()\">英文维基\n        </div>\n        <p>\n            <input type=\"checkbox\" id=\"isHttps\" onclick=\"toogleMethod()\" checked>使用HTTPS（如果仍然报错，请取消勾选此项重试）\n        </p>\n        <p>\n            <span id=\"method\">https://</span>\n            <input type=\"text\" id=\"site\" name=\"site\" placeholder=\"site\" size=\"25\" style=\"display:none\" >\n            <span id=\"url-pre\">scp-wiki.wikidot.com/</span>\n            <input type=\"text\" id=\"url\" name=\"url\" placeholder=\"URL\" size=\"25\" >\n        </p>\n        <p id=\"siteError\" style=\"display:none\">站点名称不能为空！</p>\n        <p>\n            <button onclick=\"Go()\">打开</button>\n            <button onclick=\"ViewLink()\">生成链接</button>\n        </p>\n        <p>\n            <span id=\"generated-link\"></span>\n            <button onclick=\"CopyLink()\" id=\"copybtn\" style=\"display:none\">复制链接</button>\n        </p>\n        <input id=\"link-container\" class=\"link-container\">\n    </div>\n</body>\n\n<script language=\"javascript\">\nconst customSites = [\"{$custom1}\", \"{$custom2}\", \"{$custom3}\", \"{$custom4}\", \"{$custom5}\"];\nconst REDIRECTOR = 'https://hoah2333.github.io/Archived-works/SCP/scp-redirecter/main.html';\nconst REDIRECTOR_HTTP = 'http://91secretsandbox.wdfiles.com/local--html/scp-redirect/17f5724c18b3bb2dd26afb92de06d7b2c77dbc2e-14723616241851710975/91secretsandbox.wikidot.com/';\n\nfunction createRadio(container, value, text) {\n    container.innerHTML += '<input type=\"radio\" name=\"url-sel\" value=\"' + value + '\" onclick=\"toggleSite()\">' + text;\n}\n\nfunction populateSites() {\n    container = document.getElementById(\"url-type\");\n    customSites.forEach( (v,i) => {\n        if (!v.includes(\"$\")) {\n            createRadio(container, v, v);\n        }\n    })\n    createRadio(container, \"other\", \"其他站点\");\n}\n\nfunction getSiteSelection() {\n   var urltype = document.getElementsByName('url-sel');\n   for (element of urltype) {\n        if (element.checked){\n            return element.value;\n        }\n   }\n}\n\nfunction toogleMethod(){\n    isHttps = document.getElementById('isHttps').checked;\n    document.getElementById('method').innerText = isHttps ? \"https://\" : \"http://\";\n}\n\nfunction toggleSite(){\n    siteSelection = getSiteSelection();\n    if (siteSelection == \"other\") {\n        document.getElementById('site').style.display = 'inline';\n    }\n    else {\n        document.getElementById('site').style.display = 'none';\n    }\n    document.getElementById('url-pre').innerHTML = (siteSelection != \"other\" ? siteSelection : '') + '.wikidot.com/';\n}\n\nfunction getLink(){\n    siteSelection = getSiteSelection();\n    site = siteSelection != \"other\" ? siteSelection : document.getElementById('site').value;\n    url=document.getElementById(\"url\").value;\n    if (!site || site == \"\") {\n        document.getElementById('siteError').style.display = 'inline';\n        return \"\";\n    }\n    else {\n        document.getElementById('siteError').style.display = 'none';\n    }\n    isHttps = document.getElementById('isHttps').checked;\n    result = isHttps ? REDIRECTOR : REDIRECTOR_HTTP;\n    result += '?site=' + site;\n    if (url && url != \"\"){\n         result += '&name=' + url;\n    }\n    if (!isHttps){\n         result += '&method=http';\n    }\n    return result;\n}\n\nfunction Go(){\n    result = getLink();\n    if (result != \"\") {\n        document.getElementById(\"site\").value = \"\";\n        document.getElementById(\"url\").value = \"\";\n        window.open(result);\n    }\n}\n\nfunction ViewLink(){\n    result = getLink();\n    document.getElementById(\"generated-link\").innerHTML = result;\n    document.getElementById(\"copybtn\").style.display = result != \"\" ? \"inline\" : \"none\";\n    document.getElementById(\"link-container\").value = result;\n}\n\nfunction CopyLink(){\n    document.getElementById(\"link-container\").select();\n    document.execCommand(\"copy\");\n}\n\n\npopulateSites();\ntoggleSite();\n\n</script>\n\n[[/html]]",
  "tags": [
    "原创",
    "组件"
  ],
  "author": "W Asriel",
  "created_at": "2023-12-24T01:35:07+00:00",
  "updated_at": "2023-12-26T07:02:52+00:00",
  "rating": 9,
  "_site": "scp-wiki-cn",
  "_fullname": "component:scp-redirecter-tool"
}
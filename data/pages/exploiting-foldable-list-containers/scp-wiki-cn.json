{
  "title": "利用可折叠列表容器",
  "content": "[[module CSS]]\n\n.code {\n    margin: 1em 0;\n}\n\n/* Generic content box */\n.content-box {\n    margin: 1em 0;\n    border: solid 2px #000;\n    padding: 13px 15px 8px;\n    box-shadow: 0 1px 3px rgba(0,0,0,.2);\n}\n\n/* Classified box */\n.classified-box {\n    background: url(\"https://scp-wiki.wdfiles.com/local--files/the-great-hippo/scp_trans.png\") center no-repeat;\n    float: center;\n}\n\n/* FLC stuff */\n.flc-cleaner > ul,\n.flc-cleaner > ul > li {\n    display: block;\n    line-height: normal;\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n.flc-cleaner .foldable-list-container {\n    display: inline-block;\n}\n.classified-hider li.folded > .classified-hider-closed {\n    display: none;\n}\n.classified-hider li.unfolded > .classified-hider-open {\n    display: none;\n}\n.document-swapper li.folded > .foldable-list-container > a:nth-child(1) {\n    display: none;\n}\n.document-swapper li.unfolded > .foldable-list-container > a:nth-child(2) {\n    display: none;\n}\n.document-swapper li.folded > .document-swapper-original {\n    display: none;\n}\n.document-swapper li.unfolded > .document-swapper-transcribed {\n    display: none;\n}\n\n/* Utilization tutorial stuff */\nli.folded > .colorme { color: blue; }\nli.unfolded > .colorme { color: orange; }\n.colorme-wrapper li.folded > .colorme2 { color: blue; }\n.colorme-wrapper li.unfolded > .colorme2 { color: orange; }\n\n[[/module]]\n\n[[>]]\n[[include :scp-wiki-cn:credit:start-standalone]]\n[[=]]\n**利用可折叠列表容器**\n\n[[*user MirageTD]] 著\n**[[span style=\"font-size: 80%;\"]][https://scp-wiki.wikidot.com/miragetd 此作者的更多作品][[/span]]**\n[[/=]]\n[[include :scp-wiki-cn:credit:end-standalone]]\n[[/>]]\n\n本指导假定你对wikidot代码、HTML和CSS都具有良好的理解。[[footnote]]**译注：**事实上译者对此完全是一窍不通，但看了这篇指导仍然能学fu会zhi一些有用的代码。[[/footnote]]如果你是这方面的新手，你可能会想先看看[[[advanced-formatting-and-you|你与高级格式]]]和[[[manuel-de-formatage-avance|高级格式手册]]]。\n\n-----\n\n++ 内容\n* [#toc1 这是什么？]\n* [#toc2 它有什么用？]\n* [#toc5 我该怎么使用它？]\n * [#toc6 准备工作]\n * [#toc7 应用]\n* [#toc8 总结]\n\n-----\n\n+ 这是什么？\n\n[[span class=\"ruby\"]]可折叠列表容器[[span class=\"rt\"]]foldable list containers[[/span]][[/span]]（在此指导中将被称为FLC）的预期作用，在[[[advanced-formatting-and-you|你与高级格式]]]的第二节中有所展示。这也是[[*user Boyu12]]制作的[[[component:coltop|嵌套折叠]]]的基础。\n\n通常情况下，FLC只是一种替代性的折叠功能。不过，如果你把折叠功能剥离出来，它们的作用实际上就只是在你点击按键时切换一个元素的类别。为了了解这一点，让我们看看最基础的FLC例子背后发生了什么。\n\n[[code]]\n[[div class=\"foldable-list-container\"]]\n* 外部短句\n * 内部短句\n[[/div]]\n[[/code]]\n\n[[div class=\"foldable-list-container\"]]\n* 外部短句\n * 内部短句\n[[/div]]\n\n如果我们在这个元素折叠起来的时候查看它的源，它看起来是这样的：\n\n[[code type=\"html\"]]\n<div class=\"foldable-list-container\">\n  <ul>\n    <li class=\"folded\">\n      <a href=\"javascript:;\">外部短句</a>\n      <ul style=\"display: none;\">\n        <li>内部短句</li>\n      </ul>\n    </li>\n  </ul>\n</div>\n[[/code]]\n\n展开的时候则是这样的：\n\n[[code type=\"html\"]]\n<div class=\"foldable-list-container\">\n  <ul>\n    <li class=\"unfolded\">\n      <a href=\"javascript:;\">外部短句</a>\n      <ul style=\"\">\n        <li>内部短句</li>\n      </ul>\n    </li>\n  </ul>\n</div>\n[[/code]]\n\n我们点下“外部短句”的时候，第一个列表项元素的类在“folded”和“unfolded”中切换。\n\n+ 它有什么用？\n\n让读者能够将一个元素在两种不同状态间切换可以产生一些有趣的用例。比方说，你有一篇很酷的手写日记，是某种怪物的受害者写的，你想把它添加到文章中去；但为了方便理解，你也想给读者一个直接阅读转录版本的选择。\n\n[[div class=\"blockquote\"]]\n\n[[div_ class=\"flc-cleaner document-swapper\"]]\n[[ul]][[li class=\"unfolded\"]]\n\n[[div_ class=\"foldable-list-container\" style=\"margin-top: 1em;\"]]\n[# 显示转录文档][# 显示原版文档]\n[[/div]]\n\n[[div class=\"document-swapper-original\"]]\n[[image https://scp-wiki.wikidot.com/local--files/exploiting-foldable-list-containers/bright.jpg style=\"margin: 1em 0;\"]]\n[[/div]]\n\n[[div class=\"document-swapper-transcribed\"]]\n[[div class=\"blockquote\"]]\nThere once was a lady named Bright\nWho traveled much faster than light\nShe departed one day\nIn a relative way\nAnd arrived on the previous night[[footnote]]**译注：**本段仅用于展示切换效果，不作赘译。[[/footnote]]\n[[/div]]\n[[/div]]\n\n[[/li]][[/ul]][[/div]]\n\n[[/div]]\n\n或者你也可能想让读者在“提交凭证”后不被切换到另一个页面，而是就地让按键变成供阅读的内容。\n\n[[div class=\"blockquote\"]]\n\n[[div_ class=\"flc-cleaner classified-hider\"]]\n[[ul]][[li class=\"unfolded\"]]\n[[div class=\"classified-hider-closed\"]]\n\n**附录 XXXX.X：**[已编辑]\n\n[[=]]\n[[div class=\"content-box classified-box\"]]\n++ 以下文档为X/XXXX级机密\n----\n[[div_ class=\"foldable-list-container\"]]\n+++ [# 提交凭证以查看]\n[[/div]]\n[[/div]]\n[[/=]]\n\n[[/div]]\n[[div class=\"classified-hider-open\"]]\n\n**附录 XXXX.X：**超级机密记录。\n\n[[div class=\"blockquote\"]]\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Duis ultricies lacus sed turpis tincidunt id aliquet risus feugiat. Vulputate dignissim suspendisse in est ante in nibh. Mattis rhoncus urna neque viverra. Vulputate mi sit amet mauris commodo quis imperdiet massa. Nulla facilisi morbi tempus iaculis urna id volutpat. Non odio euismod lacinia at quis risus sed vulputate. Sem integer vitae justo eget magna fermentum iaculis.[[footnote]]**译注：**一段常用的测试用拉丁语文本，不作赘译。[[/footnote]]\n[[/div]]\n\n[[/div]][[/li]][[/ul]][[/div]]\n\n[[/div]]\n\nFLC可以为你提供这些功能！这只是几个基础例子，还有很多应用方法。如果你对CSS很在行，你甚至可以加入一些很酷的动画！\n\n+ 我该怎么使用它？\n\n++ 准备工作\n\n我们首先要使用wikidot的本地代码把那个基础FLC例子的源代码重写一遍。\n\n[[code]]\n[[div_ class=\"foldable-list-container\"]]\n  [[ul]]\n    [[li class=\"folded\"]]\n      [# 外部短句]\n      [[ul]]\n        [[li]]内部短句[[/li]]\n      [[/ul]]\n    [[/li]]\n  [[/ul]]\n[[/div]]\n[[/code]]\n\n[[div_ class=\"foldable-list-container\"]]\n  [[ul]]\n    [[li class=\"folded\"]]\n      [# 外部短句]\n      [[ul]]\n        [[li]]内部短句[[/li]]\n      [[/ul]]\n    [[/li]]\n  [[/ul]]\n[[/div]]\n\n有趣的是，包含foldable-list-container类的div块并不一定要在层次结构的顶端。只要它包含着链接单元，列表项元素的类就可以无障碍地在folded和unfolded之间切换。但这确实会破坏内部短句的显示方式，那么我们来避免这种情况。\n\n[[code]]\n[[ul]]\n  [[li class=\"folded\"]]\n    [[div_ class=\"foldable-list-container\"]]\n      [# 外部短句]\n    [[/div]]\n  [[/li]]\n[[/ul]]\n[[/code]]\n\n[[ul]][[li class=\"folded\"]]\n[[div_ class=\"foldable-list-container\"]]\n[# 外部短句][[/div]][[/li]][[/ul]]\n\n[[div]]\n它看起来好像什么用也没有，但你每次点击它，类都//在//被切换。如果你想确认它有没有工作，你可以查看页面源代码。\n[[/div]]\n\n最后，你可能想要去掉列表的格式，在上面搞点小装饰。这可以通过样式化div包装器来做到。\n\n[[code]]\n[[module CSS]]\n.flc-cleaner > ul,\n.flc-cleaner > ul > li {\n    display: block;\n    line-height: normal;\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n.flc-cleaner .foldable-list-container {\n    display: inline-block;\n}\n[[/module]]\n\n[[div_ class=\"flc-cleaner\"]]\n[[ul]][[li class=\"folded\"]]\n\n[[div_ class=\"foldable-list-container\"]]\n[# 切换]\n[[/div]]\n\n[[/li]][[/ul]][[/div]]\n[[/code]]\n\n[[div_ class=\"flc-cleaner\"]]\n[[ul]][[li class=\"folded\"]]\n\n[[div_ class=\"foldable-list-container\"]]\n[# 切换]\n[[/div]]\n\n[[/li]][[/ul]][[/div]]\n\n值得注意的是，这个样式化也会影响flc-cleaner div里的//所有//列表，但这在大部分情况下都是一个好模板。\n\n++ 应用\n\n利用切换类是为了使用[https://www.w3school.com.cn/css/css_selectors.asp 选择器]。通过选中folded类下的元素X并对其应用一个样式，然后在unfolded类下选中相同的元素并应用一个//不同//的样式，元素X的样式将随着列表项元素的类变化。\n\n[[code]]\n[[module CSS]]\nli.folded > .colorme { color: blue; }\nli.unfolded > .colorme { color: orange; }\n[[/module]]\n\n[[div_ class=\"flc-cleaner\"]]\n[[ul]][[li class=\"folded\"]]\n\n[[div_ class=\"foldable-list-container\"]]\n[# Toggle]\n[[/div]]\n\n[[div class=\"colorme\"]]\n**看看这些酷炫的颜色！**\n[[/div]]\n\n[[/li]][[/ul]][[/div]]\n[[/code]]\n\n[[div_ class=\"flc-cleaner\"]]\n[[ul]][[li class=\"folded\"]]\n\n[[div_ class=\"foldable-list-container\"]]\n[# 切换]\n[[/div]]\n\n[[div class=\"colorme\"]]\n**看看这些酷炫的颜色！**\n[[/div]]\n\n[[/li]][[/ul]][[/div]]\n\n如果你想要在文章中使用多于一个FLC，你应该把样式化的范围限制在一个包装器类里。\n\n[[code]]\n[[module CSS]]\n.colorme-wrapper li.folded > .colorme { color: blue; }\n.colorme-wrapper li.unfolded > .colorme { color: orange; }\n[[/module]]\n\n[[div_ class=\"flc-cleaner colorme-wrapper\"]]\n[[ul]][[li class=\"folded\"]]\n\n[[div_ class=\"foldable-list-container\"]]\n[# 切换]\n[[/div]]\n\n[[div class=\"colorme\"]]\n**看看这些酷炫的颜色！**\n[[/div]]\n\n[[/li]][[/ul]][[/div]]\n\n[[div_ class=\"flc-cleaner\"]]\n[[ul]][[li class=\"folded\"]]\n\n[[div_ class=\"foldable-list-container\"]]\n[# 切换]\n[[/div]]\n\n[[div class=\"colorme\"]]\n我没有颜色 :(\n[[/div]]\n\n[[/li]][[/ul]][[/div]]\n[[/code]]\n\n[[div_ class=\"flc-cleaner colorme-wrapper\"]]\n[[ul]][[li class=\"folded\"]]\n\n[[div_ class=\"foldable-list-container\"]]\n[# 切换]\n[[/div]]\n\n[[div class=\"colorme2\"]]\n**看看这些酷炫的颜色！**\n[[/div]]\n\n[[/li]][[/ul]][[/div]]\n\n[[div_ class=\"flc-cleaner\"]]\n[[ul]][[li class=\"folded\"]]\n\n[[div_ class=\"foldable-list-container\"]]\n[# 切换]\n[[/div]]\n\n[[div class=\"colorme2\"]]\n我没有颜色 :(\n[[/div]]\n\n[[/li]][[/ul]][[/div]]\n\n前面的文档切换器和机密内容掩盖例子都使用了相同的技术，有条件地切换元素的可见性（而非颜色）。你也可以毫无困难地改变包含按键的元素的样式，或者是按键本身的样式！\n\n+ 总结\n\n这就是全部内容了！剩下的就是CSS的事了，尽情尝试样式化吧！\n\n[[include :scp-wiki-cn:component:license-box\n| author = MirageTD\n]]\n=====\n=====\n> **文件名：**bright.jpg\n> **图像作者：**[[*user MirageTD]]\n> **授权协议：**[[[https://creativecommons.org/licenses/by-sa/3.0/ | CC BY-SA 3.0]]]\n> **来源链接：**[https://scp-wiki.wikidot.com/exploiting-foldable-list-containers https://scp-wiki.wikidot.com/exploiting-foldable-list-containers]\n=====\n[[include :scp-wiki:component:license-box-end]]",
  "tags": [
    "文章"
  ],
  "author": "LeeBr",
  "created_at": "2023-04-29T10:19:52+00:00",
  "updated_at": "2023-04-29T10:21:36+00:00",
  "rating": 7,
  "_site": "scp-wiki-cn",
  "_fullname": "exploiting-foldable-list-containers"
}
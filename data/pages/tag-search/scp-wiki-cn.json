{
  "title": "标签搜索",
  "content": "[[>]]\n[[a class=\"tags-button\" href=\"/fragment:tag-search\"]][[span class=\"fa fa-tags\"]]@<&nbsp;>@[[/span]] 标签录入[[/a]]\n[[/>]]\n[!--\n工作原理：这个检索系统采用的是wikidot的ListPages功能来创建页面列表。ListPages模块可以根据不同的条件筛选页面，不仅可以设定为通常的数值和字符串，也可以通过“@URL|默认值”这种形式、在此页URL的末尾添加“/检索选项/任意参数”，以指定的参数创建列表。此外，可以同时设置多个URL参数，因此可以自由地设置各种选项。检索系统本身则使用了Javascript来生成检索选项的URL。\n--]\n\n+ 分部设置\n\n[!--\n[[code type=\"javascript\"]]\nvar SearchSettingParam = new Object();\n\nSearchSettingParam.BranchData = new Object();\nSearchSettingParam.RecentlyTagData = new Object();\nSearchSettingParam.getBranchByTag;\n\n//-----------------设置--------------------\n\n\n//设置各分部的网站URL以及国旗等\n\nSearchSettingParam.BranchData.en = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/us.png\",\n\t\turl:\"http://scp-wiki.wikidot.com/\",\n\t\tTag:\"\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.ru = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/ru.png\",\n\t\turl:\"http://scpfoundation.ru/\",\n\t\tTag:\"ru\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.ko = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/kr.png\",\n\t\turl:\"http://ko.scp-wiki.net/\",\n\t\tTag:\"ko\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.cn = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/cn.png\",\n\t\turl:\"http://scp-wiki-cn.wikidot.com/\",\n\t\tTag:\"原创\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.fr = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/fr.png\",\n\t\turl:\"http://fondationscp.wikidot.com/\",\n\t\tTag:\"fr\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.pl = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/pl.png\",\n\t\turl:\"http://scp-pl.wikidot.com/\",\n\t\tTag:\"pl\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.es = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/es.png\",\n\t\turl:\"http://lafundacionscp.wikidot.com/\",\n\t\tTag:\"es\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.th = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/th.png\",\n\t\turl:\"http://scp-th.wikidot.com/\",\n\t\tTag:\"th\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.jp = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/jp.png\",\n\t\turl:\"http://ja.scp-wiki.net/\",\n\t\tTag:\"jp\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.de = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/de.png\",\n\t\turl:\"http://scp-wiki-de.wikidot.com/\",\n\t\tTag:\"de\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.it = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/it.png\",\n\t\turl:\"http://fondazionescp.wikidot.com/\",\n\t\tTag:\"it\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.ua = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/ua.png\",\n\t\turl:\"http://scp-ukrainian.wikidot.com/\",\n\t\tTag:\"ua\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.pt = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/pt.png\",\n\t\turl:\"http://scp-pt-br.wikidot.com/\",\n\t\tTag:\"pt\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.wanderers = {\n\t\tflag:\"http://scp-wiki-cn.wdfiles.com/local--files/main/SerpHand.png\",\n\t\turl:\"http://wanderers-library.wikidot.com/\",\n\t\tTag:\"wanderers\",\n\t\tcreateSource:true\n\t};\n\nSearchSettingParam.BranchData.undefinedDefault = {\n\t\tflag:\"\",\n\t\turl:\"\",\n\t\tcreateSource:false\n\t};\n\n//-----------------实际处理------------------------------\n\n\n//复位\n\nSearchSettingParam.RecentlyTagData.reset = function(){\n\tSearchSettingParam.RecentlyTagData.Branch = \"en\";\n\tSearchSettingParam.RecentlyTagData.Tag = \"\";\n}\n\nSearchSettingParam.RecentlyTagData.reset();\n\n\n//根据标签识别分部\n\nSearchSettingParam.getBranchByTag = function(tags){\n\tSearchSettingParam.RecentlyTagData.reset();\n\tvar targetTag = tags.split(\" \");\n\tvar Duplication = 0;\n\tvar branch = \"en\";\n\tfor(var i = 0;i < targetTag.length;i++){\n\t\tfor(var j in SearchSettingParam.BranchData){\n\t\t\tif(j==\"en\" || j==\"undefinedDefault\"){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(targetTag[i] == SearchSettingParam.BranchData[j].Tag){\n\t\t\t\tif(branch != j && j != \"wanderers\"){\n\t\t\t\t\tDuplication++;\n\t\t\t\t}\n\t\t\t\tif(branch != \"wanderers\"){\n\t\t\t\t\tbranch = j;\n\t\t\t\t}\n\t\t\t\tSearchSettingParam.RecentlyTagData.Branch = j;\n\t\t\t\tSearchSettingParam.RecentlyTagData.Tag = SearchSettingParam.BranchData[j].Tag;\n\t\t\t}\n\t\t}\n\t}\n\tif(Duplication > 1){\n\t\tbranch = \"undefinedDefault\";\n\t\tSearchSettingParam.RecentlyTagData.reset();\n\t}\n\tdelete targetTag;\n\treturn branch;\n}\n\n//清理缓存\nwindow.addEventListener(\"beforeunload\", function(){\n\tdelete SearchSettingParam;\n});\n\n[[/code]]\n--]\n\n+ 系统\n\n[[module css]]\nth p {\ndisplay: inline !important;\n}\n.list-pages-item p {\ndisplay: inline !important;\n}\n.list-pages-item span {\ndisplay: inline-block !important;\n}\n.wiki-content-table {\ndisplay: none;\n}\n#page-content .wiki-content-table th span, #page-content .wiki-content-table td span {\nborder-style: none !important;\ntext-align: left !important;\nbackground-color: transparent !important;\npadding: 0 !important;\nfont-weight: normal !important;\n}\n.objectColor {\ndisplay: none;\n}\n.pageNum span:nth-of-type(1) {\ndisplay: inline !important;\n}\n.datahtml .list-pages-item {\ndisplay: none !important;\n}\n.tags-button{\nborder: 1px solid;\nborder-color: #ddd #bbb #bbb #ddd;\nborder-bottom-width: 2px;\nborder-radius: 4px;\nbackground-color: #f9f9f9;\nmargin: 0 2px;\npadding: 1px 3px;\nwhite-space: nowrap;\n}\n#toc0, #toc1{\ndisplay:none;\n}\n[[/module]]\n[[module ListPages range=\".\" limit=\"@URL|0\" urlAttrPrefix=\"list1\"]]\n[[%%content{0}%%module css]]\n.object .explained {\nfont-size: 100% !important;\ncolor: #77FFFF !important;\n}\n.object .unclassed {\nfont-size: 100% !important;\ncolor: #777777 !important;\n}\n.object .safe {\nfont-size: 100% !important;\ncolor: #00FF00 !important;\n}\n.object .euclid {\nfont-size: 100% !important;\ncolor: #FFDD00 !important;\n}\n.object .keter {\nfont-size: 100% !important;\ncolor: #FF0000 !important;\n}\n.object .thaumiel {\nfont-size: 100% !important;\ncolor: #000000 !important;\n}\n.object .neutralized {\nfont-size: 100% !important;\ncolor: #9900FF !important;\n}\n.objectColor {\ndisplay: inline-block !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" limit=\"@URL|0\" urlAttrPrefix=\"list2\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(2) {\ndisplay: none;\n}\n.wiki-content-table td:nth-of-type(2) {\ndisplay: none;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" limit=\"@URL|0\" urlAttrPrefix=\"list3\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(3) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(3) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" offset=\"@URL|0\" urlAttrPrefix=\"list4\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(4) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(4) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" offset=\"@URL|0\" urlAttrPrefix=\"list5\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(5) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(5) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" offset=\"@URL|0\" urlAttrPrefix=\"list6\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(6) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(6) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" offset=\"@URL|0\" urlAttrPrefix=\"list7\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(7) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(7) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" limit=\"@URL|0\" urlAttrPrefix=\"list8\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(8) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(8) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" limit=\"@URL|0\" urlAttrPrefix=\"list9\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(9) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(9) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" offset=\"@URL|0\" urlAttrPrefix=\"list10\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(10) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(10) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" offset=\"@URL|0\" urlAttrPrefix=\"list11\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(11) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(11) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" offset=\"@URL|0\" urlAttrPrefix=\"list12\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table th:nth-of-type(12) {\ndisplay: none !important;\n}\n.wiki-content-table td:nth-of-type(12) {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[module ListPages range=\".\" offset=\"@URL|0\" urlAttrPrefix=\"list15\"]]\n[[%%content{0}%%module css]]\n.uvdv {\ndisplay: none !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n\n[[module ListPages range=\".\" limit=\"@URL|0\"]]\n[[%%content{0}%%module css]]\n.wiki-content-table {\ndisplay: inline-block !important;\n}\n.en .ru a img,\n.en .ko a img,\n.en .原创 a img,\n.en .fr a img,\n.en .pl a img,\n.en .es a img,\n.en .th a img,\n.en .jp a img,\n.en .de a img,\n.en .it a img,\n.en .ua a img,\n.en .pt a img,\n.en .wanderers a img{\nfont-size: 0% !important;\nwidth: 0px !important;\nheight: 0px !important;\nfloat: none !important;\n}\n\n.ru .ru a img,\n.ko .ko a img,\n.cn .原创 a img,\n.fr .fr a img,\n.pl .pl a img,\n.es .es a img,\n.th .th a img,\n.jp .jp a img,\n.de .de a img,\n.it .it a img,\n.ua .ua a img,\n.pt .pt a img,\n.wanderers .wanderers a img{\nfont-size: 100% !important;\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n[[%%content{0}%%/module]]\n[[/module]]\n[[=]]\n[[span class=\"pageNum\"]]\n[[module ListPages separate=\"no\" category=\"@URL|*\" tags=\"@URL\" created_at=\"@URL\" updated_at=\"@URL\" created_by=\"@URL\" rating=\"@URL\" votes=\"@URL\" link_to=\"@URL\" offset=\"@URL|0\" name=\"@URL\" limit=\"@URL|0\" perPage=\"@URL|20\" parent=\"@URL\" order=\"@URL|created_at desc\"]]\n[[span style=\"display:none\"]]共%%total_or_limit%%个结果[[/span]]\\\n[[/module]]\n[[module ListPages separate=\"no\" category=\"@URL|*\" tags=\"@URL\" created_at=\"@URL\" updated_at=\"@URL\" created_by=\"@URL\" rating=\"@URL\" votes=\"@URL\" link_to=\"@URL\" offset=\"@URL|0\" name=\"@URL\" limit=\"@URL|0\" perPage=\"@URL|20\" parent=\"@URL\" order=\"@URL|created_at desc\" urlAttrPrefix=\"metatitle\"]]\n[[span style=\"display:none\"]]共%%total_or_limit%%个结果[[/span]]\\\n[[/module]]\n[[/span]]\n[[span class=\"objectColor\"]]##00FF00|●##:Safe    ##FFDD00|●##:Euclid    ##FF0000|●##:Keter    ##000000|●##:Thaumiel    ##777777|●##:机密分级    ##77FFFF|●##:已解明    ##9900FF|●##:无效化[[/span]]\n[[module ListPages separate=\"no\" category=\"@URL|*\" wrapper=\"no\" tags=\"@URL\" created_at=\"@URL\" updated_at=\"@URL\" created_by=\"@URL\" rating=\"@URL\" votes=\"@URL\" link_to=\"@URL\" offset=\"@URL|0\" name=\"@URL\" limit=\"@URL|0\" perPage=\"@URL|20\" parent=\"@URL\" order=\"@URL|created_at desc\"]]\n[[head]]\n[[table class=\"wiki-content-table\"]]\n[[row]][[hcell]]页面标题（原文链接）[[/hcell]]\n[[hcell]]创建者[[/hcell]]\n[[hcell]]创建日期[[/hcell]]\n[[hcell]]最新更新[[/hcell]]\n[[hcell]]最新更新日期[[/hcell]]\n[[hcell]]最新讨论[[/hcell]]\n[[hcell]]最新讨论日期[[/hcell]]\n[[hcell]]讨论[[/hcell]]\n[[hcell]]评分[[span class=\"uvdv\"]](UV/DV)[[/span]][[/hcell]]\n[[hcell]]内容长度[[/hcell]]\n[[hcell]]子页面[[/hcell]]\n[[hcell]]页面版本[[/hcell]][[/row]]\n[[/head]]\n[[body]]\n[[row]]\n[[cell]][[span_]][[/span]]\n%%index%%. [[span class=\"object\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]]● [[/span]][[/span]][[span_]][[/span]]\n%%title_linked%% [[span_]][[/span]]\n[[span class=\"en\"]][[span class=\"%%tags%%\" style=\"font-size:100%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/us.png link=\"http://scp-wiki.wikidot.com/%%fullname%%\"　width=\"16px\" height=\"11px\" style=\"float: right;\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"ru\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/ru.png link=\"http://scpfoundation.ru/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"ko\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/kr.png link=\"http://ko.scp-wiki.net/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"cn\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/cn.png link=\"http://scp-wiki-cn.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"fr\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/fr.png link=\"http://fondationscp.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"pl\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/pl.png link=\"http://scp-pl.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"es\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/es.png link=\"http://lafundacionscp.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"th\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/th.png link=\"http://scp-th.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"jp\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/jp.png link=\"http://ja.scp-wiki.net/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"de\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/de.png link=\"http://scp-wiki-de.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"it\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/it.png link=\"http://fondazionescp.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"ua\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/ua.png link=\"http://scp-ukrainian.wikidot.com/%%fullname%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"pt\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/pt.png link=\"http://scp-pt-br.wikidot.com/%%fullname%%\" width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[span class=\"wanderers\"]][[span class=\"%%tags%%\" style=\"font-size:0%\"]][[image http://scp-wiki.wdfiles.com/local--files/main/SerpHand.png link=\"http://wanderers-library.wikidot.com/%%name%%\"　width=\"0px\" height=\"0px\" alt=\"🔗\"]][[/span]][[/span]][[span_]][[/span]]\n[[/cell]]\n[[cell]]%%created_by_linked%%[[/cell]]\n[[cell]]%%created_at|%Y/%m/%d %H:%M|agohover %%[[/cell]]\n[[cell]]%%updated_by_linked%%[[/cell]]\n[[cell]]%%updated_at|%Y/%m/%d %H:%M|agohover %%[[/cell]]\n[[cell]]%%commented_by_linked%%[[/cell]]\n[[cell]]%%commented_at|%Y/%m/%d %H:%M|agohover %%[[/cell]]\n[[cell]]%%comments%%[[/cell]]\n[[cell]]%%rating%%[[span class=\"uvdv\"]] (+[[#expr (%%rating_votes%%-%%rating%%)/2+%%rating%% ]]/-[[#expr (%%rating_votes%%-%%rating%%)/2 ]])[[/span]][[/cell]]\n[[cell]]%%size%%[[/cell]]\n[[cell]]%%children%%[[/cell]]\n[[cell]]%%revisions%%[[/cell]][[/row]]\n[[/body]]\n[[foot]]\n[[/table]]\n[[/foot]]\n[[/module]]\n[[/=]]\n\n[!--\n以下模块用于生成html模块：获取并储存文档标题与显示结果列表。\n--]\n\n[[module ListPages range=\".\" limit=\"@URL|0\" urlAttrPrefix=\"metatitle\"]]\n[[%%content{0}%%module css]]\n.pager {\ndisplay: none;\n}\n[[%%content{0}%%/module]]\n[[div style=\"display:none\"]]\n[[%%content{0}%%html]]\n<script type=\"text/javascript\" src=\"http://ja.scp-wiki.net/scpauthorssearch/code/1\"></script>\n<script type=\"text/javascript\">\nvar textB, textA, textL;\nvar alltext = new Array(2);\nvar finish = 0;\n\ndocument.addEventListener(\"DOMContentLoaded\",function(){\n\talltext[0] = [\"Joke\", \"EX\", \"001\", \"arc\", \"decommissioned\"];\n\talltext[1] = [];\n\tfor(var i = 0; i < alltext[0].length; i++){\n\t\talltext[1][i] = convURL(alltext[0][i]);\n\t}\n\tfinish = 1;\n});\n\nfunction checkLoad(){\n\treturn finish;\n}\n\n//内部链接语法([[[页面名称]]])转换为URL\nfunction convURL(cat){\n\tvar container = document.getElementById(cat);\n\tif(container == null){\n\t\treturn;\n\t}\n\tvar fulltext = document.getElementById(cat).innerHTML;\n\twhile(fulltext.indexOf(\"[[[\") >= 0){\n\t\ttextB = fulltext.substring(0, fulltext.indexOf(\"[[[\"));\n\t\tfulltext = fulltext.substring(fulltext.indexOf(\"[[[\") + 2, fulltext.length);\n\t\ttextA = fulltext.substring(fulltext.indexOf(\"]]]\") + 3, fulltext.length);\n\t\tfulltext = fulltext.substring(0, fulltext.indexOf(\"]]]\") + 1);\n\t\tif(fulltext.indexOf(\"|\") >= 0){\n\t\t\ttextL = fulltext.substring(fulltext.indexOf(\"|\") , fulltext.length);\n\t\t\tfulltext =  fulltext.substring(0, fulltext.indexOf(\"|\"));\n\t\t}else{\n\t\t\ttextL = \"\";\n\t\t}\n\t\tfulltext = fulltext.toLowerCase();\n\t\tfulltext = fulltext.replace(/[^a-z0-9:\\]\\[]/g, \"-\");\n\t\twhile(fulltext.indexOf(\"--\") >= 0){\n\t\t\tfulltext = fulltext.replace( /--/g , \"-\" ) ;\n\t\t}\n\tfulltext = textB + fulltext + textL + textA;\n\t}\n\twhile(fulltext.indexOf(\"/@/@\") >= 0){\n\t\tfulltext = fulltext.replace( \"/@/@\" , \"\" ) ;\n\t}\n\treturn fulltext;\n}\n\nfunction startSearch0(object, cat){\n\tfor(var i = 0; i < alltext[0].length; i++){\n\t\tif(alltext[0][i] == cat){\n\t\t\tvar fulltext = alltext[1][i];\n\t\t\tbreak;\n\t\t}\n\t}\n\t//读取直到换行\n\tvar fulltextSmall = fulltext.toLowerCase();\n\tif(fulltextSmall.indexOf(object)>=0){\n\t\t//避免在文档标题或链接语法中添加了与pagename不同的scp编号的情况，并获取indexOf值\n\t\tvar resultTargetSCPExistArea = removeDummyNumber(object,fulltextSmall);\n\t\tvar targetStartPoint = fulltextSmall.indexOf(resultTargetSCPExistArea.list);\n\t\tfulltext = fulltext.substring(fulltextSmall.indexOf(resultTargetSCPExistArea.list),fulltext.length);\n\t\t//根据以上搜索结果分离相应的行\n\t\tfulltext = fulltext.substring(resultTargetSCPExistArea.index, fulltext.length);\n\t\tfulltext = fulltext.substring(0, fulltext.indexOf(\"\\n\"));\n\n\t\t//文字颜色\n\t\twhile(fulltext.indexOf(\"##\")>=0){\n\t\t\tfulltext = fulltext.replace( \"##\" , \"<span style='color: #\" ) ;\n\t\t\tfulltext = fulltext.replace( \"|\" , \"'>\" ) ;\n\t\t\tfulltext = fulltext.replace( \"##\" , \"</span>\" ) ;\n\t\t}\n\n\t\t//删除线\n\t\twhile(fulltext.indexOf(\"--\")>=0){\n\t\t\tfulltext = fulltext.replace( \"--\" , \"<span style='text-decoration: line-through;'>\" ) ;\n\t\t\tfulltext = fulltext.replace( \"--\" , \"</span>\" ) ;\n\t\t}\n\n\t\t//加粗\n\t\twhile(fulltext.indexOf(\"**\")>=0){\n\t\t\tfulltext = fulltext.replace( \"**\" , \"<strong>\" ) ;\n\t\t\tfulltext = fulltext.replace( \"**\" , \"</strong>\" ) ;\n\t\t}\n\n\t\t//斜体\n\t\twhile(fulltext.indexOf(\"\\/\\/\")>=0){\n\t\t\tfulltext = fulltext.replace( \"\\/\\/\" , \"<em>\" ) ;\n\t\t\tfulltext = fulltext.replace( \"\\/\\/\" , \"</em>\" ) ;\n\t\t}\n\n\t\t//等宽\n\t\twhile(fulltext.indexOf(\"\\{\\{\")>=0){\n\t\t\tfulltext = fulltext.replace( \"\\{\\{\" , \"<tt>\" ) ;\n\t\t\tfulltext = fulltext.replace( \"\\}\\}\" , \"</tt>\" ) ;\n\t\t}\n\n\t\t//下划线\n\t\twhile(fulltext.indexOf(\"\\_\\_\")>=0){\n\t\t\tfulltext = fulltext.replace( \"\\_\\_\" , \"<span style='text-decoration: underline;'>\" ) ;\n\t\t\tfulltext = fulltext.replace( \"\\_\\_\" , \"</span>\" ) ;\n\t\t}\n\n\t\t//上标\n\t\twhile(fulltext.indexOf(\"\\^\\^\")>=0){\n\t\t\tfulltext = fulltext.replace( \"\\^\\^\" , \"<sup>\" ) ;\n\t\t\tfulltext = fulltext.replace( \"\\^\\^\" , \"</sup>\" ) ;\n\t\t}\n\n\t\t//下标\n\t\twhile(fulltext.indexOf(\"\\,\\,\")>=0){\n\t\t\tfulltext = fulltext.replace( \"\\,\\,\" , \"<sub>\" ) ;\n\t\t\tfulltext = fulltext.replace( \"\\,\\,\" , \"</sub>\" ) ;\n\t\t}\n\n\t\t//文字大小\n\t\twhile(fulltext.indexOf(\"[[size\")>=0){\n\t\t\tfulltext = fulltext.replace( \"[[size \" , \"<span style='font-size:\" ) ;\n\t\t\tfulltext = fulltext.replace( \"]]\" , \"'>\" ) ;\n\t\t\tfulltext = fulltext.replace( \"[[/size]]\" , \"</span>\" ) ;\n\t\t}\n\n\t\t//span元素\n\t\twhile(fulltext.indexOf(\"[[span\")>=0){\n\t\t\tfulltext = fulltext.replace( \"[[span\" , \"<span\" ) ;\n\t\t\tfulltext = fulltext.replace( \"]]\" , \">\" ) ;\n\t\t\tfulltext = fulltext.replace( \"[[/span]]\" , \"</span>\" ) ;\n\t\t}\n\t\twhile(fulltext.indexOf(\"[[/span]]\")>=0){\n\t\t\tfulltext = fulltext.replace( \"[[/span]]\" , \"\" ) ;\n\t\t}\n\n\t\t//剪切[]部分\n\t\ttextA = fulltext;\n\t\ttextL = \"\";\n\t\twhile(textA.indexOf(\"]\") >= 0){\n\t\t\ttextB = textA.substring(0, textA.indexOf(\"]\") + 1);\n\t\t\ttextA = textA.substring(textA.indexOf(\"]\") + 1, textA.length);\n\t\t\tif(textB.indexOf(\"[\") >= 0){\n\t\t\t\ttextL += textB;\n\t\t\t}\n\t\t}\n\t\ttextA = textL + textA;\n\t\tif(textA == \"\"){\n\t\t\tif(fulltext.indexOf(\"|\") >= 0){\n\t\t\t\tfulltext = fulltext.substring(fulltext.indexOf(\"|\") + 1, fulltext.indexOf(\"]\"));\n\t\t\t}else{\n\t\t\t\tfulltext = fulltext.substring(fulltext.indexOf(\" \") + 1, fulltext.indexOf(\"]\"));\n\t\t\t}\n\t\t}else{\n\t\t\tfulltext = textA;\n\t\t}\n\t}else{\n\t\tfulltext = \" - <span style='color: #808080;'>[ERROR|获取标题失败]</span>\";\n\t}\n\treturn fulltext;\n}\n</script>\n<!-- 在此处添加引用的页面的URL -->\n<div id=\"en\">\n[[include :scp-wiki-cn:scp-series]]\n[[include :scp-wiki-cn:scp-series-2]]\n[[include :scp-wiki-cn:scp-series-3]]\n[[include :scp-wiki-cn:scp-series-4]]\n[[include :scp-wiki-cn:scp-series-5]]\n[[include :scp-wiki-cn:scp-series-6]]\n[[include :scp-wiki-cn:scp-series-7]]\n[[include :scp-wiki-cn:scp-series-8]]\n[[include :scp-wiki-cn:scp-series-9]]\n</div>\n<div id=\"ru\">\n[[include :scp-wiki-cn:scp-series-ru]]\n</div>\n<div id=\"ko\">\n[[include :scp-wiki-cn:scp-series-ko]]\n</div>\n<div id=\"cn\">\n[[include :scp-wiki-cn:scp-series-cn]]\n[[include :scp-wiki-cn:scp-series-cn-2]]\n[[include :scp-wiki-cn:scp-series-cn-3]]\n[[include :scp-wiki-cn:scp-series-cn-4]]\n</div>\n<div id=\"fr\">\n[[include :scp-wiki-cn:scp-series-fr]]\n</div>\n<div id=\"pl\">\n[[include :scp-wiki-cn:scp-series-pl]]\n</div>\n<div id=\"es\">\n[[include :scp-wiki-cn:scp-series-es]]\n</div>\n<div id=\"th\">\n[[include :scp-wiki-cn:scp-series-th]]\n</div>\n<div id=\"jp\">\n[[include :scp-wiki-cn:scp-series-jp]]\n[[include :scp-wiki-cn:scp-series-jp-2]]\n</div>\n<div id=\"de\">\n[[include :scp-wiki-cn:scp-series-de]]\n</div>\n<div id=\"it\">\n[[include :scp-wiki-cn:scp-series-it]]\n</div>\n<div id=\"ua\">\n[[include :scp-wiki-cn:scp-series-ua]]\n</div>\n<div id=\"pt\">\n[[include :scp-wiki-cn:scp-series-pt]]\n</div>\n<div id=\"wanderers\"></div>\n<div id=\"Joke\">\n[[include :scp-wiki-cn:joke-scps]]\n[[include :scp-wiki-cn:joke-scps-ru]]\n[[include :scp-wiki-cn:joke-scps-ko]]\n[[include :scp-wiki-cn:joke-scps-cn]]\n[[include :scp-wiki-cn:joke-scps-fr]]\n[[include :scp-wiki-cn:joke-scps-pl]]\n[[include :scp-wiki-cn:joke-scps-es]]\n[[include :scp-wiki-cn:joke-scps-th]]\n[[include :scp-wiki-cn:joke-scps-jp]]\n[[include :scp-wiki-cn:joke-scps-de]]\n[[include :scp-wiki-cn:joke-scps-pt]]\n</div>\n<div id=\"EX\">\n[[include :scp-wiki-cn:scp-ex]]\n[[include :scp-wiki-cn:scp-ex-cn]]\n</div>\n<div id=\"001\">\n[[include :scp-wiki-cn:scp-001]]\n[[include :scp-wiki-cn:scp-001-ko]]\n[[include :scp-wiki-cn:scp-cn-001]]\n[[include :scp-wiki-cn:scp-001-fr]]\n[[include :scp-wiki-cn:scp-001-jp]]\n</div>\n<div id=\"arc\">\n[[include :scp-wiki-cn:archived-scps]]\n[[include :scp-wiki-cn:scp-removed]]\n</div>\n<div id=\"decommissioned\">\n[[include :scp-wiki-cn:decommissioned-scps-arc]]\n</div>\n[[/html]]\n[[/div]]\n[[%%content{0}%%html]]\n<style>\n@import url(http://d3g0gp89917ko0.cloudfront.net/v--2f62f70fa3c2/common--theme/base/css/style.css);\n@import url(http://scp-wiki-cn.wikidot.com/component:theme/code/1);\nimg.image {\nwidth: 16px !important;\nheight: 11px !important;\nfloat: right !important;\n}\n</style>\n<script type=\"text/javascript\" src=\"http://scp-jp.wdfiles.com/local--files/japanese-syntax/scpHTMLblockCtrl_ver1_ex.js\"></script>\n<script type=\"text/javascript\" src=\"http://scp-wiki-cn.wikidot.com/tag-search/code/1\"></script>\n<script type=\"text/javascript\">\nisHTMLblockHide = true;\nvar mainlist = [];\nvar listCheck = [];\nvar timestamp = new Date();\nvar frameCheck, ix, listMax, listCount, loadFinish, flagOC, mframeNo, pageNo, totalPages;\nvar timerID;\n\ndocument.addEventListener(\"DOMContentLoaded\",function(){\n\tvar form = document.forms.mainForm;\n\tvar nowURL = document.referrer;\n\tif(nowURL.search(\"list1_limit\") >= 0){\n\t\tlistCheck[0] = true;\n\t\tflagOC = 0;\n\t}else{\n\t\tlistCheck[0] = false;\n\t\tflagOC = 1;\n\t}\n\tif(nowURL.search(\"list2_limit\") >= 0){\n\t\tlistCheck[1] = false;\n\t}else{\n\t\tlistCheck[1] = true;\n\t}\n\tif(nowURL.search(\"list3_limit\") >= 0){\n\t\tlistCheck[2] = false;\n\t}else{\n\t\tlistCheck[2] = true;\n\t}\n\tif(nowURL.search(\"list4_offset\") >= 0){\n\t\tlistCheck[3] = true;\n\t}else{\n\t\tlistCheck[3] = false;\n\t}\n\tif(nowURL.search(\"list5_offset\") >= 0){\n\t\tlistCheck[4] = true;\n\t}else{\n\t\tlistCheck[4] = false;\n\t}\n\tif(nowURL.search(\"list6_offset\") >= 0){\n\t\tlistCheck[5] = true;\n\t}else{\n\t\tlistCheck[5] = false;\n\t}\n\tif(nowURL.search(\"list7_offset\") >= 0){\n\t\tlistCheck[6] = true;\n\t}else{\n\t\tlistCheck[6] = false;\n\t}\n\tif(nowURL.search(\"list8_limit\") >= 0){\n\t\tlistCheck[7] = false;\n\t}else{\n\t\tlistCheck[7] = true;\n\t}\n\tif(nowURL.search(\"list9_limit\") >= 0){\n\t\tlistCheck[8] = false;\n\t}else{\n\t\tlistCheck[8] = true;\n\t}\n\tif(nowURL.search(\"list10_offset\") >= 0){\n\t\tlistCheck[9] = true;\n\t}else{\n\t\tlistCheck[9] = false;\n\t}\n\tif(nowURL.search(\"list11_offset\") >= 0){\n\t\tlistCheck[10] = true;\n\t}else{\n\t\tlistCheck[10] = false;\n\t}\n\tif(nowURL.search(\"list12_offset\") >= 0){\n\t\tlistCheck[11] = true;\n\t}else{\n\t\tlistCheck[11] = false;\n\t}\n\tlistCheck[12] = true;\n\tif(nowURL.search(\"list14_limit\") >= 0){\n\t\tlistCheck[13] = true;\n\t}else{\n\t\tlistCheck[13] = false;\n\t}\n\tif(nowURL.search(\"list15_offset\") >= 0){\n\t\tlistCheck[14] = true;\n\t}else{\n\t\tlistCheck[14] = false;\n\t}\n\tform.list1.checked = listCheck[0];\n\tform.list2.checked = listCheck[1];\n\tform.list3.checked = listCheck[2];\n\tform.list4.checked = listCheck[3];\n\tform.list5.checked = listCheck[4];\n\tform.list6.checked = listCheck[5];\n\tform.list7.checked = listCheck[6];\n\tform.list8.checked = listCheck[7];\n\tform.list9.checked = listCheck[8];\n\tform.list10.checked = listCheck[9];\n\tform.list11.checked = listCheck[10];\n\tform.list12.checked = listCheck[11];\n\tform.list13.checked = listCheck[12];\n\tform.list14.checked = listCheck[13];\n\tform.list15.checked = listCheck[14];\n\tif(nowURL.indexOf(\"/p/\") >= 0){\n\t\tpageNo = nowURL.substring(nowURL.indexOf(\"/p/\") + 3, nowURL.length);\n\t\t//pageNo = pageNo.replace( \"/p/ \" , \"\" );\n\t}else if(nowURL.indexOf(\"/metatitle_p/\") >= 0){\n\t\tpageNo = nowURL.substring(nowURL.indexOf(\"/metatitle_p/\") + 13, nowURL.length);\n\t\t//pageNo = pageNo.replace( \"/metatitle_p/ \" , \"\" );\n\t}else{\n\t\tpageNo = 1;\n\t}\n\tpageNo = parseFloat(pageNo);\n\tframeCheck = -1;\n\tlistMax = 250;\n\tlistCount = 0;\n\tloadFinish = 0;\n\tmframeNo = -1;\n\tclock();\n});\n\nfunction clock() {\n\tif(frameCheck == -1){\n\t\tsearchLoad();\n\t\tsetTimeout(clock,50);\n\t}\n\tif(frameCheck >= 0 && loadFinish == 0){\n\t\tloadFinish = window.parent.window.frames[frameCheck].checkLoad();\n\t\tif(loadFinish > 0){\n\t\t\tfor(var i in SearchSettingParam.BranchData){\n\t\t\t\tif(i == \"undefinedDefault\"){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\twindow.parent.window.frames[frameCheck].alltext[0].push(i);\n\t\t\t\twindow.parent.window.frames[frameCheck].alltext[1].push(window.parent.window.frames[frameCheck].convURL(i));\n\t\t\t}\n\t\t\twriteList();\n\t\t}\n\t\tsetTimeout(clock,50);\n\t}\n}\n\nfunction searchLoad(){\n\tfor(ix=0; ix <= window.parent.window.frames.length; ix++){\n\t\ttry{\n\t\t\tif(typeof(window.parent.window.frames[ix].startSearch0) == \"function\"){\n\t\t\t\tframeCheck = ix;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}catch(e){\n\t\t}\n\t}\n}\n\nfunction resList(num, frame){\n\tlistMax = num;\n\tmframeNo = frame;\n\twriteList();\n}\n\nfunction setList(){\n\tvar form = document.forms.mainForm;\n\tlistCheck[0] = form.list1.checked;\n\tlistCheck[1] = form.list2.checked;\n\tlistCheck[2] = form.list3.checked;\n\tlistCheck[3] = form.list4.checked;\n\tlistCheck[4] = form.list5.checked;\n\tlistCheck[5] = form.list6.checked;\n\tlistCheck[6] = form.list7.checked;\n\tlistCheck[7] = form.list8.checked;\n\tlistCheck[8] = form.list9.checked;\n\tlistCheck[9] = form.list10.checked;\n\tlistCheck[10] = form.list11.checked;\n\tlistCheck[11] = form.list12.checked;\n\tlistCheck[12] = form.list13.checked;\n\tlistCheck[13] = form.list14.checked;\n\tlistCheck[14] = form.list15.checked;\n\twriteList();\n\tif(mframeNo >=0){\n\t\twindow.parent.window.frames[mframeNo].resList2(listCheck);\n\t}\n}\n\nfunction writeList(){\n\tvar fulltitle, i, j;\n\tvar countRow = 1;\n\tif(listCheck[14] == true){\n\t\tmainlist[0] = [\"编号 - 标题\", \"创建者\", \"创建日期\", \"最新更新者\", \"最新更新日期\", \"最新讨论者\", \"最新讨论日期\", \"讨论\", \"评分(UV/DV)\", \"内容长度\", \"子页面\", \"页面版本\"];\n\t}else{\n\t\tmainlist[0] = [\"编号 - 标题\", \"创建者\", \"创建日期\", \"最新更新者\", \"最新更新日期\", \"最新讨论者\", \"最新讨论日期\", \"讨论\", \"评分\", \"内容长度\", \"子页面\", \"页面版本\"];\n\t}\n\tif(listCheck[12] == true){\n\t\tvar chara = \"<tr><th>\" + mainlist[0][0] + \"</th>\";\n\t}else{\n\t\tvar chara = \"<tr><th>页面标题</th>\";\n\t}\n\tfor(j = 1; j < 12; j++){\n\t\tif(listCheck[j] == true){\n\t\t\tcountRow++;\n\t\t\tchara += \"<th>\" + mainlist[0][j] + \"</th>\";\n\t\t}\n\t}\n\tif(listCheck[0] == true && flagOC == 1){\n\t\tdocument.getElementById(\"listOC\").style.display=\"inline-block\";\n\t}else{\n\t\tdocument.getElementById(\"listOC\").style.display=\"none\";\n\t}\n\tchara += \"</tr>\";\n\tfor(i = 1; i < mainlist.length; i++){\n\t\tif(mainlist[i] != null){\n\t\t\tfulltitle = i + \". \";\n\t\t\tif(listCheck[0] == true){\n\t\t\t\tfulltitle += mainlist[i][0];\n\t\t\t}\n\t\t\tfulltitle += mainlist[i][13];\n\t\t\tif(listCheck[12] == true){\n\t\t\t\tvar metatitle = selectTitle(mainlist[i][15], mainlist[i][12]);\n\t\t\t\tif(metatitle != mainlist[i][16]){\n\t\t\t\t\tfulltitle += metatitle;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfulltitle += mainlist[i][14];\n\t\t\tchara += \"<tr><td>\" + fulltitle + \"</td>\";\n\t\t\tfor(j = 1; j < 12; j++){\n\t\t\t\tif(listCheck[j] == true){\n\t\t\t\t\tif(j == 8){\n\t\t\t\t\t\tchara += \"<td>\" + votesText(mainlist[i][j]) + \"</td>\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tchara += \"<td>\" + mainlist[i][j] + \"</td>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tchara += \"</tr>\";\n\t\t\tif(listCheck[13] == true){\n\t\t\t\tchara += tagList(mainlist[i][15], countRow);\n\t\t\t}\n\t\t}\n\t}\n\tdocument.getElementById(\"SCPlist\").innerHTML = chara;\n\twritePager();\n\tcorrectIframeSize();\n}\n\nfunction resData(contents){\n\tvar tags = contents[1];\n\ttotalPages = contents[16];\n\tlistCount += 1;\n\tvar wikiurl = SearchSettingParam.BranchData.cn.url;\n\tmainlist[ contents[0] ] = [selectOC(tags), userName(contents[5]), convDates(contents[6]), userName(contents[7]), convDates(contents[8]), userName(contents[9]), convDates(contents[10]), contents[11], contents[12], contents[13], contents[14], contents[15], contents[3], \"<a href='\" + wikiurl + contents[4] + \"' target='Page1'>\" + contents[2] + \"</a> \", selectBranch(tags, contents[3], contents[4]), tags,contents[2]];\n\twriteList();\n}\n\nfunction selectTitle(tags, scpNo){\n\tSearchSettingParam.getBranchByTag(tags);\n\tvar metatitle = \"\";\n\tif(SearchSettingParam.RecentlyTagData.Branch != \"undefinedDefault\"){\n\t\tif(tags.search(\"scp\") >= 0){\n\t\t\tif(tags.search(\"搞笑\") >= 0){\n\t\t\t\tmetatitle = startSearch1(scpNo,\"Joke\");\n\t\t\t}else if(tags.search(\"已解明\") >= 0){\n\t\t\t\tmetatitle = startSearch1(scpNo,\"EX\");\n\t\t\t}else if(tags.search(\"001提案\") >= 0){\n\t\t\t\tmetatitle = startSearch1(scpNo,\"001\") + \" （001提案）\";\n\t\t\t}else if(tags.search(\"被归档\") >= 0 || tags.search(\"旧页面\") >= 0){\n\t\t\t\tmetatitle = startSearch1(scpNo,\"arc\");\n\t\t\t}else if(tags.search(\"被废除\") >= 0){\n\t\t\t\tmetatitle = startSearch1(scpNo,\"decommissioned\");\n\t\t\t}else{\n\t\t\t\tmetatitle = startSearch1(scpNo,SearchSettingParam.RecentlyTagData.Branch);\n\t\t\t}\n\t\t}else{\n\t\t\tif(tags.search(\"goi格式\") >= 0){\n\t\t\t\tmetatitle = \" （GOI格式）\";\n\t\t\t}else if(tags.search(\"故事\") >= 0){\n\t\t\t\tmetatitle = \" （故事）\";\n\t\t\t}else if(tags.search(\"艺术作品\") >= 0){\n\t\t\t\tmetatitle = \" （艺术作品）\";\n\t\t\t}else if(tags.search(\"中心\") >= 0){\n\t\t\t\tmetatitle = \" （中心页）\";\n\t\t\t}else if(tags.search(\"作者\") >= 0){\n\t\t\t\tmetatitle = \" （作者）\";\n\t\t\t}else if(tags.search(\"文章\") >= 0){\n\t\t\t\tmetatitle = \" （文章）\";\n\t\t\t}else if(tags.search(\"指导\") >= 0){\n\t\t\t\tmetatitle = \" （指导）\";\n\t\t\t}else if(tags.search(\"补充资料\") >= 0){\n\t\t\t\tmetatitle = \" （补充资料）\";\n\t\t\t}else if(tags.search(\"掩藏页\") >= 0){\n\t\t\t\tmetatitle = \" （掩藏页）\";\n\t\t\t}\n\t\t}\n\t}\n\treturn metatitle;\n}\n\nfunction startSearch1(scpNo, cat) {\n\tif(frameCheck >= 0 && loadFinish > 0){\n\t\tvar s = window.parent.window.frames[frameCheck].startSearch0(scpNo, cat);\n\t}else{\n\t\tvar s = \" - <a href='javascript:void(0);' onclick='writeList()'>如果长时间没有加载，请点击这里</a>\";\n\t}\n\treturn s;\n}\n\nfunction selectOC(tags){\n\tvar objectClass = \"\";\n\tif(tags.search(\"无效化\") >= 0){\n\t\tobjectClass += \"<span style='color:#9900FF'>●</span>\";\n\t}\n\tif(tags.search(\"thaumiel\") >= 0){\n\t\tobjectClass += \"<span style='color:#000000'>●</span>\";\n\t}\n\tif(tags.search(\"keter\") >= 0){\n\t\tobjectClass += \"<span style='color:#FF0000'>●</span>\";\n\t}\n\tif(tags.search(\"euclid\") >= 0){\n\t\tobjectClass += \"<span style='color:#FFDD00'>●</span>\";\n\t}\n\tif(tags.search(\"safe\") >= 0){\n\t\tobjectClass += \"<span style='color:#00FF00'>●</span>\";\n\t}\n\tif(tags.search(\"机密分级\") >= 0){\n\t\tobjectClass += \"<span style='color:#777777'>●</span>\";\n\t}\n\tif(tags.search(\"已解明\") >= 0){\n\t\tobjectClass += \"<span style='color:#77FFFF'>●</span>\";\n\t}\n\tobjectClass += \" \";\n\treturn objectClass;\n}\n\nfunction selectBranch(tags,pagename,page){\n\tvar branchSymbol = SearchSettingParam.getBranchByTag(tags);\n\tvar branch = \"\";\n\tif(SearchSettingParam.BranchData[branchSymbol].createSource){\n\t\tvar branchData = SearchSettingParam.BranchData[branchSymbol];\n\t\tvar name;\n\t\tif(branchSymbol != \"wanderers\"){\n\t\t\tname = page;\n\t\t}else{\n\t\t\tname = pagename;\n\t\t}\n\t\tbranch = \"<a href='\" + branchData.url + name + \"' target='_top'><img src='\"+branchData.flag+\"' alt='🔗' class='image' /></a>\";\n\t}\n\treturn branch;\n}\n\nfunction convDates(num){\n\tif(num == \"\"){\n\t\tvar s = \"<center>-</center>\";\n\t}else{\n\t\tnum = num.replace( \"%%date\\|\" , \"\" ) ;\n\t\tnum = num.replace( \"%%\" , \"\" ) ;\n\t\tnum = new Date(num * 1000);\n\t\tvar s = \"<span display='inline-block'>\" + num.getFullYear() + \"/\" + (num.getMonth() + 1) + \"/\" + num.getDate() + \"</span> <span display='inline-block'>\" + set2fig( num.getHours() ) + \":\" + set2fig( num.getMinutes() ) + \"</span>\";\n\t}\n\treturn s;\n}\n\nfunction set2fig(num) {\n\tvar ret;\n\tif( num < 10 ) { ret = \"0\" + num; }\n\telse { ret = num; }\n\treturn ret;\n}\n\nfunction userName(name){\n\tif(name[0] == \"\"){\n\t\tvar s = \"<center>-</center>\";\n\t}else if(name[0] == \"(user deleted)\"){\n\t\tvar s = \"<center>(user deleted)</center>\";\n\t}else{\n\t\tvar ss = name[0].replace(/\\s/g, \"-\");\n\t\tvar s = \"<span class='printuser avatarhover'><a href='http://www.wikidot.com/user:info/\" + \nss + \n\"' onclick='WIKIDOT.page.listeners.userInfo(\" + \nname[1] + \n\")\\; return false\\;' target='page3'><img class='small' src='http://www.wikidot.com/avatar.php\\?userid=\" + \nname[1] + \n\"\\&amp\\;amp\\;size=small\\&amp\\;amp\\;timestamp=\" + \ntimestamp.getTime() + \n\"' alt='\" + \nname[0] + \n\"' style='background-image:url(http://www.wikidot.com/userkarma.php\\?u=\" + \nname[1] + \n\")' /></a><a href='http://www.wikidot.com/user:info/\" + \nss + \n\"' onclick='WIKIDOT.page.listeners.userInfo(\" + \nname[1] + \n\")\\; return false\\;' target='page3'>\" + \nname[0] + \n\"</a></span>\";\n\t}\n\treturn s;\n}\n\nfunction tagList(tag, row){\n\tvar tags = tag.split(\" \");\n\tvar s =\"<tr><td colspan='\" + row + \"'><strong>全部标签一览：</strong> \";\n\tfor(var i = 0; i < tags.length; i++){\n\t\ts += \"<a href='javascript:void(0)\\;' onclick='tagSearch(\\\"\" + tags[i] + \"\\\")'>\" + tags[i] + \"</a> \";\n\t}\n\ts += \"</td></tr>\"\n\treturn s;\n}\n\nfunction votesText(votes){\n\tif(listCheck[14] == true){\n\t\tvar s = votes[0] + \" (+\" + ( ( votes[1] - votes[0] ) / 2 +  votes[0] ) + \"/-\" + ( votes[1] - votes[0] ) / 2 + \")\";\n\t}else{\n\t\tvar s = votes[0];\n\t}\n\treturn s;\n}\n\nfunction writePager(){\n\tvar pageCount = (totalPages - 1 - ( (totalPages - 1) % listMax)) / listMax + 1;\n\tif(pageCount == 1){\n\t\tvar chara = \"\";\n\t\tdocument.getElementById(\"pagerArea\").style.display=\"none\";\n\t}else{\n\t\tdocument.getElementById(\"pagerArea\").style.display=\"block\";\n\t\tvar chara = \"<span class='pager-no'>page \" + pageNo + \" of \" + pageCount + \"</span>\";\n\t\tif(pageNo > 10){\n\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + (pageNo - 10) + \")'>&laquo\\;&laquo\\;</a></span>\";\n\t\t}\n\t\tif(pageNo > 1){\n\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + (pageNo - 1) + \")'>&laquo\\; previous </a></span>\";\n\t\t\tif(pageNo < 7){\n\t\t\t\tfor(var i = 1; i < pageNo; i++){\n\t\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + i + \")'>\" + i + \"</a></span>\";\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(1)'>1</a></span>\";\n\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(2)'>2</a></span>\";\n\t\t\t\tchara += \"<span class='dots'>...</span>\";\n\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + (pageNo - 2) + \")'>\" + (pageNo - 2) + \"</a></span>\";\n\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + (pageNo - 1) + \")'>\" + (pageNo - 1) + \"</a></span>\";\n\t\t\t}\n\t\t}\n\t\tchara += \"<span class='current'>\" + pageNo + \"</span>\";\n\t\tif(pageNo <= pageCount - 1){\n\t\t\tif(pageNo > pageCount -  6){\n\t\t\t\tfor(i = pageNo + 1; i <= pageCount; i++){\n\t\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + i + \")'>\" + i + \"</a></span>\";\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + (pageNo + 1) + \")'>\" + (pageNo + 1) + \"</a></span>\";\n\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + (pageNo + 2) + \")'>\" + (pageNo + 2) + \"</a></span>\";\n\t\t\t\tchara += \"<span class='dots'>...</span>\";\n\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + (pageCount - 1) + \")'>\" + (pageCount - 1) + \"</a></span>\";\n\t\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + pageCount + \")'>\" + pageCount + \"</a></span>\";\n\t\t\t}\n\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + (pageNo + 1) + \")'> next &raquo\\;</a></span>\";\n\t\t}\n\t\tif(pageNo <= pageCount - 10){\n\t\t\tchara += \"<span class='target'><a href='javascript:void(0)\\;' onclick='pageChange(\" + (pageNo + 10) + \")'>&raquo\\;&raquo\\;</a></span>\";\n\t\t}\n\t}\n\tdocument.getElementById(\"pagerArea\").innerHTML = chara;\n\tdocument.getElementById(\"pagerArea2\").innerHTML = chara;\n}\n\nfunction tagSearch(tag){\n\tif(mframeNo >= 0){\n\t\twindow.parent.window.frames[mframeNo].startSearch(0, tag, 1);\n\t}\n}\n\nfunction pageChange(No){\n\tif(mframeNo >= 0){\n\t\twindow.parent.window.frames[mframeNo].startSearch(0, \"\", No);\n\t}\n}\n\n</script>\n<center><div id=\"listOC\"><span style=\"color: #00ff00\">●</span>:Safe <span style=\"color: #ffdd00\">●</span>:Euclid <span style=\"color: #ff0000\">●</span>:Keter <span style=\"color: #000000\">●</span>:Thaumiel <span style=\"color: #777777\">●</span>:机密分级 <span style=\"color: #77ffff\">●</span>:已解明 <span style=\"color: #9900ff\">●</span>:无效化</div></center>\n<div id=\"pagerArea\" class=\"pager\"></div>\n<table class=\"wiki-content-table\" id=\"SCPlist\">\n<tr>\n<th>页面标题（原文链接）</th>\n<th>页面创建者</th>\n<th>创建日期</th>\n<th>最新更新者</th>\n<th>最新更新日期</th>\n<th>最新讨论者</th>\n<th>最新讨论日期</th>\n<th>讨论</th>\n<th>评分(UV/DV)</th>\n<th>内容长度</th>\n<th>子页面</th>\n<th>页面版本</th>\n</tr>\n</table>\n<div id=\"pagerArea2\" class=\"pager\"></div>\n<table style=\"margin-right:auto; margin-left:auto; width: 95%; border: 1px solid silver;\">\n<tr>\n<td style=\"text-align: left; border: 0px\">\n<center><h2>显示项目</h2></center>\n<form name='mainForm'>\n<p><strong>一般：</strong>创建者<input type=\"checkbox\" name=\"list2\" onChange=\"setList()\">/ \n创建日期<input type=\"checkbox\" name=\"list3\" onChange=\"setList()\">/ \n讨论<input type=\"checkbox\" name=\"list8\" onChange=\"setList()\">/ \n评分<input type=\"checkbox\" name=\"list9\" onChange=\"setList()\"></p>\n<p><strong>更新・讨论：</strong>最新更新者<input type=\"checkbox\" name=\"list4\" onChange=\"setList()\">/ \n最新更新日期<input type=\"checkbox\" name=\"list5\" onChange=\"setList()\">/ \n最新讨论者<input type=\"checkbox\" name=\"list6\" onChange=\"setList()\">/ \n最新讨论日期<input type=\"checkbox\" name=\"list7\" onChange=\"setList()\"></p>\n<p><strong>统计数据：</strong>内容长度<input type=\"checkbox\" name=\"list10\" onChange=\"setList()\">/ \n子页面<input type=\"checkbox\" name=\"list11\" onChange=\"setList()\">/ \n页面版本<input type=\"checkbox\" name=\"list12\" onChange=\"setList()\">/ \n评分详细<input type=\"checkbox\" name=\"list15\" onChange=\"setList()\"></p>\n<p><strong>其他：</strong>项目等级<input type=\"checkbox\" name=\"list1\" onChange=\"setList()\">/ \nSCP文档标题<input type=\"checkbox\" name=\"list13\" onChange=\"setList()\">/ \n全部标签一览<input type=\"checkbox\" name=\"list14\" onChange=\"setList()\"></p>\n</form>\n</td>\n</tr>\n</table>\n<div id=\"scpHTMLblockResizeSwitch\"></div>\n[[/html]]\n[[/module]]\n\n[[div class=\"datahtml\"]]\n[[module ListPages category=\"@URL|*\" tags=\"@URL\" created_at=\"@URL\" updated_at=\"@URL\" created_by=\"@URL\" rating=\"@URL\" votes=\"@URL\" link_to=\"@URL\" offset=\"@URL|0\" name=\"@URL\" limit=\"@URL|0\" perPage=\"@URL|20\" parent=\"@URL\" order=\"@URL|created_at desc\" urlAttrPrefix=\"metatitle\"]]\n[[%%content{0}%%html]]\n<script type=\"text/javascript\">\nvar check, i;\nvar timerID;\n\n//同步数据\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\ncheck = -1;\nclock();\n});\nfunction clock() {\nif(check == -1){\nsearchLoad();\nsetTimeout(clock,100);\n}\n}\nfunction searchLoad(){\nfor(i=0; i <= window.parent.window.frames.length; i++){\ntry{\nif(typeof(window.parent.window.frames[i].resData) == \"function\"){\ncheck = i;\nbreak;\n}\n}catch(e){\n}\n}\nif(check >= 0){\nsendData();\n}\n}\n\n//发送页面数据\nfunction sendData(){\nvar contents = [%%index%%, \"%%tags%%\", document.getElementById(\"getTitle\").innerHTML, \"%%name%%\", \"%%fullname%%\", \n[\"%%created_by%%\",%%created_by_id%% ], \"%%created_at%%\", \n[\"%%updated_by%%\",%%updated_by_id%% ], \"%%updated_at%%\", \n[\"%%commented_by%%\",\"%%commented_by_id%%\" ], \"%%commented_at%%\", \n%%comments%%, [%%rating%%, %%rating_votes%% ], %%size%%, %%children%%, %%revisions%%, %%total_or_limit%%];\nwindow.parent.frames[check].resData(contents);\n}\n</script>\n<div id=\"getTitle\" style=\"display:none\">%%title%%</div>\n[[/html]]\n[[/module]]\n[[/div]]\n[[div class=\"content-panel standalone\" style=\"width: 95%; margin: 0 auto 20px; padding: 10px 20px;\"]]\n[[html]]\n<style>\n@import url(http://d3g0gp89917ko0.cloudfront.net/v--2f62f70fa3c2/common--theme/base/css/style.css);\n@import url(http://scp-wiki-cn.wikidot.com/component:theme/code/1);\n#tagField a {\ndisplay: inline-block;\n}\ninput[type=\"button\"]{\ncursor:pointer;\n}\n</style>\n\n<script type=\"text/javascript\" src=\"https://scp-wiki-cn.wikidot.com/fragment:tag-search/code/1\"></script>\n<script type=\"text/javascript\" src=\"https://scp-jp.github.io/files/util/common/scripts/regex.js\"></script>\n<script type=\"text/javascript\">\n\n//重要：此页的URL地址\nvar baseURL = \"http://scp-wiki-cn.wikidot.com/tag-search\";\n\n//获取客户端浏览器\nvar Browser = getBrowser();\n\n//显示顺序\nvar orderSetteing = {\n    \"created_at desc\":\"创建日期较新\",\n    \"created_at\":\"创建日期较早\",\n    \"rating desc\":\"评分较高\",\n    \"rating\":\"评分较低\",\n    \"updated_at desc\":\"更新日期较新\",\n    \"updated_at\":\"更新日期较早\",\n    \"size desc\":\"内容长度较多\",\n    \"size\":\"内容长度较少\",\n    \"votes desc\":\"总票数较多\",\n    \"votes\":\"总票数较少\",\n    \"comments desc\":\"讨论数较多\",\n    \"comments\":\"讨论数较少\",\n    \"revisions desc\":\"页面版本较多\",\n    \"revisions\":\"页面版本较少\",\n    \"name desc\":\"页面标题降序\",\n    \"name\":\"页面标题升序\",\n    \"random\":\"随机\"\n}\n\n//评分\nvar rateSetting = {\n    \"=\":\"相等\",\n    \">=\":\"以上或相等\",\n    \"<=\":\"以下或相等\",\n    \"<>\":\"不等于\",\n    \">\":\"以上\",\n    \"<\":\"以下\"\n}\n\nvar NotationYear = \"年\";\n\n//月份\nvar NotationMonth={\n    'year_round':'全年',\n    'm01':\"1月\",\n    'm02':\"2月\",\n    'm03':\"3月\",\n    'm04':\"4月\",\n    'm05':\"5月\",\n    'm06':\"6月\",\n    'm07':\"7月\",\n    'm08':\"8月\",\n    'm09':\"9月\",\n    'm10':\"10月\",\n    'm11':\"11月\",\n    'm12':\"12月\"\n}\n\nvar NotationTimeSpan1 = {\n    '=':\"期间\",\n    '>=':\"当月及以后\",\n    '<=':\"当月及以前\",\n    '>':\"以后\",\n    '<':\"以前\"\n}\n\nvar NotationTimeSpan2 = {\n    '%20hours':\"小时\",\n    '%20day':\"日\",\n    '%20week':\"周\",\n    '%20month':\"月\"\n}\n\n/*实际运行*/\nvar tagTable = new Array();\nvar tagNumber, frameCheck;\nvar form;\nvar listMax;\n\n//初始化设置默认值\ndocument.addEventListener(\"DOMContentLoaded\",function(){\n    form = document.forms.mainForm;\n    /*根据上述设置生成检索表单*/\n    createFirstTagSelecter();\n    createSearchSelecter(\"order\",orderSetteing);//orderSelecter\n    createSearchSelecter(\"rating1\",rateSetting);//rateSelecter\n    createSearchSelecter(\"votes1\",rateSetting);//rateSelecter\n    tagNumber = 0;\n    createTimeForm(1);\n    createTimeForm(2);\n    //恢复检索设置状态\n    var check = document.referrer.split(baseURL).join(\"\");\n\tif(check.length > 1)restoreSearchForm(check);\n\tif(form.page.value != null){\n\t\tlistMax = form.page.value;\n\t}else{\n\t\tlistMax = 20;\n\t}\n\tframeCheck = -1;\n\tsearchClock();\n});\n\nfunction searchClock() {\n\tif(frameCheck == -1){\n\t\tsearchLoad();\n\t\tsetTimeout(searchClock,100);\n\t}\n}\n\nfunction searchLoad(){\n\tfor(i=0; i <= window.parent.window.frames.length; i++){\n\t\ttry{\n\t\t\tif(typeof(window.parent.window.frames[i].resList) == \"function\"){\n\t\t\t\tframeCheck = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}catch(e){\n\t\t}\n\t}\n\tsendList();\n}\n\nfunction createFirstTagSelecter(){\n//根据数组生成第1级菜单\n    var option;\n    for(var i in FirstCategory){\n        option = document.createElement(\"option\");\n        option.value = i;\n        option.innerHTML = i;\n        form.tag1.appendChild(option);\n    }\n}\n\nfunction createSearchSelecter(targetName,setting){\n    for(var i in setting){\n        option = document.createElement(\"option\");\n        option.value = i;\n        option.innerHTML = setting[i];\n        form.elements[targetName].appendChild(option);\n    }\n}\n\n/*生成检索URL*/\n\n\n//转换并组合URL\nfunction startSearch(flag, tag, pageNo){\n\tvar passingURL = baseURL;\n\tvar oldURL = passingURL;\n\t//生成当前时刻Date变量\n\tvar limitNum = new Date;\n\tlimitNum = Math.abs( limitNum.getTime() ) + 10000;\n\t//注意addOrder()必须是最后一个，否则在恢复检索设置时会出现错误\n\tif(tag == \"\"){\n\t\tpassingURL = passingURL + addTag() + addCtime() + addUtime() + addCategory() + addAuthor() + addRate() + addVotes() + addOffset() + \"/\" + addTitle() + \"limit/\" + limitNum + addPpage() + addParent() + addList() + addOrder() + addPageno(pageNo);\n\t}else{\n\t\tpassingURL = passingURL + \"/\" + addTitle() + \"tag/\" + tag + addCtime() + addUtime() + addCategory() + addAuthor() + addRate() + addVotes() + addOffset() + \"/\" + addTitle() + \"limit/\" + limitNum + addPpage() + addParent() + addList() + addOrder() + addPageno(pageNo);\n\t}\n\tif(flag == 0){\n\t\tparent.location.href = passingURL;\n\t}else{\n\t\twindow.open(passingURL, \"_blank\");\n\t}\n}\n\n//URL添加标签\nfunction addTag(){\n    var i;\n    if((form.check1.checked == true) && (tagNumber > 0)){\n        var a = \"/\" + addTitle() + \"tag/\";\n        for(i = 0; i < tagNumber; i++){\n        if(i > 0){a = a + \",\";}\n        if(tagTable[i][0] == 1){\n        a = a + \"%2b\";\n        }else if(tagTable[i][0] == 2){\n        a = a + \"-\";\n        }\n        a = a + tagTable[i][1];\n        }\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n\n//URL添加创建日期\nfunction addCtime(){\n    var a = \"\";\n    if(form.check2.checked){\n        a = constructTimeParameter(1);\n    }\n    return a;\n}\n//URL添加更新日期\nfunction addUtime(){\n    var a = \"\";\n    if(form.check3.checked){\n        a = constructTimeParameter(2);\n    }\n    return a;\n}\n\nfunction constructTimeParameter(type){\n    if(type < 2){\n        var a = \"/\" + addTitle() + \"created_at/\";\n    }else{\n        var a = \"/\" + addTitle() + \"updated_at/\";\n    }\n    var initialCode = (type < 2)?\"C\":\"U\";\n\tvar runtype = Number(getRadioValue(initialCode + \"type\"));\n    switch(runtype){\n        case 0:\n            //指定年月\n            a += form.elements[\"option\" + type].value + form.elements[\"years\" + type].value;\n            if(form.elements[\"month\" + type].value != \"year_round\")a += \".\"+form.elements[\"month\" + type].value;\n        break;\n        case 1:\n            //指定日期\n            var dayNow = new Date();\n            var target = (type < 2)?\"created\":\"updated\";\n            var dayOld = decDay(form.elements[target].value);\n            var diff = Math.ceil( (dayNow.getTime() - dayOld.getTime()) / (1000 * 60 * 60) );\n            a += (\"last%20\"+ diff + \"%20hours\");\n            if(diff < 1)a = \"\";\n        break;\n        case 2:\n            //指定期间\n            a += form.elements[initialCode + \"daterange\"].value + (form.elements[initialCode + \"num1\"].value + form.elements[initialCode + \"num2\"].value);\n        break;\n    }\n    return a;\n}\n\n//URL添加分类\nfunction addCategory(){\n    if(form.check12.checked == true){\n        var a = \"/\" + addTitle() + \"category/\" + form.category.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL添加创建者\nfunction addAuthor(){\n    if(form.check4.checked == true){\n        var a = \"/\" + addTitle() + \"created_by/\" + form.author.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL添加评分\nfunction addRate(){\n    if((form.check5.checked == true) && (form.rating2.value != \"\")){\n        var a = \"/\" + addTitle() + \"rating/\" + form.rating1.value + form.rating2.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL添加总票数\nfunction addVotes(){\n    if((form.check11.checked == true) && (form.votes2.value != \"\")){\n        var a = \"/\" + addTitle() + \"votes/\" + form.votes1.value + form.votes2.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL添加偏移值\nfunction addOffset(){\n    var form = document.forms.mainForm;\n    if((form.check6.checked == true) && (form.offset.value != \"\")){\n        var a = \"/\" + addTitle() + \"offset/\" + form.offset.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL添加页面名称（未使用）\nfunction addName(){\n    var form = document.forms.mainForm;\n    if((form.check7.checked == true) && (form.chara.value != \"\")){\n        var a = \"/\" + addTitle() + \"name/\" + form.chara.value + \"%\";\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL添加每页显示上限\nfunction addPpage(){\n    var form = document.forms.mainForm;\n    if((form.check8.checked == true) && (form.page.value != \"\")){\n        var a = \"/\" + addTitle() + \"perPage/\" + form.page.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL添加显示顺序\nfunction addOrder(){\n    var form = document.forms.mainForm;\n    if((form.check9.checked == true) && (form.order.value != \"\")){\n        var a = \"/\" + addTitle() + \"order/\" + form.order.value;\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n//URL添加仅显示父页面\nfunction addParent(){\n    var form = document.forms.mainForm;\n    if(form.check10.checked == true){\n        var a = \"/\" + addTitle() + \"parent/-\";\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n\nfunction addPageno(No){\n\tif(No < 2){\n\t\tvar a = \"\";\n\t}else{\n\t\tvar a = \"/\" + addTitle() + \"p/\" + No;\n\t}\n\treturn a;\n}\n\n//导出显示项目选项\nfunction addList(){\n    var form = document.forms.mainForm;\n    var a = \"\";\n    if(form.list1.checked == true){\n        a += \"/list1_limit/1\";\n    }\n    if(form.list2.checked == false){\n        a += \"/list2_limit/1\";\n    }\n    if(form.list3.checked == false){\n        a += \"/list3_limit/1\";\n    }\n    if(form.list4.checked == true){\n        a += \"/list4_offset/1\";\n    }\n    if(form.list5.checked == true){\n        a += \"/list5_offset/1\";\n    }\n    if(form.list6.checked == true){\n        a += \"/list6_offset/1\";\n    }\n    if(form.list7.checked == true){\n        a += \"/list7_offset/1\";\n    }\n    if(form.list8.checked == false){\n        a += \"/list8_limit/1\";\n    }\n    if(form.list9.checked == false){\n        a += \"/list9_limit/1\";\n    }\n    if(form.list10.checked == true){\n        a += \"/list10_offset/1\";\n    }\n    if(form.list11.checked == true){\n        a += \"/list11_offset/1\";\n    }\n    if(form.list12.checked == true){\n        a += \"/list12_offset/1\";\n    }\n    if(form.list14.checked == true){\n        a += \"/list14_limit/1\";\n    }\n    if(form.list15.checked == true){\n        a += \"/list15_offset/1\";\n    }\n    return a;\n}\n\n//切换到显示SCP文档标题模式\nfunction addTitle(){\n    var form = document.forms.mainForm;\n    if(form.list13.checked == true){\n        var a = \"metatitle_\";\n    }else{\n        var a = \"\";\n    }\n    return a;\n}\n\n//标签列表\nfunction renewTag(){\n    var i;\n    var s = \"<p style='line-height: 1.7;'><input type='checkbox' name='check1' value='true' checked='checked'>标签：\";\n    for(i = 0; i < tagNumber; i++){\n        s += \"<a style='padding: 2px 4px; line-height: 1.2; border-radius: 6px; color: white; background-color: \";\n        if(tagTable[i][0] == 0){\n        s += \"green\";\n        }else if(tagTable[i][0] == 1){\n        s += \"blue\";\n        }else if(tagTable[i][0] == 2){\n        s += \"red\";\n        }\n        s += \";'><span style = 'cursor: pointer; font-size: 1.2em;' onclick = 'deletTag(\" + i + \")'>×</span> <span style = 'cursor: pointer;' onclick = 'changeTag(\" + i + \")'>\" + tagTable[i][1] + \"</span></a> \";\n    }\n    s += \"</p>\";\n    document.getElementById(\"tagField\").innerHTML = s;\n}\n\n//点击切换标签检索方式\nfunction changeTag(t){\n    tagTable[t][0] = (tagTable[t][0] + 1) % 3;\n    renewTag();\n}\n//点击删除标签\nfunction deletTag(t){\n    var i;\n    for(i = t; i < tagNumber; i++){\n        tagTable[i] = tagTable[i+1];\n    }\n    if(tagNumber > 0){\n        tagNumber = tagNumber - 1;\n    }\n    renewTag();\n}\n\n//直接输入添加标签\nfunction tagInput1(){\n    if(form.tagInput.value != \"\"){\n        tagTable[tagNumber] = [1, form.tagInput.value];\n        tagNumber = tagNumber + 1;\n        renewTag();\n    }\n    form.tagInput.value = \"\";\n}\n//按下回车键添加标签\nfunction onkeydownTagInput(event){\n\tif(event.keyCode == 13){\n\t\ttagInput1();\n\t}\n}\n//点击菜单添加标签\nfunction tagInput2(elm){\n    if(elm.value != \"\"){\n        tagTable[tagNumber] = [1, elm.value];\n        tagNumber = tagNumber + 1;\n        renewTag();\n    }\n}\n\n//根据第1级菜单的类别，生成第2级菜单\nfunction tagCat1(){\n    document.getElementById(\"tagSel3\").innerHTML = \"\";\n    var secondSelecter = document.getElementById(\"tagSel2\");\n    secondSelecter.innerHTML = \"\";\n    var target = form.tag1.value;\n    if(target.length > 0){\n        var select = document.createElement(\"select\");\n        select.setAttribute(\"name\",\"tag2\");\n        select.setAttribute(\"onChange\",\"registerSearchTagOrCreateThirdSelecter(this)\");\n        var option = document.createElement(\"option\");\n        var isTagSelect = true;\n        option.value = \"\";\n        option.innerHTML = \"...\";\n        select.appendChild(option);\n        for(var i in FirstCategory[target]){\n            option = document.createElement(\"option\");\n            option.value = i;\n            if(typeof(FirstCategory[target][i]) == \"string\"){\n                option.innerHTML = FirstCategory[target][i];\n            }else{\n                option.innerHTML = i;\n                if(isTagSelect)isTagSelect = false;\n            }\n            select.appendChild(option);\n            if(isTagSelect)select.style = \"background-color:#FFFFCC;\";\n        }\n        secondSelecter.appendChild(select);\n    }\n}\n\n//根据第2级菜单的类别，生成第3级菜单\nfunction registerSearchTagOrCreateThirdSelecter(elm){\n    var thirdSelecter = document.getElementById(\"tagSel3\");\n    var target = form.tag1.value;\n    thirdSelecter.innerHTML = \"\";\n    if(elm.value.length > 0){\n        if(typeof(FirstCategory[target][elm.value]) == \"string\"){\n            tagInput2(elm);\n        }else{\n            var select = document.createElement(\"select\");\n            select.setAttribute(\"onChange\",\"tagInput2(this)\");\n            select.setAttribute(\"name\",\"tag3\");\n            select.setAttribute(\"style\",\"background-color:#FFFFCC;\");\n            var option = document.createElement(\"option\");\n            option.value = \"\";\n            option.innerHTML = \"...\";\n            select.appendChild(option);\n            for(var i in FirstCategory[target][elm.value]){\n                option = document.createElement(\"option\");\n                option.value = i;\n                option.innerHTML = FirstCategory[target][elm.value][i];\n                select.appendChild(option);\n            }\n            thirdSelecter.appendChild(select);\n        }\n    }\n}\n\n//根据创建日期与更新日期筛选\n//type=1创建日期　type=2更新日期\nfunction createTimeForm(type){\n    var initialCode = (type < 2)?\"C\":\"U\";\n    var elmName = (type < 2)?\"created_at\":\"updated_at\";\n    var elm = document.getElementById(elmName);\n    var y, m;\n    var day = new Date();\n\tvar inputTypeA = \"date\";\n\tvar inputTypeB = \"number\";\n\tvar showType = 0;\n\tshowType = Number(getRadioValue(initialCode + \"type\"));\n\n\tif(Browser.indexOf(\"ie\") == 0){\n\t\t//兼容IE\n\t\tinputTypeA = \"text\";\n\t\tinputTypeB = \"text\";\n\t}\n\n    switch(showType){\n        case 0:\n            y = convDay(day, 1);\n            m = convDay(day, 2);\n            elm.innerHTML = \"<select name='years\"+type+\"'>\" + makeSel(y) + \"</select>\";\n            createTimeSelecter(elm,('month'+type),NotationMonth,true);\n            createTimeSelecter(elm,('option'+type),NotationTimeSpan1);\n            setPullDown(\"years\" + type,y);\n            setPullDown(\"month\" + type,set2fig(m));\n        break;\n        case 1:\n            var specialName = (type < 2)?\"created\":\"updated\";\n            elm.innerHTML = \"<input type='\"+inputTypeA+\"' name='\"+specialName+\"'  max='2037-12-31' min=2013-07-01>\";\n            form.elements[specialName].value = convDay(day, 0);\n            form.elements[specialName].max = convDay(day, 0);\n\n        break;\n        case 2:\n\t\telm.innerHTML = \"<input type='\"+inputTypeB+\"' name='\"+initialCode+\"num1' value='1' min='0' />\"\n\t\tcreateTimeSelecter(elm,initialCode+'num2',NotationTimeSpan2);\n\t\telm.innerHTML += \"<select name='\" + initialCode + \"daterange'><option value='last%20'>以内</option><option value='older%20than%20'>前 更早</option></select>\"\n        break;\n\t\tdefault:\n\n\t\tbreak;\n\n    }\n}\n\nfunction createTimeSelecter(elm,name,List,isMonth){\n    var select = document.createElement(\"select\");\n    select.setAttribute(\"name\",name);\n    var option;\n    for(var i in List){\n        option = document.createElement(\"option\");\n        option.value = (isMonth)?i.split(\"m\").join(\"\"):i;\n        option.innerHTML = List[i];\n        select.appendChild(option);\n    }\n    elm.appendChild(select);\n}\n\n//生成年份下拉式菜单\nfunction makeSel(year){\n    var i = 0;\n    var s = \"\";\n    do{\n        s += \"<option value='\" + (year - i) + \"'>\" +  (year - i) + NotationYear + \"</option>\";\n        i++;\n    }while(year - i > 2012)\n    return s;\n}\n//Date变量转换为字符串\nfunction convDay(day, swich){\n    var year = day.getFullYear();\n    var mon = day.getMonth()+1;\n    var day = day.getDate();\n    if(swich == 0){\n        var s = year + \"-\" + set2fig(mon) + \"-\" + set2fig(day);\n    }else if(swich == 1){\n        var s = year;\n    }else if(swich == 2){\n        var s = mon;\n    }\n    return s;\n}\n//字符串转换为Date变量\nfunction decDay(source){\n    var num = source.split(\"-\");\n    var day = new Date(num[0], num[1] - 1, num[2], 0, 0, 0);\n    return day;\n}\n//一位数字转换为两位\nfunction set2fig(num) {\n    var ret;\n    if( num < 10 ) { ret = \"0\" + num; }\n    else { ret = num; }\n    return ret;\n}\n\n//恢复检索设置状态\nfunction restoreSearchForm(parameter){\n    restoreSelectTags(parameter);\n    restoreCategory(parameter);\n    restoreUserName(parameter);\n    restoreRate(parameter);\n    restoreVotes(parameter);\n    restoreOrder(parameter);\n    restorePageSetting(parameter,\"perPage/\",\"check8\",\"page\");\n    restorePageSetting(parameter,\"/offset/\",\"check6\",\"offset\");\n    restorePageSetting(parameter,\"metatitle_offset/\",\"check6\",\"offset\");\n    restoreTimeSetting(parameter,1);\n    restoreTimeSetting(parameter,2);\n    restoreParentSetting(parameter);\n    restoreListSetting(parameter);\n}\n\nfunction restoreSelectTags(parameter){\n    var check = parameter.search(\"tag/\");\n    if(check < 0)return;\n    var tagsMember = extractSpecificParameter(parameter,check,\"tag/\");\n    //解码URL字符串\n    tagsMember=decodeURIExtension(tagsMember);\n    tagsMember = tagsMember.split(',');\n    for(var i=0;i<tagsMember.length;i++){\n        choiceTagSetting(tagsMember[i]);\n    }\n    function choiceTagSetting(target){\n        switch(target.charAt(0)){\n            case \"%\":\n                target = target.substring(3,target.length);\n\t\tif(target != \"\"){\n\t\t\ttagTable[tagNumber] = [1, target];\n\t\t\ttagNumber++;\n\t\t}\n            break;\n            case \"-\":\n                target = target.substring(1,target.length);\n\t\tif(target != \"\"){\n\t\t\ttagTable[tagNumber] = [2, target];\n\t\t\ttagNumber++;\n\t\t}\n            break;\n            default:\n\t\tif(target != \"\"){\n\t\t\ttagTable[tagNumber] = [0, target];\n\t\t\ttagNumber++;\n\t\t}\n            break;\n        }\n        renewTag();\n    }\n}\n\nfunction restoreCategory(parameter){\n    var check = parameter.search(\"category/\");\n    if(check < 0)return;\n    var categoryName = extractSpecificParameter(parameter,check,\"category/\");\n    form.check12.checked = true;\n    form.category.value = categoryName;\n}\n\nfunction restoreUserName(parameter){\n    var check = parameter.search(\"created_by/\");\n    if(check < 0)return;\n    var userName = extractSpecificParameter(parameter,check,\"created_by/\");\n    form.check4.checked = true;\n    form.author.value = userName;\n}\n\nfunction restoreOrder(parameter){\n    var check = parameter.search(\"order/\");\n    if(check < 0){\n        form.check9.checked = false;\n        return;\n    }\n    var targetPara = extractSpecificParameter(parameter,check,\"order/\");\n    form.check9.checked = true;\n    setPullDown(\"order\",decodeURIExtension(targetPara));\n}\n\nfunction restoreRate(parameter){\n    var check = parameter.search(\"rating/\");\n    if(check < 0)return;\n    var RateSetting = decodeURIExtension(extractSpecificParameter(parameter,check,\"rating/\"));\n    var i = getParamePositionJustBeforeNumber(RateSetting);\n    form.rating2.value = RateSetting.substring(i,RateSetting.length);\n    RateSetting = RateSetting.substring(0,i);\n    setPullDown(\"rating1\",RateSetting);\n    form.check5.checked = true; \n}\n\nfunction restoreVotes(parameter){\n    var check = parameter.search(\"votes/\");\n    if(check < 0)return;\n    var VotesSetting = decodeURIExtension(extractSpecificParameter(parameter,check,\"votes/\"));\n    var i = getParamePositionJustBeforeNumber(VotesSetting);\n    form.votes2.value = VotesSetting.substring(i,VotesSetting.length);\n    VotesSetting = VotesSetting.substring(0,i);\n    setPullDown(\"votes1\",VotesSetting);\n    form.check11.checked = true;\n}\n\nfunction restorePageSetting(parameter,target,checkbox,textbox){\n    var check = parameter.search(target);\n    if(check < 0)return;\n    check += target.length;\n    var searchNum = \"\";\n    for(var i = check;i < parameter.length;i++){\n        if(parameter.charAt(i).match(/[^0-9]/))break;\n        searchNum += parameter.charAt(i);\n    }\n    form.elements[checkbox].checked = true;\n    form.elements[textbox].value = searchNum;\n}\n\nfunction restoreParentSetting(parameter){\n    if(parameter.search(\"parent/-\") >= 0)form.check10.checked = true;\n}\n\nfunction restoreListSetting(parameter){\n\tif(parameter.search(\"list1_limit\") >= 0)form.list1.checked = true;\n\tif(parameter.search(\"list2_limit\") >= 0)form.list2.checked = false;\n\tif(parameter.search(\"list3_limit\") >= 0)form.list3.checked = false;\n\tif(parameter.search(\"list4_offset\") >= 0)form.list4.checked = true;\n\tif(parameter.search(\"list5_offset\") >= 0)form.list5.checked = true;\n\tif(parameter.search(\"list6_offset\") >= 0)form.list6.checked = true;\n\tif(parameter.search(\"list7_offset\") >= 0)form.list7.checked = true;\n\tif(parameter.search(\"list8_limit\") >= 0)form.list8.checked = false;\n\tif(parameter.search(\"list9_limit\") >= 0)form.list9.checked = false;\n\tif(parameter.search(\"list10_offset\") >= 0)form.list10.checked = true;\n\tif(parameter.search(\"list11_offset\") >= 0)form.list11.checked = true;\n\tif(parameter.search(\"list12_offset\") >= 0)form.list12.checked = true;\n\tif(parameter.search(\"metatitle\") >= 0){\n\t\tform.list13.checked = true;\n\t\tdocument.getElementById(\"displayList\").style.display=\"none\";\n\t}\n\tif(parameter.search(\"list14_limit\") >= 0)form.list14.checked = true;\n\tif(parameter.search(\"list15_offset\") >= 0)form.list15.checked = true;\n}\n\nfunction restoreTimeSetting(parameter,type){\n    var targetSentence = (type < 2)?\"created_at/\":\"updated_at/\";\n    var check = parameter.search(targetSentence);\n    if(check < 0)return;\n    if(parameter.search(targetSentence + \"p/\") >= 0)return;\n    if(parameter.search(targetSentence + \"metatitle_p/\") >= 0)return;\n    var initialCode = (type < 2)?\"C\":\"U\";\n    var radioSwitches = form.elements[initialCode + \"type\"];\n    form.elements[\"check\" + (type+1)].checked = true;\n\tvar targetAnalyze = extractSpecificParameter(parameter,check,targetSentence);\n\tcheck = targetAnalyze.search(\"last%20\");\n\tvar check1 = targetAnalyze.search(\"older%20than%20\");\n\tif(check >= 0){\n\t\tresotorePeriodSetting(\"last%20\");\n\t}else if(check1 >= 0){\n\t\tresotorePeriodSetting(\"older%20than%20\");\n\t}else{\n\trestoreYearAndMonthSetting(targetAnalyze);\n\t}\n\n    function restoreYearAndMonthSetting(){\n        targetAnalyze = decodeURIExtension(targetAnalyze);\n        radioSwitches[0].checked = true;\n        createTimeForm(type);\n        var endPos = getParamePositionJustBeforeNumber(targetAnalyze);\n        setPullDown(\"option\" + type,targetAnalyze.substring(0,endPos));\n        targetAnalyze = targetAnalyze.substring(endPos,targetAnalyze.length);\n        targetAnalyze = targetAnalyze.split(\".\");\n        setPullDown(\"years\" + type,targetAnalyze[0]);\n        setPullDown(\"month\" + type,targetAnalyze[1]);\n    }\n\n    function resotorePeriodSetting(drange){\n        radioSwitches[2].checked = true;\n        createTimeForm(type);\n        targetAnalyze = targetAnalyze.split(drange).join(\"\");\n        for(var i = 0;i < targetAnalyze.length;i++){\n            if(targetAnalyze.charAt(i).match(/[^0-9]/))break;\n        }\n        form.elements[initialCode + \"num1\"].value = targetAnalyze.substring(0,i);\n        setPullDown(initialCode + \"num2\",targetAnalyze.substring(i,targetAnalyze.length));\n\tsetPullDown(initialCode + \"daterange\",drange);\n    }\n}\n\n/*复位辅助*/\n\n\nfunction setPullDown(selecter,SelectValue){\n    var MenuList = form.elements[selecter].getElementsByTagName('option');\n\n    for(var i = 0;i < MenuList.length;i++){\n        if(MenuList[i].value == SelectValue){\n            MenuList[i].selected = true;\n        }else{\n            MenuList[i].selected = false;\n        }\n    }\n}\n\nfunction decodeURIExtension(target){\n/*この関数の\n参考:\nyukioc氏\nJavaScriptでURLをちょっと賢く解読する。 CodingFirst\nhttp://iyukki.blog56.fc2.com/blog-entry-120.html*/\n    target=target.replace(/%(?:25)+([0-9A-F][0-9A-F])/g,function(whole,m1){\n        return \"%\"+m1;\n    });\n    var utf8uri = new RegExp(\n        \"%[0-7][0-9A-F]|\"+\n        \"%C[2-9A-F]%[89AB][0-9A-F]|%D[0-9A-F]%[89AB][0-9A-F]|\"+\n        \"%E[0-F](?:%[89AB][0-9A-F]){2}|\"+\n        \"%F[0-7](?:%[89AB][0-9A-F]){3}|\"+\n        \"%F[89AB](?:%[89AB][0-9A-F]){4}|\"+\n        \"%F[CD](?:%[89AB][0-9A-F]){5}\",\"ig\");\n    target=target.replace(utf8uri,function(whole){\n        return decodeURI(whole);\n    });\n    return target;\n}\n\nfunction extractSpecificParameter(parameter,check,target){\n    check += target.length;\n    for(var i = check;i < parameter.length;i++){\n        if(parameter.charAt(i) == \"/\")break;\n        if(parameter.charAt(i) == \"#\")break;\n    }\n    return parameter.substring(check,i);\n}\n\nfunction getParamePositionJustBeforeNumber(target){\n    for(var i = 0;i < target.length;i++){\n        if(target.charAt(i).match(/[0-9]/)){\n        break;\n        }\n        if(target.charAt(i).match(\"-\")){\n        break;\n        }\n    }\n    return i;\n}\n\nfunction sendList(){\n\tif(frameCheck >= 0){\n\t\twindow.parent.window.frames[frameCheck].resList(listMax, window.parent.window.frames.self.length - 1);\n\t}\n}\n\nfunction resList2(list){\n\tvar form = document.forms.mainForm;\n\tform.list1.checked = list[0];\n\tform.list2.checked = list[1];\n\tform.list3.checked = list[2];\n\tform.list4.checked = list[3];\n\tform.list5.checked = list[4];\n\tform.list6.checked = list[5];\n\tform.list7.checked = list[6];\n\tform.list8.checked = list[7];\n\tform.list9.checked = list[8];\n\tform.list10.checked = list[9];\n\tform.list11.checked = list[10];\n\tform.list12.checked = list[11];\n\tform.list13.checked = list[12];\n\tform.list14.checked = list[13];\n\tform.list15.checked = list[14];\n}\n\n//辅助功能\n\n\n//读取Radio开关\nfunction getRadioValue(ElmName){\n\tvar result = \"\";\n\tif(!isMSBrowser()){\n\t\tresult = Number(form.elements[ElmName].value);\n\t}else{\n\t\tvar radisGroup = form.elements[ElmName];\n\t\tfor(var i = 0;i < radisGroup.length;i++){\n\t\t\tif(radisGroup[i].checked){\n\t\t\t\tresult = radisGroup[i].value;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\n</script>\n<form name='mainForm'>\n<center><h2>选择标签</h2></center>\n<span id = \"tagField\"><p><input type='checkbox' name='check1' value='true' checked='checked'>标签：</p></span>\n<span id=\"tagSel1\">选择类别：\n<select name='tag1' onChange='tagCat1()'>\n<option value=''>...</option>\n</select></span>\n<span id=\"tagSel2\"></span>\n<span id=\"tagSel3\"></span>\n<p>直接输入：<input type=\"text\" name=\"tagInput\" value=\"scp\" onkeydown=\"onkeydownTagInput(event);\"><input type=\"button\" value=\"添加标签\" onclick=\"tagInput1()\"></p>\n<center><h2>显示选项</h2></center>\n<table style=\"margin-right:auto; margin-left:auto; width: 90%; border: 1px solid silver;\">\n<tr>\n<td style=\"text-align: left; border: 0px\">\n<p><input type=\"checkbox\" name=\"check9\" value=\"true\" checked='checked'>显示顺序：\n<select name=\"order\">\n</select></p>\n<p><input type=\"checkbox\" name=\"check8\">每页显示上限：<input type=\"number\" name=\"page\" value=\"20\" max=\"250\" min=\"1\"></p>\n<p><input type=\"checkbox\" name=\"check6\">偏移值：<input type=\"number\" name=\"offset\" value=\"0\" max=\"250\" min=\"0\"></p>\n</td>\n</tr>\n</table>\n<center>\n<br/><input type=\"button\" value=\"开始检索\" onclick=\"startSearch(0, '', 1)\">    <input type=\"button\" value=\"在新标签页打开检索结果\" onclick=\"startSearch(1, '', 1)\">\n<h2>筛选条件</h2></center>\n<table style=\"margin-right:auto; margin-left:auto; width: 90%; border: 1px solid silver;\">\n<tr>\n<td style=\"text-align: left; border: 0px\">\n<p><input type=\"checkbox\" name=\"check2\">创建日期：<input type=\"radio\" name=\"Ctype\" value=\"0\" checked=\"checked\" onChange=\"createTimeForm(1)\">指定年月 <input type=\"radio\" name=\"Ctype\" value=\"1\" onChange=\"createTimeForm(1)\">指定日期 <input type=\"radio\" name=\"Ctype\" value=\"2\" onChange=\"createTimeForm(1)\">指定期间</p>\n<span id=\"created_at\"></span>\n<p><input type=\"checkbox\" name=\"check3\">更新日期：<input type=\"radio\" name=\"Utype\" value=\"0\" checked=\"checked\" onChange=\"createTimeForm(2)\">指定年月 <input type=\"radio\" name=\"Utype\" value=\"1\" onChange=\"createTimeForm(2)\">指定日期 <input type=\"radio\" name=\"Utype\" value=\"2\" onChange=\"createTimeForm(2)\">指定期间</p>\n<span id=\"updated_at\"></span>\n<p><input type=\"checkbox\" name=\"check12\">分类：<input type=\"text\" name=\"category\"  value=\"_default\"></p>\n<p><input type=\"checkbox\" name=\"check4\">创建者：<input type=\"text\" name=\"author\"  value=\"user_name\"></p>\n<p><input type=\"checkbox\" name=\"check5\">评分：<input type=\"number\" name=\"rating2\" value=\"0\" /><select name=\"rating1\" value=\"=\"></select></p>\n<p><input type=\"checkbox\" name=\"check11\">总票数：<input type=\"number\" name=\"votes2\" value=\"0\" min=\"0\" /><select name=\"votes1\" value=\"=\"></select></p>\n<!-- <p><input type=\"checkbox\" name=\"check7\">开头文字：<input type=\"text\" name=\"chara\"></p> 因为不稳定而暂未使用 -->\n<p><input type=\"checkbox\" name=\"check10\">仅显示父页面</p>\n</td>\n</tr>\n</table>\n<span id=\"displayList\">\n<center><h2>显示项目</h2></center>\n<table style=\"margin-right:auto; margin-left:auto; width: 90%; border: 1px solid silver;\">\n<tr>\n<td style=\"text-align: left; border: 0px\">\n<h3>一般</h3>\n<p>创建者<input type=\"checkbox\" name=\"list2\" checked='checked' onChange=\"sendList()\">/ \n创建日期<input type=\"checkbox\" name=\"list3\" checked='checked' onChange=\"sendList()\">/ \n讨论<input type=\"checkbox\" name=\"list8\" checked='checked' onChange=\"sendList()\">/ \n评分<input type=\"checkbox\" name=\"list9\" checked='checked' onChange=\"sendList()\"></p>\n<h3>更新・讨论</h3>\n<p>最新更新者<input type=\"checkbox\" name=\"list4\" onChange=\"sendList()\">/ \n最新更新日期<input type=\"checkbox\" name=\"list5\" onChange=\"sendList()\">/ \n最新讨论者<input type=\"checkbox\" name=\"list6\" onChange=\"sendList()\">/ \n最新讨论日期<input type=\"checkbox\" name=\"list7\" onChange=\"sendList()\"></p>\n<h3>统计数据</h3>\n<p>内容长度<input type=\"checkbox\" name=\"list10\" onChange=\"sendList()\">/ \n子页面<input type=\"checkbox\" name=\"list11\" onChange=\"sendList()\">/ \n页面版本<input type=\"checkbox\" name=\"list12\" onChange=\"sendList()\">/ \n评分详细<input type=\"checkbox\" name=\"list15\" onChange=\"sendList()\"></p>\n<h3>其他</h3>\n<p>项目等级<input type=\"checkbox\" name=\"list1\" onChange=\"sendList()\">/ \nSCP文档标题<input type=\"checkbox\" name=\"list13\" onChange=\"sendList()\">/ \n全部标签一览<input type=\"checkbox\" name=\"list14\" onChange=\"sendList()\"></p>\n</td>\n</tr>\n</table>\n</span>\n<center>\n<input type=\"button\" value=\"开始检索\" onclick=\"startSearch(0, '', 1)\">    <input type=\"button\" value=\"在新标签页打开检索结果\" onclick=\"startSearch(1, '', 1)\">\n</center>\n</form>\n[[/html]]\n[[/div]]\n\n+ 使用方法\n\n++ 这是什么？\n\n这是一个通过标签来检索网站上的页面的系统。在页面底部的标签列表和标签云的链接中，只能搜索一种类型的标签。但使用此系统，您可以使用AND和OR等条件检索多种标签。此外，您也可以使用创建/更新日期、作者和评分等各种条件进行筛选，还可以设置显示的顺序。您可以自定义显示的项目，还可以显示SCP文档的标题。\n\n如果你想通过SCP文档的标题来搜索，请使用[[[scpmetatitlesearch|标题搜索系统]]]。\n\n++ 设置项目\n\n**选择标签**、**显示选项**、**筛选条件**下每个设置项目之前有复选框，决定是否启用各个功能。在默认情况下，只有**标签**和**显示顺序**有效，您需要单击复选框才能启用其他设置项目。即使选择了下拉式项目或者输入了文本，未启用的功能也会被直接忽略。\n\n++ 选择标签\n\n+++ 输入方法\n\n有两种方法可以选择标签。一个是利用下拉式菜单，选中菜单上的任意类别，将会显示第2级菜单。如果是背景为黄色的选项，选中后相应标签将会被添加到**标签**之后。如果是背景为白色的选项，选中后会显示第3级菜单。这个菜单所有选项都是黄色背景的，选中后相应标签将会被添加到**标签**之后。第2级菜单的分类是由[[*user physicslike]]完成的，如有疏漏敬请谅解。\n另外您可以在文本框中直接输入字符串，随后点击**添加标签**按钮或按下回车键即可，注意检查输入的字符串是否与标准标签一致，所有的标签均应以__简体__表示。若待检索的标签暂未录入本系统，您可以使用这种方法输入。\n\n+++ 标签列表\n\n所有输入的标签会显示在标签列表中，每个标签的背景颜色代表不同的检索方式。默认的蓝色表示总是包含此标签（AND），绿色表示可选标签（OR），红色表示不包含此标签（NOT），点击标签即可切换检索方式。例如，如果有绿色的“scp”标签和绿色的“故事”标签，则会检索所有带有“scp”或者“故事”的页面。如果再添加一个蓝色的“全球超自然联盟”标签，则会显示所有带有“全球超自然联盟”的“scp”或者“故事”页面。如果进一步添加一个红色的“人形生物”标签，则会显示所有带有“全球超自然联盟”的“scp”或者“故事”、并排除所有带有“人形生物”标签的页面。\n想要删除某个标签，请点击标签左侧的“×”。\n\n++ 显示选项\n\n+++ 显示顺序\n\n您可以从下拉式菜单中选择任意一种排序方式。标题排序仅依照字母和数字顺序，汉语标题则按随机顺序排序。关于内容长度，会计算文中所有字符、语法和空格，因此使用大量语法的页面，尽管实际字数不多，但内容长度的数值会很大。另外，使用子页面迭代的页面仅会计算父页面的语法长度。对于投票数，可以根据总票数（UV和DV的总和）升序或降序排列。\n\n+++ 每页显示上限\n\n每页显示上限决定了每一页内显示的最大项目数，最大值为250。当显示SCP文档标题时，若每页显示数量较多，加载页面会花费较长的时间。\n\n+++ 偏移值\n\n将会隐藏开头指定数量的项目。\n\n++ 筛选条件\n\n+++ 创建日期・更新日期\n\n根据创建和更新日期筛选页面，点击单选按钮选择以下3种筛选方式：\n# 指定年月 _\n从下拉式菜单中选择年份和月份，然后选择范围：期间、当月及以后、当月及以前、以后、以前。这是指定特定时间段的唯一方法，年份和月份依照世界标准时间（UTC）。\n# 指定日期 _\n使用日历菜单设定日期，会筛选指定日期及以后创建或更新的页面。该方法会根据您打开此页的时刻计算与设定日期之间的差值，实际上等同于第3种方法，因此可能会错误地计入前一日接近凌晨零时创建或更新的页面。若您的浏览器（如Firefox）不兼容日历菜单，请以“YYYY-MM-DD”的格式手动输入。\n# 指定期间 _\n设定任意数量的小时、日、周或月，可以选择该时间点至现在或者该时间点更早。\n\n+++ 分类\n\n指定筛选页面的分类，多个分类之间用半角空格隔开，在分类前添加减号（\"-category\"）以排除特定的分类。\n\n+++ 页面创建者\n\n按照页面创建者的ID筛选，必须输入完整的wikidot用户ID。\n\n+++ 评分\n\n按照页面评分筛选，输入数字后选择范围：相等、不等于、以上或相等、以下或相等、以上、以下。\n\n+++ 总票数\n\n按照UV和DV票数总和筛选，设置方法与评分相同。\n\n+++ 仅显示父页面\n\n仅显示未设置任何父页面的页面。\n\n++ 显示项目\n\n设置各个项目的显示或隐藏。当显示SCP文档标题时，显示项目的设置会显示在检索结果列表下方，项目的显示和隐藏会实时反映在列表中。\n\n+++ 一般\n\n检索结果总是显示序号、标题链接、原文链接（国旗图标）。\n默认会显示页面创建者、创建日期、讨论和评分，但可以通过取消勾选来隐藏这些项目。\n\n+++ 统计数据\n\n内容长度会计算文中所有字符、语法和空格，而非实际显示的字数。子页面会显示将该页面作为父页面的页面数量，大多数情况下为0。页面版本指该页面更新的次数。必须先显示评分才能显示评分详细，会显示UV和DV的数量。\n\n+++ 其他\n\n项目等级采用俄语分部的颜色表示法，显示在列表序号和标题之间，并在列表顶端显示图例。\nSCP文档标题可以显示SCP系列中心页上的标题。勾选该功能，将使用另一套专用的框架，加载列表会需要花费更长的时间。而且，如前文所述，如果同一页内显示的数量太多，加载速度会非常缓慢。若列表未能正确地显示，可以尝试刷新页面。\n全部标签一览可以显示页面的所有标签。您可以点击链接，再次使用该标签作为条件进行检索。该功能仅在显示SCP文档标题的模式下有效。\n\n此页的系统由[[*user physicslike]]和[[*user C-take]]开发，并由[[*user Sekai_s]]翻译至中文分部。如果您发现了任何错误或者有任何意见，请在讨论区留言。",
  "tags": [
    "jp",
    "指导"
  ],
  "author": "Sekai_s",
  "created_at": "2019-01-03T05:38:14+00:00",
  "updated_at": "2024-05-09T13:17:38+00:00",
  "rating": 33,
  "_site": "scp-wiki-cn",
  "_fullname": "tag-search"
}
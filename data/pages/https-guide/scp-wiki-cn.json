{
  "title": "HTTPS 转换指导",
  "content": "> [[size 150%]]**##4682B4|译注：本文当前仅适用于英文站，此处仅供参考##**[[/size]]\n-----\n[[f<toc]]\n~~~~\n\n[[module CSS]]\ncode, tt {\n    padding: .2em .4em;\n    line-height: 1.8em;\n    background-color: rgba(182, 186, 192, 0.4);\n    border-radius: 6px;\n}\n[[/module]]\n\n依据[[[technical-content-policy|技术内容守则]]]，网站上的所有链接均应使用 HTTPS，且允许修复此种链接的编辑操作，与修复错别字相同。然而，由于 Wikidot 的限制，你有可能会意外地创建一些无效的链接，导致别人在遇到这些链接的时候出现糟糕的用户体验。这篇指导旨在详解链接究竟该如何被 HTTPS 化。\n\n++ 域名\n\n网站拥有三个指向英语 SCP 维基的域名：\n* {{scp-wiki.net}}\n* {{scpwiki.com}}\n* {{scp-wiki.wikidot.com}}\n\n第一个是老旧的废弃域名，之前被用作官方域名，[http://05command.wikidot.com/forum/t-13563189/discussion:domain-transition-scpwiki-com 在一次职员讨论中官方域名被修改为了 scpwiki.com]。这些域名总应被替换掉。\n\n第二个是我们现用的官方域名。**在链接里用这个域名总是可以接受的**，只要它是 HTTPS（即 {{@@https://scpwiki.com/@@}}）。然而，由于 Wikidot 对 HTTPS 的限制，现在这个域名暂时会重定向至 Wikidot 域名。\n\n第三个是 Wikidot 的域名，{{@@https://scp-wiki.wikidot.com/@@}}。如前所述，该域名正在使用是因为 Wikidot 只在子域名（即 {{*.wikidot.com}}）中支持 HTTPS。使用这个域名也是可以接受的，但如果是面向公众的正式环境中（比如网络推广所作的告示），最好应使用官方域名。\n\n++ 链接\n\n讨厌的是，Wikidot 拥有两种类型的链接：\n\n[https://www.wikidot.com/doc-wiki-syntax:links#internal 三括号链接][[footnote]]**译注：**中译版在[http://scp-wiki-cn.wikidot.com/wiki-syntax#toc19 此]。[[/footnote]]允许仅通过其网址后缀指定一个本站页面。其格式为{{@@[[[page-slug-name|链接标签]]]@@}}，然而，如果标签（在标准化后）与网址后缀相同，那么你只需指定标签。举例：{{@@[[[SCP-1000]]]@@}}，或者{{@@[[[Chat Guide]]]@@}}。**对于主网站上的页面应首先考虑使用这些本站链接。**只有这种链接才会显示在反向链接中，且能保持当前网站域名和协议不变。\n\n[https://www.wikidot.com/doc-wiki-syntax:links#urls 单括号链接][[footnote]]**译注：**中译版在[http://scp-wiki-cn.wikidot.com/wiki-syntax#toc20 此]。[[/footnote]]在需要绝对链接，比如论坛链接、带参数的页面（例如迭代页面），其它 Wikidot 网站，或者网络上的其它地方的时候使用。其形式为{{@@[https://zh.wikipedia.org/wiki/SCP基金会 SCP基金会]@@}}。（注意链接与标签之间没有竖杠。）\n\n后者在同站点中也能使用相对链接，只需去除链接中的域名部分就可以了。比如一个迭代链接（例如{{@@https://scp-wiki.wikidot.com/scp-4447/offset/1@@}}）能被简单地表示为{{@@/scp-4447/offset/1@@}}。论坛讨论串亦是如此：{{@@/forum/c-882989@@}}。\n\n所以是这样子的：\n* 链接{{@@[https://scp-wiki.wikidot.com/scp-4447/offset/1 下一迭代]@@}}将变成{{@@[/scp-4447/offset/1 下一迭代]@@}}.\n* 链接{{@@[http://scp-wiki-cn.wikidot.com/forum/c-882989/ 通告]@@}}将变成{{@@[/forum/c-882989 通告]@@}}.\n\n++ 文件\n\n与链接类似，文件的链接也需要转换。这一点尤其重要，因为如果你在使用 HTTPS 连接的话，很多浏览器都会警告或拦截通过 HTTP 加载的资源。幸好，所有的 {{wdfiles.com}}（也就是 Wikidot 存储文件的地方）链接都支持 HTTPS，即使主站点并未开启 HTTPS 也是如此。\n\n最简单获得正确的（wdfiles.com）链接的方法就是在一个新标签页里打开它，然后复制你重定向到的网页链接，然后确保它是 HTTPS 的。这种 URL 的例子有 https://scp-wiki.wdfiles.com/local--files/scp-001/fractal-mka.jpeg（注意是 {{wdfiles.com}} 的域名）。\n\n++ 代码\n\n与文件相似，你应该在代码里优先选择 {{wdfiles.com}} 的链接。不要用 {{@@https://scpwiki.com/component:theme/code/1@@}}，而要使用 {{@@https://scp-wiki.wdfiles.com/local--code/component%3Atheme/1@@}}。（你可以很简单地通过访问该链接然后让它进行重定向来得到这一链接。）\n\n请注意，由于 [[[css-policy|CSS 守则]]]，禁止使用 {{@import}} 引入版式，现在应该改而使用 {{@@[[include]]@@}}。{{@import}} 仅允许在 HTML 或其它非 Wikidot 内容中使用。\n\n++ 警告语\n\n某些链接，尽管它是 HTTPS 的，但是它们**不可用**。请注意不要创建这些链接，因为它们**没有用**而且读者的浏览器会给它们显示一个非常可怕的警告。\n\n* {{@@https://scp-wiki.net@@}} ❌\n* {{@@https://www.scp-wiki.net@@}} ❌ \n* {{@@https://www.scp-wiki.wikidot.com@@}} ❌\n\n只有 {{@@scpwiki.com@@}} 和 {{@@scp-wiki.wikidot.com@@}}（前面什么东西都没有）才能用在 HTTPS 上。\n\n如果你看到页面上有出现这些不可用的链接，请更换它们。\n\n++ 转换至 HTTPS\n\n看到一条链接之后，你应该问自己以下问题：\n* 这条链接能不能被表达为本站的三括号链接？（例如到达 SCP-1000 的链接）\n* 这条链接能不能被表达为一条相对链接？（例如到达迭代页面或者论坛讨论串的链接）\n* 这条链接是到达不同的 Wikidot 站点的吗？如果是这种情况的话你可能得让它维持原样。（例如到达 O5 指挥部的链接）\n* 如果这是一条外部链接，那么它是 HTTPS 的吗？现在的所有现代网站都支持 HTTPS 了。（例如到达谷歌或维基百科的链接）\n\n有了这些做背景知识，以下是不推荐的输入的参考例子，且列出了需用于替换的链接示例。\n\n||~ 原始 ||~ 替换 ||\n|| {{@@[http://scp-wiki.net/scp-1000 SCP-1000]@@}} || {{@@[[[SCP-1000]]]@@}} ||\n|| {{@@[[[http://scpwiki.com/scp-1000|SCP-1000]]@@}} || {{@@[[[SCP-1000]]]@@}} ||\n|| {{@@[http://scp-wiki.net/scp-173 某个雕像]@@}} || {{@@[[[scp-173 | 某个雕像]]]@@}} ||\n|| {{@@[http://scp-wiki.net/scp-4447/offset/1 下一页]@@}} || {{@@[/scp-4447/offset/1 下一页]@@}} ||\n|| {{@@[http://scp-wiki-cn.wikidot.com/forum/t-14075243/ 论坛提问区帮助]@@}} || {{@@[/forum/t-14075243/ 论坛提问区帮助]@@}} ||\n|| {{@@[[image http://scpwiki.com/local--files/scp-001/fractal-mka.jpeg]]@@}} || {{@@[[image https://scp-wiki.wdfiles.com/local--files/scp-001/fractal-mka.jpeg]]@@}} ||\n|| {{@@http://scp-wiki.net/some-page/code/1@@}} || {{@@https://scp-wiki.wdfiles.com/local--code/some-page/1@@}} ||\n|| {{@@http://scp-wiki.wikidot.com/some-page/code/2@@}} || {{@@https://scp-wiki.wdfiles.com/local--code/some-page/2@@}} ||\n|| {{@@[http://google.com/ 搜索]@@}} || {{@@[https://google.com/ 搜索]@@}} ||\n|| {{@@[http://05command.wikidot.com/site-charter 网站规章]@@}} || 维持原样（其它网站） ||\n\n你也可以用[https://acg.kr/aEIat9 这个替换工具]来帮你替换链接。\n\n如果你有任何问题，欢迎咨询[http://05command.wikidot.com/technical-staff-main 技术团队]。",
  "tags": [
    "指导"
  ],
  "author": "hoah2333",
  "created_at": "2022-01-17T07:51:34+00:00",
  "updated_at": "2022-01-17T09:17:40+00:00",
  "rating": 8,
  "_site": "scp-wiki-cn",
  "_fullname": "https-guide"
}
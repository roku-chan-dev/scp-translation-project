{
  "title": "scp-ko-custom-calendar-updater",
  "content": "[[module css]]\n.calendar-outer-wrapper {position: static;}\n.calendar-inner-wrapper {position: relative;top: 0px;left: 0px;}\n\n.calendar-inner-wrapper .page-calendar-box .selected > a {background: linear-gradient(to right, #fcebeb 30%, #FFFFFF);}\n.calendar-inner-wrapper .page-calendar-box:nth-child(1) {position: relative;top: 0px;left: 0px;}\n.calendar-inner-wrapper .page-calendar-box:nth-child(2) {position: absolute;top: 0px;left: 0px;}\n.page-calendar-box p {padding: 0px; margin: 0px; line-height: 1.4;}\n.page-calendar-box li {line-height: 1.4;}\n\n.page-calendar-box > ul > li {display: inline-block; vertical-align: top; margin-bottom: 10px; width: 120px;}\n@media (max-width: 767px) {.page-calendar-box > ul > li {width: 100px;}}\n\n.page-calendar-box > ul > li:nth-child(n) > a {letter-spacing: -7px; color: rgba(0, 0, 0, 0);}\n.page-calendar-box > ul > li:nth-child(n) > ul > li > a {letter-spacing: -7px; color: rgba(0, 0, 0, 0);}\n.page-calendar-box > ul > li:nth-child(n) > a::before {color: #b01; letter-spacing: 0px;}\n.page-calendar-box > ul > li:nth-child(n) > ul > li > a::before {color: #b01; letter-spacing: 0px;}\n.page-calendar-box > ul > li:nth-child(n) > div > p > a {color: #b01;}\n.page-calendar-box > ul > li:nth-child(n) > ul > li > div > p > a {color: #b01;}\n[[/module]]\n\n[[=]]\n[[module CountPages category=\"_default\" tags=\"{$tags}, +ko\" date=\"@URL|2025\"]]\n+ %%total%%개 문서 검색됨\n[[/module]]\n[[/=]]\n\n[[module ListPages category=\"_default\" tags=\"{$tags}, +ko\" perPage=\"30\" date=\"@URL|2025\" separate=\"false\" prependLine=\"||~ 페이지||~ 생성 날짜||~ 작성자 ||~ 태그||\"]]\n|| %%linked_title%% || %%date%% || %%author%% || %%tags%% ||\n[[/module]]\n\n----\n* Published by [[*user vocadomato]]\n\n[[collapsible show=\"+ 코드 갱신 도구\" hide=\"- COPY 버튼을 누르면 갱신된 소스가 클립보드에 복사됩니다.\"]]\n\n[[html]]\n<button onclick=\"copy()\">COPY</button>\n\n<script>\nvar count_module_prefix = '';\nvar a_href_prefix = '';\nvar calendar_module = '';\n\nfunction copyToClipboard(val) {\n  const t = document.createElement(\"textarea\");\n  document.body.appendChild(t);\n  t.value = val;\n  t.select();\n  document.execCommand('copy');\n  document.body.removeChild(t);\n}\n\nfunction getA(year, month) {\n  var d = '';\n  var content = '';\n  d += year;\n  if (month > 0) {\n    d += '.' + month;\n    content += '　　　';\n  } else {\n    content += '　　 　';\n  }\n  content += '(%%total%%)';\n  \n  var s = count_module_prefix + d + '\\\"]]\\n';\n  s += a_href_prefix + d + '\\\"]]';\n  s += content + '[[/a]]\\n[[/module]]\\n';\n\n  return s;\n}\n\nfunction getYearElements(y, startMonth, endMonth) {\n  var s = '';\n  s += '[[li]]\\n' + getA(y, 0) + '[[ul]]\\n';\n  for (m = endMonth; m >= startMonth; m--) {\n    s += '[[li]]\\n' + getA(y, m) + '[[/li]]\\n';\n  }\n  s += '[[/ul]]\\n[[/li]]\\n';\n  return s;\n}\n\nfunction getPageCalendarBox(startYear, startMonth, currentYear, currentMonth) {\n  var s = '[[>]]\\n[[module Rate]]\\n[[/>]]\\n\\n';\n  s += '[[div class=\"calendar-outer-wrapper\"]]\\n';\n  s += '[[div class=\"calendar-inner-wrapper\"]]\\n\\n';\n\n  s += calendar_module + '\\n\\n';\n  s += '[[div class=\"page-calendar-box\"]]\\n[[ul]]\\n';\n\n  for (y = currentYear; y > startYear; y--) {\n    s += getYearElements(y, 1, (y == currentYear) ? currentMonth : 12);\n  }\n  s += getYearElements(startYear, startMonth, 12);\n\n  s += '[[/ul]]\\n[[/div]]\\n\\n';\n\n  s += '[[/div]]\\n[[/div]]\\n\\n';\n  return s;\n}\n\nfunction getCSSModule(startYear, startMonth, currentYear, currentMonth) {\n  var s = '[[module css]]\\n'\n  \n  function getYearASelecter(i) {\n    return '.page-calendar-box > ul > li:nth-child(' + i + ') > ';\n  }\n\n  function getABefStyle(p, maxMonth) {\n    var pp = p + 'ul > li:nth-child(';\n    ss = '';\n    for (m = maxMonth, j = 1; m >= 1; m--, j++) {\n      ss += pp + j + ') > a::before{content: \\'' + m + '월' + ((m < 10) ? '　　　　　 ' : '　　　　 ') +'\\';}\\n';\n    }\n    return ss;\n  }\n\n  for (y = currentYear, i = 1; y >= startYear; y--, i++) {\n    var p = getYearASelecter(i);\n    s += p + 'a::before{content: \\'' + y + '　　　　 \\';}\\n';\n  }\n\n  s += getABefStyle(getYearASelecter(1), currentMonth);\n  s += getABefStyle(getYearASelecter('n+2'), 12);\n\n  s += '\\n[[/module]]\\n\\n';\n\n  s += '[[include :scp-ko-custom-calendar-updater\\n'\n  s += '|tags={$tags}\\n'\n  s += '|href={$href}\\n'\n  s += ']]\\n'\n  return s;\n}\n\nfunction copy() {\n  let today = new Date();   \n  let currentYear = today.getFullYear();\n  let currentMonth = today.getMonth() + 1;\n\n  //=============================================================\n\n  calendar_module = '[[module PageCalendar category=\\\"_default\\\" tags=\\\"{$tags}, +ko\\\"]]';\n  count_module_prefix = '[[module CountPages category=\\\"_default\\\" tags=\\\"{$tags}, +ko\\\" date=\\\"';\n  a_href_prefix = '[[a href=\\\"{$href}';\n\n  const startYear = 2012;\n  const startMonth = 8;\n\n  //=============================================================\n\n  var s = '';\n  s += getPageCalendarBox(startYear, startMonth, currentYear, currentMonth);\n  s += getCSSModule(startYear, startMonth, currentYear, currentMonth);\n \n  copyToClipboard(s);\n}\n</script>\n[[/html]]\n\n[[/collapsible]]",
  "tags": [
    "ko",
    "관리"
  ],
  "author": "vocadomato",
  "created_at": "2022-12-15T04:13:43+00:00",
  "updated_at": "2025-01-29T12:26:00+00:00",
  "rating": 0,
  "_site": "scpko",
  "_fullname": "scp-ko-custom-calendar-updater"
}
{
  "title": "音速挑战者播放器:code",
  "content": "[!--\n[[code type=\"CSS\"]]\n*{margin: 0px; padding: 0px;}\nbody {\n  text-align: center;\n}\n.box {\n  width: 96.5%;\n  max-width: 450px !important;\n  height: 660px;\n  margin: 0 auto;\n  overflow: hidden;\n  background-color: #606060;\n  color: #A0A0A0;\n}\n.lrc {\n  position: relative;\n  left: -20px;\n  width: calc(100% + 40px);\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.lrc::-webkit-scrollbar {\n  display: none;\n}\n.lrc li {\n  display: block;\n  width: calc(100% - 40px);\n  min-height: 30px;\n  margin-left: auto;\n  margin-right: auto;\n  line-height: 30px;\n}\n.z-crt {\n  color: #FFF;\n}\n.ctrl {\n  font-size: 50px;\n  color: #555;\n  cursor: pointer;\n}\n[[/code]]\n\n[[code type=\"JavaScript\"]]\nvar _eul = document.getElementById(\"lrc\");\nvar _line = 0;\nvar _freq = 20; // 刷新率\n\n// 当前歌词行_lineno滚动\nfunction _go(_lineno){\n  var _time = _lis[_lineno].offset;\n  if (_time > 0) {\n    setTimeout(_go.bind(this, _lineno+1), _time);\n  } else {\n    document.getElementById(\"start\").style.display=\"inline\";\n  };\n\n  // 高亮下一行歌词\n  _eul.children[_line].setAttribute(\"class\", \"\");\n  _line = _lineno;\n  var _ep = _eul.children[_lineno];\n  _ep.setAttribute(\"class\", \"z-crt\");\n\n  // 计算滚动位置\n  var _scrollTop;\n  if (_ep.offsetTop < _eul.clientHeight*.5){\n    _scrollTop = 0;\n  } else if (_ep.offsetTop > (_eul.scrollHeight - _eul.clientHeight*.5)){\n    _scrollTop = _eul.scrollHeight - _eul.clientHeight;\n  } else {\n    _scrollTop = _ep.offsetTop - _eul.clientHeight*.5;\n  };\n\n  // 当前歌词行超出显示区域范围，直接定位\n  if (_eul.scrollTop > (_scrollTop + _eul.clientHeight*.5) || (_eul.scrollTop + _eul.clientHeight*.5) < _scrollTop){\n    _eul.scrollTop = _scrollTop;\n  } else { // 滚动\n    var _step = Math.ceil(Math.abs(_eul.scrollTop - _scrollTop)/(600/_freq));\n    _scroll(_eul.scrollTop, _scrollTop, _step);\n  };\n};\n\n// 歌词滚动\nfunction _scroll(_crt, _dst, _step){\n  if(Math.abs(_crt - _dst) < _step || _eul.scrollTop < Math.min(_crt, _dst) || _eul.scrollTop > Math.max(_crt, _dst)){\n    return;\n  };\n  if(_crt < _dst){\n    _eul.scrollTop += _step;\n    _crt += _step;\n  } else {\n    _eul.scrollTop -= _step;\n    _crt -= _step;\n  };\n  setTimeout(_scroll.bind(this, _crt, _dst, _step), _freq);\n};\n\nfunction _start(){\n  _go(11);\n  document.getElementById(\"start\").style.display=\"none\";\n};\n[[/code]]\n\n[[code type=\"JavaScript\"]]\n(function(){\nfor (var i = 0; i < _lis.length; i++) {\n  var _eli = document.createElement(\"li\");\n  _eli.innerText = _lis[i].text;\n  _eul.appendChild(_eli);\n};\n})();\n[[/code]]\n--]",
  "tags": [
    "段落"
  ],
  "author": "Sekai_s",
  "created_at": "2018-11-22T08:13:59+00:00",
  "updated_at": "2019-01-17T13:58:27+00:00",
  "rating": 0,
  "_site": "scp-wiki-cn",
  "_fullname": "fragment:sonic-challenger-player-0"
}
{
  "title": "密码",
  "content": "[[iftags +组件]]\n[[div style=\"border: solid .1rem #ededed; padding: 0.325rem 1.5rem; margin: 1.5em 0;\"]]\n此组件用于创建一段位于一个密码输入模块之后的隐藏内容。\n\n使用此组件时请添加以下代码：\n\n[[div class=\"blockquote\"]]\n@@[[include :scp-wiki-cn:component:passcode@@\n|passcode=密码123\n]]\n@@[[div class=\"pass-content\"]]@@\n被隐藏的内容\n@@[[/div]]@@\n@@[[/div]]@@\n[[/div]]\n\n若需改变模块的样式，可添加{{|css=}}参数以引入定制CSS。\n\n此组件**仅**可作为表现用途，并没有任何实际上的安全功能——从其作用和目的来看，这只是个非常花哨的折叠块。\n\n++ 如何工作\n\n密码模块是一个{{[[html]]}}块，它利用了Wikidot写入内联高度样式以调整iframe大小的内建功能。\n\n此组件可重设内容内容高度至一个任意的px值（此例中为1600px），并在外部通过{{[style^=\"height: 1600\"]}}选择器检测该值，从而有效地创建动态的多状态切换。\n\n++ 著作信息\n\n密码输入正确的标识来自zackwillshon的[https://thenounproject.com/icon/checkmark-5845039/ The Noun Project]。\n[[/div]]\n[[/iftags]]\n\n[[module css]]\n.pass-wrapper { display: contents; }\niframe.pass-check {\n    display: block;\n    width: min(100%, 27.5rem);\n    height: 8.75rem!important;\n    margin: auto;\n}\n\n.pass-content { display: none; }\n.pass-check[style^=\"height: 1600\"] + .pass-content { display: block; }\n[[/module]]\n\n[[div_ class=\"pass-wrapper\"]]\n[[html class=\"pass-check\"]]\n<head>\n<meta charset=\"UTF-8\" />\n<script type=\"text/javascript\">\nfunction verify() {\n  if(document.getElementById('pw-field').value == \"{$passcode}\"){\n  document.getElementById('logic').classList.remove(\"false\");\n  document.getElementById('logic').classList.add(\"true\");\n  }\n  else {\n  document.getElementById('logic').classList.remove(\"false\");\n  document.getElementById('logic').offsetWidth;\n  document.getElementById('logic').classList.add(\"false\");\n  }\n}\n</script>\n<style type=\"text/css\">\n@import url('https://api.fonts.coollabs.io/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;700;900&display=swap');\n:where(:root) {\n    --text: 248 248 248;\n    --background: 38 44 50;\n    --main: 35 146 228;\n    --true: 43 190 75;\n    --false: 255 81 42;\n    --checkmark: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' viewBox='0 0 95 95'%3E%3Cpath d='M47.5 0a47.5 47.5 0 1 0 0 95 47.5 47.5 0 0 0 0-95Zm0 6.3a41.1 41.1 0 1 1 .1 82.3 41.1 41.1 0 0 1-.1-82.3zm22.3 22.2c-.8 0-1.6.4-2.1 1L41.2 56.7 30 45.2a3.2 3.2 0 1 0-4.6 4.4L39 63.4a3.2 3.2 0 0 0 4.5 0L72.2 34a3.2 3.2 0 0 0-2.4-5.4z'/%3E%3C/svg%3E\");\n}\nbody {\n    position: relative;\n    font-family: 'Space Mono', 'Noto Sans SC', monospace;\n}\n\n#logic {\n    display: flex;\n    flex-direction: column;\n    gap: .175rem;\n    height: 8.75rem;\n    padding: 1.375rem; padding-block-start: 0.175rem;\n    box-sizing: border-box;\n    border-radius: .625rem;\n    color: rgb(var(--text));\n    background: rgb(var(--background));\n}\n#logic::before {\n    content: \"\";\n    position: absolute;\n    width: 100%; height: 100%;\n    top: 0; left: 0;\n    pointer-events: none;\n    z-index: -1;\n}\n#logic::after {\n    content: \"\";\n    position: absolute;\n    width: 100%; height: 100%;\n    max-height: 1500px;\n    top: 0; left: 0;\n    background: rgb(var(--true));\n    pointer-events: none;\n    opacity: 0;\n    z-index: 1;\n\n    -webkit-mask: var(--checkmark) center no-repeat;\n    mask: var(--checkmark) center no-repeat;\n    -webkit-mask-size: 3.75rem;\n    mask-size: 3.75rem;\n}\n\n#logic > label {\n    text-align: center;\n    width: 100%;\n    font-size: .75em;\n    font-weight: bold;\n    font-style: italic;\n    color: rgb(var(--false));\n    visibility: hidden;\n}\n\n#pw-field {\n    appearance: none;\n    border: none;\n    border-radius: 0.25rem;\n    flex-grow: 1;\n    padding: 0.5rem;\n    font-size: 1.0125em;\n    color: inherit;\n    font-family: inherit;\n    background: rgb(var(--text)/.075);\n    outline: solid 0 rgb(var(--main));\n    transition: outline 0.175s ease-out;\n}\n#pw-field:focus-visible { outline-width: .25rem; }\n\n#enter-button {\n    appearance: none;\n    border: none;\n    border-radius: 0.25rem;\n    flex-grow: 1;\n    padding: .375rem;\n    margin-block-start: .5rem;\n    font-family: inherit;\n    font-size: .95em;\n    font-weight: bold;\n    letter-spacing: .05em;\n    text-align: center;\n    cursor: pointer;\n    background-color: rgb(var(--text));\n    color: rgb(var(--background));\n    outline: solid 0 rgb(var(--main));\n    transition: color 0.15s ease-out, background-color 0.05s ease, outline 0.175s ease-out;\n}\n#enter-button:is(:hover,:focus) {\n    background-color: rgb(var(--main));\n    color: rgb(var(--text));\n    outline-width: .25rem;\n}\n\n/*--------------------------------*/\n\n#logic.false > label {\n    visibility: visible;\n    animation: incorrect 0.175s;\n    animation-fill-mode: forwards;\n}\n@keyframes incorrect {\n0% { opacity: 0; }\n100% { opacity: 1; }\n}\n\n#logic.true::before {\n    height: 1600px;\n}\n\n#logic.true > * {\n    opacity: 0;\n    pointer-events: none;\n    user-select: none;\n    transition: opacity 0.175s ease-out 0.175s;\n}\n#logic.true::after {\n    opacity: 1;\n    transition: opacity 0.25s ease-out 0.425s;\n}\n</style>\n<style type=\"text/css\">\n{$css}\n</style>\n</head>\n<body>\n<div id=\"logic\">\n  <label for=\"if-fail\">密码错误</label>\n  <input type=\"text\" id=\"pw-field\" name=\"password\"/>\n  <input type=\"submit\" id=\"enter-button\" value=\"提交\" onclick=\"verify()\"/>\n</div>\n</body>\n[[/html]]",
  "tags": [
    "组件"
  ],
  "author": "Dr Hormress",
  "created_at": "2023-08-26T13:34:32+00:00",
  "updated_at": "2023-08-26T13:39:10+00:00",
  "rating": 3,
  "_site": "scp-wiki-cn",
  "_fullname": "component:passcode"
}